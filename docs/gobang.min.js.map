{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_regexp-exec.js","webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/es6.array.index-of.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/core-js/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/modules/es6.array.for-each.js","webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./asset/iconfont/iconfont.eot","webpack:///./node_modules/core-js/modules/_function-to-string.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///./node_modules/core-js/modules/_advance-string-index.js","webpack:///./node_modules/core-js/modules/_regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/es6.regexp.exec.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./node_modules/core-js/modules/es6.object.to-string.js","webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./asset/style/index.css?0ae2","webpack:///./asset/style/index.css","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./asset/iconfont/iconfont.css?f8f8","webpack:///./asset/iconfont/iconfont.css","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./asset/iconfont/iconfont.woff","webpack:///./asset/iconfont/iconfont.ttf","webpack:///./asset/iconfont/iconfont.svg","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/util.js","webpack:///./src/canvas.js","webpack:///./src/constant.js","webpack:///./src/scene.js","webpack:///./src/boardGird.js","webpack:///./src/chess.js","webpack:///./src/board.js","webpack:///./src/player.js","webpack:///./src/ai/chessShape.js","webpack:///./src/ai/situation.js","webpack:///./src/ai/score.js","webpack:///./src/ai/evaluate.js","webpack:///./src/ai/generate.js","webpack:///./src/ai/config.js","webpack:///./src/ai/search.js","webpack:///./src/ai/vcx.js","webpack:///./src/ai/zobrist.js","webpack:///./src/ai/history.js","webpack:///./src/ai/ai.js","webpack:///./src/game.js","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","store","uid","USE_SYMBOL","it","global","core","hide","redefine","ctx","PROTOTYPE","$export","type","source","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","target","expProto","Function","U","W","R","window","Math","self","__g","isObject","TypeError","exec","dP","createDesc","f","anObject","IE8_DOM_DEFINE","toPrimitive","O","Attributes","a","has","SRC","$toString","TO_STRING","TPL","split","inspectSource","val","safe","isFunction","join","String","this","aFunction","fn","that","length","b","apply","arguments","toInteger","min","defined","version","__e","bitmap","configurable","writable","id","px","random","concat","toString","IObject","slice","undefined","SHARED","push","copyright","toIObject","toLength","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","index","ceil","floor","isNaN","fails","method","arg","UNSCOPABLES","ArrayProto","Array","cof","TAG","ARG","T","callee","re1","re2","regexpFlags","nativeExec","RegExp","nativeReplace","replace","patchedExec","LAST_INDEX","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","str","lastIndex","reCopy","match","re","returnThis","LIBRARY","Iterators","$iterCreate","setToStringTag","getPrototypeOf","ITERATOR","BUGGY","keys","VALUES","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","methods","IteratorPrototype","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","shared","def","tag","stat","$indexOf","indexOf","NEGATIVE_ZERO","searchElement","document","is","createElement","valueOf","propertyIsEnumerable","max","$forEach","STRICT","forEach","callbackfn","pos","charCodeAt","charAt","toObject","$sort","sort","test","comparefn","isArrayIter","createProperty","getIterFn","iter","from","arrayLike","result","step","iterator","C","aLen","mapfn","mapping","iterFn","done","ret","return","classof","getIteratorMethod","SAFE_CLOSING","riter","skipClosing","arr","addToUnscopables","iterated","_t","_i","_k","Arguments","Empty","dPs","enumBugKeys","IE_PROTO","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","open","write","lt","close","Properties","$keys","$at","point","forbiddenField","BREAK","RETURN","iterable","setMeta","setDesc","META","w","isExtensible","FREEZE","preventExtensions","meta","KEY","NEED","fastKey","getWeak","onFreeze","TYPE","useSourceMap","list","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceURLs","sources","sourceRoot","mediaQuery","alreadyImportedModules","memo","stylesInDom","isOldIE","all","atob","getElement","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","attrs","nonce","nc","addAttrs","setAttribute","obj","update","remove","transform","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","cssNode","childNodes","asc","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","res","speciesConstructor","original","isArray","SPECIES","constructor","fill","end","endPos","isRegExp","advanceStringIndex","callRegExpExec","regexpExec","$min","$push","$SPLIT","LENGTH","MAX_UINT32","SUPPORTS_Y","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","string","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","splitter","regexp","rx","unicodeMatching","lim","q","A","z","MATCH","D","at","builtinExec","wks","REPLACE_SUPPORTS_NAMED_GROUPS","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","fns","nativeMethod","arg2","forceStringMethod","strfn","rxfn","forced","$includes","includes","$defineProperty","$iterators","getKeys","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","descriptor","defineProperties","arrayIndexOf","names","documentElement","ObjectProto","strong","validate","entry","getEntry","v","set","_f","k","redefineAll","anInstance","forOf","$iterDefine","setSpecies","DESCRIPTORS","SIZE","getConstructor","wrapper","ADDER","_l","clear","delete","prev","setStrong","$iterDetect","inheritIfRequired","common","IS_WEAK","fixMethod","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","setPrototypeOf","check","buggy","__proto__","pIE","gOPD","getOwnPropertyDescriptor","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","getUrl","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___","___CSS_LOADER_URL___2___","___CSS_LOADER_URL___3___","___CSS_LOADER_URL___4___","url","needQuotes","_classCallCheck","_defineProperties","props","_createClass","protoProps","staticProps","drawRadiusRect","left","top","width","height","pi","PI","beginPath","arc","closePath","Canvas","canvas","getElementById","context","getContext","boardSize","ratio","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","scale","clientWidth","clientHeight","BOARD_GRID_COLOR","BOARD_GRIDS_COUNT","CHESS_TYPE_CROSS","CHESS_TYPE_CIRCLE","SCREEN_WIDTH_RANGE","CHESS_SHAPE_SEARCH_RANGE","INFINITY","Scene","boardGridSize","showSceneEle","drawSceneEle","newBoardGridSize","resizeCount","elements","querySelectorAll","infoEle","element","lineHeight","fontSize","parseInt","getComputedStyle","BoardGrid","boardGridX","boardGridY","boardGridType","boardGridChess","boardGridRadius","boardGridColor","x","y","drawBoardGrid","drawBoardGridChess","clientX","clientY","gameCanvas","_window2Canvas","box","getBoundingClientRect","w_scale","h_scale","isPointInPath","fillStyle","clearRect","drawChess","gameChessType","chessType","chessSize","chessLineWidth","setChessSize","setChessLineWidth","Chess","boardGirdX","drawCrossChess","drawCircleChess","lineWidth","strokeStyle","stroke","size","color","cap","moveTo","lineTo","lineCap","Board","_this$calculateBoardG","calculateBoardGridChessProperty","boardGrids","row","col","setBoardGridColor","_this$calculateBoardG2","boardGrid","setBoardGridSize","setBoardGridPosition","setBoardGridChessProperty","redrawBoardGrid","redrawBoardGridChess","round","BOARD_GRID_DEFAULT_SIZE","BOARD_GRID_CHESS_DEFAULT_LINEWIDTH","Player","playerType","playerChessType","playerStatus","position","humanPlayerSteps","aiPlayerSteps","gameAI","aiChessType","setBoardGridChess","clearBoardGrid","CHESS_CROSS_SHAPES","FIVE","FOUR","BLOCKED_FOUR","THREE","BLOCKED_THREE","TWO","BLOCKED_TWO","ONE","BLOCKED_ONE","CHESS_CIRCLE_SHAPES","calculateSingleChessShapes","chessShapesTable","singleChessShapes","chessShapesCount","singleChessShape","chessShapeName","checkChessShape","barrier","chessShape","calculateAllChessShapes","boardGirds","aiChessShapesTable","humanChessShapesTable","allChessShapes","HUMAN","AI","colChessShape","rowChessShape","leftDiagonalChessShape","rightDiagonalChessShape","CHESS_SHAPES_SCORE","DOUBLE_BLOCKED_FOUR","evaluateSingleChessShapes","singleChessShapesScore","score","count","hasNeighbor","distance","len","endX","startY","endY","CONFIG","MAX_DEPTH","ITERATION_DEPTH","TIME_LIMIT","bestMove","alphaBeta","depth","maxDepth","alpha","beta","startTime","zobrist","history","isFoundPv","Date","console","log","isTimeOut","allChessShapesScore","aiScore","humanScore","legalMoves","fives","aiFours","humanFours","aiBlockedFours","humanBlockedFours","aiTwoThrees","humanTwoThrees","aiThrees","humanThrees","aiTwos","humanTwos","neighbors","aiResult","humanResult","unshift","fours","blockedFours","twos","historyMove","exact","best","hashMakeMove","hashUnMakeMove","enterHashTable","enterHistoryScore","killTable","hash_key","hash_checksum","move","Zobrist","trans_table","Map","hash_lookup","zobristInit","board","stone","History","history_score","m_TargetBuff","pow","direction","mergePass","mergeAZ","mergeZA","gameBoard","clearHistoryScore","calculateInitHashKey","initKillTable","gameHumanPlayerSteps","gameAIPlayerSteps","initAI","bestVal","Game","gameScene","humanPlayerChessType","aiPlayerChessType","gameHumanPlayer","gameAIPlayer","gameStatus","calculateBoardGridSize","initGameCanvas","initGameBoard","initGamePlayer","initGameScene","addGameSceneListener","addBoardListener","initGameAI","initScene","getBoardSize","setCanvasSize","initBoardGrids","addGameSceneChessListener","addGameSceneResizeListener","addGameSceneChessCrossListener","addGameSceneChessCircleListener","_this","addEventListener","resetBoardGrids","_this2","generatePlayerChess","getGameAIFistStep","addGameSceneZoomOutListener","addGameSceneZoomInListener","_this3","event","oldBoardGridSize","_this3$getGameSize","getGameSize","newBoardSize","resizeGame","_this4","_this4$getGameSize","resizeBoardGrids","_this5","onClickBoard","alert","isInBoardGird","humanNextStep","checkGameStatus","aiNextStep","getGameAINextStep","_this$gameAI$getNextS","getNextStep","body","sizes","onload","createGame"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,KACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,KAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,cAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,YAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,cAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA2B,SAC3B,WAAiC,OAAA3B,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAkB,EAAAC,GAAsD,OAAAlB,OAAAmB,UAAAC,eAAA3B,KAAAwB,EAAAC,IAGtDhC,EAAAmC,EAAA,GAIAnC,IAAAoC,EAAA,gBAAAC,EAAAf,EAAAJ,GClFA,IAAAoB,EAAYtC,EAAQ,GAARA,CAAmB,OAC/BuC,EAAUvC,EAAQ,IAClBmB,EAAanB,EAAQ,GAAWmB,OAChCqB,EAAA,mBAAArB,GAEAhB,EAAAD,QAAA,SAAAS,GACA,OAAA2B,EAAA3B,KAAA2B,EAAA3B,GACA6B,GAAArB,EAAAR,KAAA6B,EAAArB,EAAAoB,GAAA,UAAA5B,MAGA2B,uBCVAnC,EAAAD,QAAA,SAAAuC,GACA,uBAAAA,EAAA,OAAAA,EAAA,mBAAAA,oBCDA,IAAAC,EAAa1C,EAAQ,GACrB2C,EAAW3C,EAAQ,IACnB4C,EAAW5C,EAAQ,GACnB6C,EAAe7C,EAAQ,GACvB8C,EAAU9C,EAAQ,IAClB+C,EAAA,YAEAC,EAAA,SAAAC,EAAAtC,EAAAuC,GACA,IAQAvB,EAAAwB,EAAAC,EAAAC,EARAC,EAAAL,EAAAD,EAAAO,EACAC,EAAAP,EAAAD,EAAAS,EACAC,EAAAT,EAAAD,EAAAW,EACAC,EAAAX,EAAAD,EAAAa,EACAC,EAAAb,EAAAD,EAAAe,EACAC,EAAAR,EAAAd,EAAAgB,EAAAhB,EAAA/B,KAAA+B,EAAA/B,GAAA,KAAkF+B,EAAA/B,IAAA,IAAuBoC,GACzG7C,EAAAsD,EAAAb,IAAAhC,KAAAgC,EAAAhC,GAAA,IACAsD,EAAA/D,EAAA6C,KAAA7C,EAAA6C,GAAA,IAGA,IAAApB,KADA6B,IAAAN,EAAAvC,GACAuC,EAIAE,IAFAD,GAAAG,GAAAU,cAAArC,IAEAqC,EAAAd,GAAAvB,GAEA0B,EAAAS,GAAAX,EAAAL,EAAAM,EAAAV,GAAAkB,GAAA,mBAAAR,EAAAN,EAAAoB,SAAA3D,KAAA6C,KAEAY,GAAAnB,EAAAmB,EAAArC,EAAAyB,EAAAH,EAAAD,EAAAmB,GAEAjE,EAAAyB,IAAAyB,GAAAR,EAAA1C,EAAAyB,EAAA0B,GACAO,GAAAK,EAAAtC,IAAAyB,IAAAa,EAAAtC,GAAAyB,IAGAV,EAAAC,OAEAK,EAAAO,EAAA,EACAP,EAAAS,EAAA,EACAT,EAAAW,EAAA,EACAX,EAAAa,EAAA,EACAb,EAAAe,EAAA,GACAf,EAAAoB,EAAA,GACApB,EAAAmB,EAAA,GACAnB,EAAAqB,EAAA,IACAlE,EAAAD,QAAA8C,iBCzCA,IAAAN,EAAAvC,EAAAD,QAAA,oBAAAoE,eAAAC,WACAD,OAAA,oBAAAE,WAAAD,WAAAC,KAEAN,SAAA,cAAAA,GACA,iBAAAO,UAAA/B,oBCLA,IAAAgC,EAAe1E,EAAQ,GACvBG,EAAAD,QAAA,SAAAuC,GACA,IAAAiC,EAAAjC,GAAA,MAAAkC,UAAAlC,EAAA,sBACA,OAAAA,kBCHAtC,EAAAD,QAAA,SAAA0E,GACA,IACA,QAAAA,IACG,MAAAvC,GACH,qBAAAA,EAAAf,EAAAJ,GCJA,IAAA2D,EAAS7E,EAAQ,GACjB8E,EAAiB9E,EAAQ,IACzBG,EAAAD,QAAiBF,EAAQ,GAAgB,SAAA+B,EAAAJ,EAAAN,GACzC,OAAAwD,EAAAE,EAAAhD,EAAAJ,EAAAmD,EAAA,EAAAzD,KACC,SAAAU,EAAAJ,EAAAN,GAED,OADAU,EAAAJ,GAAAN,EACAU,oBCNA,IAAAiD,EAAehF,EAAQ,GACvBiF,EAAqBjF,EAAQ,IAC7BkF,EAAkBlF,EAAQ,IAC1B6E,EAAA/D,OAAAC,eAEAb,EAAA6E,EAAY/E,EAAQ,GAAgBc,OAAAC,eAAA,SAAAoE,EAAAtB,EAAAuB,GAIpC,GAHAJ,EAAAG,GACAtB,EAAAqB,EAAArB,MACAmB,EAAAI,GACAH,EAAA,IACA,OAAAJ,EAAAM,EAAAtB,EAAAuB,GACG,MAAA/C,IACH,WAAA+C,GAAA,QAAAA,EAAA,MAAAT,UAAA,4BAEA,MADA,UAAAS,IAAAD,EAAAtB,GAAAuB,EAAA/D,OACA8D,oBCbAhF,EAAAD,SAAkBF,EAAQ,EAARA,CAAkB,WACpC,OAA0E,GAA1Ec,OAAAC,eAAA,GAAiC,KAAQE,IAAA,WAAmB,YAAcoE,qBCF1E,IAAA3C,EAAa1C,EAAQ,GACrB4C,EAAW5C,EAAQ,GACnBsF,EAAUtF,EAAQ,IAClBuF,EAAUvF,EAAQ,GAARA,CAAgB,OAC1BwF,EAAgBxF,EAAQ,IACxByF,EAAA,WACAC,GAAA,GAAAF,GAAAG,MAAAF,GAEAzF,EAAQ,IAAS4F,cAAA,SAAAnD,GACjB,OAAA+C,EAAAjF,KAAAkC,KAGAtC,EAAAD,QAAA,SAAAiF,EAAAxD,EAAAkE,EAAAC,GACA,IAAAC,EAAA,mBAAAF,EACAE,IAAAT,EAAAO,EAAA,SAAAjD,EAAAiD,EAAA,OAAAlE,IACAwD,EAAAxD,KAAAkE,IACAE,IAAAT,EAAAO,EAAAN,IAAA3C,EAAAiD,EAAAN,EAAAJ,EAAAxD,GAAA,GAAAwD,EAAAxD,GAAA+D,EAAAM,KAAAC,OAAAtE,MACAwD,IAAAzC,EACAyC,EAAAxD,GAAAkE,EACGC,EAGAX,EAAAxD,GACHwD,EAAAxD,GAAAkE,EAEAjD,EAAAuC,EAAAxD,EAAAkE,WALAV,EAAAxD,GACAiB,EAAAuC,EAAAxD,EAAAkE,OAOC3B,SAAAjC,UAAAwD,EAAA,WACD,yBAAAS,WAAAX,IAAAC,EAAAjF,KAAA2F,uBC7BA,IAAAhE,EAAA,GAAuBA,eACvB/B,EAAAD,QAAA,SAAAuC,EAAAd,GACA,OAAAO,EAAA3B,KAAAkC,EAAAd,qBCDA,IAAAwE,EAAgBnG,EAAQ,IACxBG,EAAAD,QAAA,SAAAkG,EAAAC,EAAAC,GAEA,GADAH,EAAAC,YACAC,EAAA,OAAAD,EACA,OAAAE,GACA,uBAAAjB,GACA,OAAAe,EAAA7F,KAAA8F,EAAAhB,IAEA,uBAAAA,EAAAkB,GACA,OAAAH,EAAA7F,KAAA8F,EAAAhB,EAAAkB,IAEA,uBAAAlB,EAAAkB,EAAA9F,GACA,OAAA2F,EAAA7F,KAAA8F,EAAAhB,EAAAkB,EAAA9F,IAGA,kBACA,OAAA2F,EAAAI,MAAAH,EAAAI,8BChBA,IAAAC,EAAgB1G,EAAQ,IACxB2G,EAAApC,KAAAoC,IACAxG,EAAAD,QAAA,SAAAuC,GACA,SAAAA,EAAAkE,EAAAD,EAAAjE,GAAA,+BAAAJ,EAAAf,EAAAJ,GCHA,IAAA0F,EAAc5G,EAAQ,IACtBG,EAAAD,QAAA,SAAAuC,GACA,OAAA3B,OAAA8F,EAAAnE,oBCHAtC,EAAAD,QAAA,aAAAmC,EAAAf,GCAA,IAAAqB,EAAAxC,EAAAD,QAAA,CAA6B2G,QAAA,SAC7B,iBAAAC,UAAAnE,kBCDAxC,EAAAD,QAAA,SAAA6G,EAAA1F,GACA,OACAL,aAAA,EAAA+F,GACAC,eAAA,EAAAD,GACAE,WAAA,EAAAF,GACA1F,yBCLA,IAAA6F,EAAA,EACAC,EAAA5C,KAAA6C,SACAjH,EAAAD,QAAA,SAAAyB,GACA,gBAAA0F,gBAAA1F,EAAA,GAAAA,EAAA,QAAAuF,EAAAC,GAAAG,SAAA,gBAAAjF,EAAAf,EAAAJ,GCFA,IAAAqG,EAAcvH,EAAQ,IACtB4G,EAAc5G,EAAQ,IACtBG,EAAAD,QAAA,SAAAuC,GACA,OAAA8E,EAAAX,EAAAnE,oBCJA,IAAA6E,EAAA,GAAiBA,SAEjBnH,EAAAD,QAAA,SAAAuC,GACA,OAAA6E,EAAA/G,KAAAkC,GAAA+E,MAAA,iBAAAnF,EAAAf,GCFAnB,EAAAD,QAAA,SAAAuC,GACA,GAAAgF,MAAAhF,EAAA,MAAAkC,UAAA,yBAAAlC,GACA,OAAAA,oBCHA,IAAAE,EAAW3C,EAAQ,IACnB0C,EAAa1C,EAAQ,GACrB0H,EAAA,qBACApF,EAAAI,EAAAgF,KAAAhF,EAAAgF,GAAA,KAEAvH,EAAAD,QAAA,SAAAyB,EAAAN,GACA,OAAAiB,EAAAX,KAAAW,EAAAX,YAAAN,IAAA,MACC,eAAAsG,KAAA,CACDd,QAAAlE,EAAAkE,QACAtF,KAAQvB,EAAQ,IAAY,gBAC5B4H,UAAA,mDAAAvF,EAAAf,GCVAnB,EAAAD,QAAA,SAAAuC,GACA,sBAAAA,EAAA,MAAAkC,UAAAlC,EAAA,uBACA,OAAAA,oBCAA,IAAAoF,EAAgB7H,EAAQ,IACxB8H,EAAe9H,EAAQ,IACvB+H,EAAsB/H,EAAQ,IAC9BG,EAAAD,QAAA,SAAA8H,GACA,gBAAAC,EAAAC,EAAAC,GACA,IAGA9G,EAHA8D,EAAA0C,EAAAI,GACA3B,EAAAwB,EAAA3C,EAAAmB,QACA8B,EAAAL,EAAAI,EAAA7B,GAIA,GAAA0B,GAAAE,MAAA,KAAAE,EAAA9B,GAGA,IAFAjF,EAAA8D,EAAAiD,OAEA/G,EAAA,cAEK,KAAY+G,EAAA9B,EAAe8B,IAAA,IAAAJ,GAAAI,KAAAjD,IAChCA,EAAAiD,KAAAF,EAAA,OAAAF,GAAAI,GAAA,EACK,OAAAJ,IAAA,cAAA3F,EAAAf,GCnBL,IAAA+G,EAAA9D,KAAA8D,KACAC,EAAA/D,KAAA+D,MACAnI,EAAAD,QAAA,SAAAuC,GACA,OAAA8F,MAAA9F,MAAA,KAAAA,EAAA6F,EAAAD,GAAA5F,kCCHA,IAAA+F,EAAYxI,EAAQ,GAEpBG,EAAAD,QAAA,SAAAuI,EAAAC,GACA,QAAAD,GAAAD,EAAA,WAEAE,EAAAD,EAAAlI,KAAA,kBAAuD,GAAAkI,EAAAlI,KAAA,mBAAA8B,EAAAf,EAAAJ,GCLvD,IAAAyH,EAAkB3I,EAAQ,EAARA,CAAgB,eAClC4I,EAAAC,MAAA5G,UACAwF,MAAAmB,EAAAD,IAA0C3I,EAAQ,EAARA,CAAiB4I,EAAAD,EAAA,IAC3DxI,EAAAD,QAAA,SAAAyB,GACAiH,EAAAD,GAAAhH,QAAA,SAAAU,EAAAf,EAAAJ,GCJA,IAAA4H,EAAU9I,EAAQ,IAClB+I,EAAU/I,EAAQ,EAARA,CAAgB,eAE1BgJ,EAA+C,aAA/CF,EAAA,WAA2B,OAAArC,UAA3B,IASAtG,EAAAD,QAAA,SAAAuC,GACA,IAAA0C,EAAA8D,EAAAlF,EACA,gBAAAtB,EAAA,mBAAAA,EAAA,OAEA,iBAAAwG,EAVA,SAAAxG,EAAAd,GACA,IACA,OAAAc,EAAAd,GACG,MAAAU,KAHH,CAUA8C,EAAArE,OAAA2B,GAAAsG,IAAAE,EAEAD,EAAAF,EAAA3D,GAEA,WAAApB,EAAA+E,EAAA3D,KAAA,mBAAAA,EAAA+D,OAAA,YAAAnF,iCCnBA,IAaAoF,EACAC,EAdAC,EAAkBrJ,EAAQ,IAE1BsJ,EAAAC,OAAAtH,UAAA2C,KAIA4E,EAAAvD,OAAAhE,UAAAwH,QAEAC,EAAAJ,EAEAK,EAAA,YAEAC,GACAT,EAAA,IACAC,EAAA,MACAE,EAAA/I,KAAA4I,EAAA,KACAG,EAAA/I,KAAA6I,EAAA,KACA,IAAAD,EAAAQ,IAAA,IAAAP,EAAAO,IAIAE,WAAA,OAAAjF,KAAA,QAEAgF,GAAAC,KAGAH,EAAA,SAAAI,GACA,IACAC,EAAAC,EAAAC,EAAA7J,EADA8J,EAAAhE,KAwBA,OArBA2D,IACAG,EAAA,IAAAT,OAAA,IAAAW,EAAAhH,OAAA,WAAAmG,EAAA9I,KAAA2J,KAEAN,IAAAG,EAAAG,EAAAP,IAEAM,EAAAX,EAAA/I,KAAA2J,EAAAJ,GAEAF,GAAAK,IACAC,EAAAP,GAAAO,EAAAxH,OAAAuH,EAAA7B,MAAA6B,EAAA,GAAA3D,OAAAyD,GAEAF,GAAAI,GAAA,EAAAA,EAAA3D,QAIAkD,EAAAjJ,KAAA0J,EAAA,GAAAD,EAAA,WACA,IAAA5J,EAAA,EAAmBA,EAAAqG,UAAAH,OAAA,EAA0BlG,aAC7CqG,UAAArG,KAAA6J,EAAA7J,aAKA6J,IAIA9J,EAAAD,QAAAwJ,gCC1CA,SAAAS,IAA8B,OAAAjE,KAd9B,IAAAkE,EAAcpK,EAAQ,IACtBgD,EAAchD,EAAQ,GACtB6C,EAAe7C,EAAQ,GACvB4C,EAAW5C,EAAQ,GACnBqK,EAAgBrK,EAAQ,IACxBsK,EAAkBtK,EAAQ,IAC1BuK,EAAqBvK,EAAQ,IAC7BwK,EAAqBxK,EAAQ,IAC7ByK,EAAezK,EAAQ,EAARA,CAAgB,YAC/B0K,IAAA,GAAAC,MAAA,WAAAA,QAGAC,EAAA,SAIAzK,EAAAD,QAAA,SAAA2K,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAEA,SAAAC,EAAAC,GACA,IAAAX,GAAAW,KAAAC,EAAA,OAAAA,EAAAD,GACA,OAAAA,GACA,IAVA,OAWA,KAAAT,EAAA,kBAA6C,WAAAG,EAAA7E,KAAAmF,IACxC,kBAA4B,WAAAN,EAAA7E,KAAAmF,IANjCf,EAAAS,EAAAD,EAAAE,GACA,IAeAO,EAAA5J,EAAA6J,EARAzC,EAAA+B,EAAA,YACAW,EAAAR,GAAAL,EACAc,KACAJ,EAAAT,EAAA5I,UACA0J,EAAAL,EAAAb,IAAAa,EAnBA,eAmBAL,GAAAK,EAAAL,GACAW,EAAAD,GAAAP,EAAAH,GACAY,EAAAZ,EAAAQ,EAAAL,EAAA,WAAAQ,SACAE,EAAA,SAAAhB,GAAAQ,EAAAS,SAAAJ,EAwBA,GArBAG,IACAN,EAAAhB,EAAAsB,EAAAvL,KAAA,IAAAsK,OACA/J,OAAAmB,WAAAuJ,EAAAR,OAEAT,EAAAiB,EAAAzC,MAEAqB,GAAA,mBAAAoB,EAAAf,IAAA7H,EAAA4I,EAAAf,EAAAN,IAIAsB,GAAAE,KAAAhL,OAAAiK,IACAc,KACAE,EAAA,WAAkC,OAAAD,EAAApL,KAAA2F,QAGlCkE,IAAAe,IAAAT,IAAAgB,GAAAJ,EAAAb,IACA7H,EAAA0I,EAAAb,EAAAmB,GAGAvB,EAAAS,GAAAc,EACAvB,EAAAtB,GAAAoB,EACAc,EAMA,GALAM,EAAA,CACAS,OAAAP,EAAAG,EAAAR,EAAAR,GACAD,KAAAO,EAAAU,EAAAR,EAhDA,QAiDAW,QAAAF,GAEAV,EAAA,IAAAxJ,KAAA4J,EACA5J,KAAA2J,GAAAzI,EAAAyI,EAAA3J,EAAA4J,EAAA5J,SACKqB,IAAAa,EAAAb,EAAAO,GAAAmH,GAAAgB,GAAAZ,EAAAS,GAEL,OAAAA,oBCnEA,IAAAU,EAAajM,EAAQ,GAARA,CAAmB,QAChCuC,EAAUvC,EAAQ,IAClBG,EAAAD,QAAA,SAAAyB,GACA,OAAAsK,EAAAtK,KAAAsK,EAAAtK,GAAAY,EAAAZ,sBCHA,IAAAuK,EAAUlM,EAAQ,GAAc+E,EAChCO,EAAUtF,EAAQ,IAClB+I,EAAU/I,EAAQ,EAARA,CAAgB,eAE1BG,EAAAD,QAAA,SAAAuC,EAAA0J,EAAAC,GACA3J,IAAA6C,EAAA7C,EAAA2J,EAAA3J,IAAAR,UAAA8G,IAAAmD,EAAAzJ,EAAAsG,EAAA,CAAoE/B,gBAAA3F,MAAA8K,mCCJpE,IAAAnJ,EAAchD,EAAQ,GACtBqM,EAAerM,EAAQ,GAARA,KACf2L,EAAA,GAAAW,QACAC,IAAAZ,GAAA,MAAAW,QAAA,QAEAtJ,IAAAa,EAAAb,EAAAO,GAAAgJ,IAAmDvM,EAAQ,GAARA,CAA0B2L,IAAA,SAE7EW,QAAA,SAAAE,EAAAlL,GACA,OAAAiL,EAEAZ,EAAAnF,MAAAN,KAAAO,YAAA,EACA4F,EAAAnG,KAAAsG,EAJAlL,OAAA,SAAAe,EAAAf,EAAAJ,GCRAf,EAAAD,SAAkBF,EAAQ,KAAsBA,EAAQ,EAARA,CAAkB,WAClE,OAAuG,GAAvGc,OAAAC,eAA+Bf,EAAQ,GAARA,CAAuB,YAAgBiB,IAAA,WAAmB,YAAcoE,qBCDvG,IAAAX,EAAe1E,EAAQ,GACvByM,EAAezM,EAAQ,GAAWyM,SAElCC,EAAAhI,EAAA+H,IAAA/H,EAAA+H,EAAAE,eACAxM,EAAAD,QAAA,SAAAuC,GACA,OAAAiK,EAAAD,EAAAE,cAAAlK,GAAA,cAAAJ,EAAAf,EAAAJ,GCJA,IAAAwD,EAAe1E,EAAQ,GAGvBG,EAAAD,QAAA,SAAAuC,EAAAkB,GACA,IAAAe,EAAAjC,GAAA,OAAAA,EACA,IAAA2D,EAAAP,EACA,GAAAlC,GAAA,mBAAAyC,EAAA3D,EAAA6E,YAAA5C,EAAAmB,EAAAO,EAAA7F,KAAAkC,IAAA,OAAAoD,EACA,sBAAAO,EAAA3D,EAAAmK,WAAAlI,EAAAmB,EAAAO,EAAA7F,KAAAkC,IAAA,OAAAoD,EACA,IAAAlC,GAAA,mBAAAyC,EAAA3D,EAAA6E,YAAA5C,EAAAmB,EAAAO,EAAA7F,KAAAkC,IAAA,OAAAoD,EACA,MAAAlB,UAAA,sDAAAtC,EAAAf,GCVAnB,EAAAD,YAAA,SAAAmC,EAAAf,EAAAJ,GCCA,IAAA4H,EAAU9I,EAAQ,IAElBG,EAAAD,QAAAY,OAAA,KAAA+L,qBAAA,GAAA/L,OAAA,SAAA2B,GACA,gBAAAqG,EAAArG,KAAAkD,MAAA,IAAA7E,OAAA2B,qBCJA,IAAAiE,EAAgB1G,EAAQ,IACxB8M,EAAAvI,KAAAuI,IACAnG,EAAApC,KAAAoC,IACAxG,EAAAD,QAAA,SAAAkI,EAAA9B,GAEA,OADA8B,EAAA1B,EAAA0B,IACA,EAAA0E,EAAA1E,EAAA9B,EAAA,GAAAK,EAAAyB,EAAA9B,kCCJA,IAAAtD,EAAchD,EAAQ,GACtB+M,EAAe/M,EAAQ,GAARA,CAA0B,GACzCgN,EAAahN,EAAQ,GAARA,CAA0B,GAAAiN,YAEvCjK,IAAAa,EAAAb,EAAAO,GAAAyJ,EAAA,SAEAC,QAAA,SAAAC,EAAA5L,GACA,OAAAyL,EAAA7G,KAAAgH,EADA5L,OAAA,SAAAe,EAAAf,EAAAJ,GCPA,IAAAwF,EAAgB1G,EAAQ,IACxB4G,EAAc5G,EAAQ,IAGtBG,EAAAD,QAAA,SAAAuF,GACA,gBAAAY,EAAA8G,GACA,IAGA9H,EAAAkB,EAHAnE,EAAA6D,OAAAW,EAAAP,IACAjG,EAAAsG,EAAAyG,GACA9M,EAAA+B,EAAAkE,OAEA,OAAAlG,EAAA,GAAAC,GAAAD,EAAAqF,EAAA,WACAJ,EAAAjD,EAAAgL,WAAAhN,IACA,aAAAiF,GAAAjF,EAAA,IAAAC,IAAAkG,EAAAnE,EAAAgL,WAAAhN,EAAA,iBAAAmG,EACAd,EAAArD,EAAAiL,OAAAjN,GAAAiF,EACAI,EAAArD,EAAAoF,MAAApH,IAAA,GAAAmG,EAAA,OAAAlB,EAAA,6BAAAhD,EAAAf,EAAAJ,GAAA,aCbA,IAAA8B,EAAchD,EAAQ,GACtBmG,EAAgBnG,EAAQ,IACxBsN,EAAetN,EAAQ,IACvBwI,EAAYxI,EAAQ,GACpBuN,EAAA,GAAAC,KACAC,EAAA,QAEAzK,IAAAa,EAAAb,EAAAO,GAAAiF,EAAA,WAEAiF,EAAAD,iBACChF,EAAA,WAEDiF,EAAAD,KAAA,UAEOxN,EAAQ,GAARA,CAA0BuN,IAAA,SAEjCC,KAAA,SAAAE,GACA,gBAAAA,EACAH,EAAAhN,KAAA+M,EAAApH,OACAqH,EAAAhN,KAAA+M,EAAApH,MAAAC,EAAAuH,qCCnBA,IAAA5K,EAAU9C,EAAQ,IAClBgD,EAAchD,EAAQ,GACtBsN,EAAetN,EAAQ,IACvBO,EAAWP,EAAQ,IACnB2N,EAAkB3N,EAAQ,IAC1B8H,EAAe9H,EAAQ,IACvB4N,EAAqB5N,EAAQ,IAC7B6N,EAAgB7N,EAAQ,IAExBgD,IAAAW,EAAAX,EAAAO,GAAiCvD,EAAQ,GAARA,CAAwB,SAAA8N,GAAmBjF,MAAAkF,KAAAD,KAAoB,SAEhGC,KAAA,SAAAC,EAAA1M,EAAAJ,GACA,IAOAoF,EAAA2H,EAAAC,EAAAC,EAPAhJ,EAAAmI,EAAAU,GACAI,EAAA,mBAAAlI,UAAA2C,MACAwF,EAAA5H,UAAAH,OACAgI,EAAA,EAAAD,EAJA/M,OAAA,EAKAiN,WAAAD,EACAlG,EAAA,EACAoG,EAAAX,EAAA1I,GAIA,GAFAoJ,IAAAD,EAAAxL,EAAAwL,EAAA,EAAAD,EATAnN,OAAA,EASA,IAEAuG,MAAA+G,GAAAJ,GAAAvF,OAAA8E,EAAAa,GAMA,IAAAP,EAAA,IAAAG,EADA9H,EAAAwB,EAAA3C,EAAAmB,SACkC8B,EAAA9B,EAAgB8B,IAClDwF,EAAAK,EAAA7F,EAAAmG,EAAAD,EAAAnJ,EAAAiD,MAAAjD,EAAAiD,SANA,IAAA+F,EAAAK,EAAAjO,KAAA4E,GAAA8I,EAAA,IAAAG,IAAuDF,EAAAC,EAAAnD,QAAAyD,KAAgCrG,IACvFwF,EAAAK,EAAA7F,EAAAmG,EAAAhO,EAAA4N,EAAAG,EAAA,CAAAJ,EAAA7M,MAAA+G,OAAA8F,EAAA7M,OASA,OADA4M,EAAA3H,OAAA8B,EACA6F,sBCjCA,IAAAjJ,EAAehF,EAAQ,GACvBG,EAAAD,QAAA,SAAAiO,EAAA/H,EAAA/E,EAAA0K,GACA,IACA,OAAAA,EAAA3F,EAAApB,EAAA3D,GAAA,GAAAA,EAAA,IAAA+E,EAAA/E,GAEG,MAAAgB,GACH,IAAAqM,EAAAP,EAAAQ,OAEA,eADAD,GAAA1J,EAAA0J,EAAAnO,KAAA4N,IACA9L,qBCRA,IAAAgI,EAAgBrK,EAAQ,IACxByK,EAAezK,EAAQ,EAARA,CAAgB,YAC/B4I,EAAAC,MAAA5G,UAEA9B,EAAAD,QAAA,SAAAuC,GACA,gBAAAA,IAAA4H,EAAAxB,QAAApG,GAAAmG,EAAA6B,KAAAhI,qBCNA,IAAAmM,EAAc5O,EAAQ,IACtByK,EAAezK,EAAQ,EAARA,CAAgB,YAC/BqK,EAAgBrK,EAAQ,IACxBG,EAAAD,QAAiBF,EAAQ,IAAS6O,kBAAA,SAAApM,GAClC,GAAAgF,MAAAhF,EAAA,OAAAA,EAAAgI,IACAhI,EAAA,eACA4H,EAAAuE,EAAAnM,sBCNA,IAAAgI,EAAezK,EAAQ,EAARA,CAAgB,YAC/B8O,KAEA,IACA,IAAAC,EAAA,IAAAtE,KACAsE,EAAAJ,OAAA,WAAiCG,MAEjCjG,MAAAkF,KAAAgB,EAAA,WAAiC,UAChC,MAAA1M,IAEDlC,EAAAD,QAAA,SAAA0E,EAAAoK,GACA,IAAAA,IAAAF,EAAA,SACA,IAAAhJ,KACA,IACA,IAAAmJ,EAAA,IACAnB,EAAAmB,EAAAxE,KACAqD,EAAA9C,KAAA,WAA6B,OAASyD,KAAA3I,OACtCmJ,EAAAxE,GAAA,WAAiC,OAAAqD,GACjClJ,EAAAqK,GACG,MAAA5M,IACH,OAAAyD,iCCnBA,IAAAoJ,EAAuBlP,EAAQ,IAC/BkO,EAAWlO,EAAQ,IACnBqK,EAAgBrK,EAAQ,IACxB6H,EAAgB7H,EAAQ,IAMxBG,EAAAD,QAAiBF,EAAQ,GAARA,CAAwB6I,MAAA,iBAAAsG,EAAA9D,GACzCnF,KAAAkJ,GAAAvH,EAAAsH,GACAjJ,KAAAmJ,GAAA,EACAnJ,KAAAoJ,GAAAjE,GAEC,WACD,IAAAlG,EAAAe,KAAAkJ,GACA/D,EAAAnF,KAAAoJ,GACAlH,EAAAlC,KAAAmJ,KACA,OAAAlK,GAAAiD,GAAAjD,EAAAmB,QACAJ,KAAAkJ,UACAlB,EAAA,IAEAA,EAAA,UAAA7C,EAAAjD,EACA,UAAAiD,EAAAlG,EAAAiD,GACA,CAAAA,EAAAjD,EAAAiD,MACC,UAGDiC,EAAAkF,UAAAlF,EAAAxB,MAEAqG,EAAA,QACAA,EAAA,UACAA,EAAA,qBAAA7M,EAAAf,GCjCAnB,EAAAD,QAAA,SAAAuO,EAAApN,GACA,OAAUA,QAAAoN,4BCIV,SAAAe,KAJA,IAAAxK,EAAehF,EAAQ,GACvByP,EAAUzP,EAAQ,IAClB0P,EAAkB1P,EAAQ,IAC1B2P,EAAe3P,EAAQ,GAARA,CAAuB,YAEtC+C,EAAA,YAGA6M,EAAA,WAEA,IAIAC,EAJAC,EAAe9P,EAAQ,GAARA,CAAuB,UACtCI,EAAAsP,EAAApJ,OAcA,IAVAwJ,EAAAC,MAAAC,QAAA,OACEhQ,EAAQ,IAASiQ,YAAAH,GACnBA,EAAAI,IAAA,eAGAL,EAAAC,EAAAK,cAAA1D,UACA2D,OACAP,EAAAQ,MAAAC,uCACAT,EAAAU,QACAX,EAAAC,EAAAtM,EACAnD,YAAAwP,EAAA7M,GAAA2M,EAAAtP,IACA,OAAAwP,KAGAzP,EAAAD,QAAAY,OAAAY,QAAA,SAAAyD,EAAAqL,GACA,IAAAvC,EAQA,OAPA,OAAA9I,GACAqK,EAAAzM,GAAAiC,EAAAG,GACA8I,EAAA,IAAAuB,EACAA,EAAAzM,GAAA,KAEAkL,EAAA0B,GAAAxK,GACG8I,EAAA2B,aACHY,EAAAvC,EAAAwB,EAAAxB,EAAAuC,qBCtCA,IAAAC,EAAYzQ,EAAQ,IACpB0P,EAAkB1P,EAAQ,IAE1BG,EAAAD,QAAAY,OAAA6J,MAAA,SAAAxF,GACA,OAAAsL,EAAAtL,EAAAuK,mBCJAvP,EAAAD,QAAA,gGAEAyF,MAAA,eAAAtD,EAAAf,EAAAJ,GAAA,aCFA,IAAAwP,EAAU1Q,EAAQ,GAARA,KAGVA,EAAQ,GAARA,CAAwBiG,OAAA,kBAAAkJ,GACxBjJ,KAAAkJ,GAAAnJ,OAAAkJ,GACAjJ,KAAAmJ,GAAA,GAEC,WACD,IAEAsB,EAFAxL,EAAAe,KAAAkJ,GACAhH,EAAAlC,KAAAmJ,GAEA,OAAAjH,GAAAjD,EAAAmB,OAAA,CAAiCjF,aAAAoN,UACjCkC,EAAAD,EAAAvL,EAAAiD,GACAlC,KAAAmJ,IAAAsB,EAAArK,OACA,CAAUjF,MAAAsP,EAAAlC,aAAA,SAAApM,EAAAf,EAAAJ,GCfV,IAAA2B,EAAe7C,EAAQ,GACvBG,EAAAD,QAAA,SAAA8D,EAAAkM,EAAApK,GACA,QAAAnE,KAAAuO,EAAArN,EAAAmB,EAAArC,EAAAuO,EAAAvO,GAAAmE,GACA,OAAA9B,kBCHA7D,EAAAD,QAAA,SAAAuC,EAAAsI,EAAApK,EAAAiQ,GACA,KAAAnO,aAAAsI,aAAA6F,QAAAnO,EACA,MAAAkC,UAAAhE,EAAA,2BACG,OAAA8B,oBCHH,IAAAK,EAAU9C,EAAQ,IAClBO,EAAWP,EAAQ,IACnB2N,EAAkB3N,EAAQ,IAC1BgF,EAAehF,EAAQ,GACvB8H,EAAe9H,EAAQ,IACvB6N,EAAgB7N,EAAQ,IACxB6Q,EAAA,GACAC,EAAA,IACA5Q,EAAAC,EAAAD,QAAA,SAAA6Q,EAAAhF,EAAA3F,EAAAC,EAAAoE,GACA,IAGAnE,EAAA4H,EAAAC,EAAAF,EAHAO,EAAA/D,EAAA,WAAuC,OAAAsG,GAAmBlD,EAAAkD,GAC1DhM,EAAAjC,EAAAsD,EAAAC,EAAA0F,EAAA,KACA3D,EAAA,EAEA,sBAAAoG,EAAA,MAAA7J,UAAAoM,EAAA,qBAEA,GAAApD,EAAAa,IAAA,IAAAlI,EAAAwB,EAAAiJ,EAAAzK,QAAmE8B,EAAA9B,EAAgB8B,IAEnF,IADA6F,EAAAlC,EAAAhH,EAAAC,EAAAkJ,EAAA6C,EAAA3I,IAAA,GAAA8F,EAAA,IAAAnJ,EAAAgM,EAAA3I,OACAyI,GAAA5C,IAAA6C,EAAA,OAAA7C,OACG,IAAAE,EAAAK,EAAAjO,KAAAwQ,KAA4C7C,EAAAC,EAAAnD,QAAAyD,MAE/C,IADAR,EAAA1N,EAAA4N,EAAApJ,EAAAmJ,EAAA7M,MAAA0K,MACA8E,GAAA5C,IAAA6C,EAAA,OAAA7C,IAGA4C,QACA3Q,EAAA4Q,0BCbA,SAAAE,EAAAvO,GACAwO,EAAAxO,EAAAyO,EAAA,CAAqB7P,MAAA,CACrBjB,EAAA,OAAA8G,EACAiK,EAAA,MAdA,IAAAD,EAAWlR,EAAQ,GAARA,CAAgB,QAC3B0E,EAAe1E,EAAQ,GACvBsF,EAAUtF,EAAQ,IAClBiR,EAAcjR,EAAQ,GAAc+E,EACpCmC,EAAA,EACAkK,EAAAtQ,OAAAsQ,cAAA,WACA,UAEAC,GAAcrR,EAAQ,EAARA,CAAkB,WAChC,OAAAoR,EAAAtQ,OAAAwQ,kBAAA,OAqCAC,EAAApR,EAAAD,QAAA,CACAsR,IAAAN,EACAO,QACAC,QAhCA,SAAAjP,EAAAf,GAEA,IAAAgD,EAAAjC,GAAA,uBAAAA,KAAA,iBAAAA,EAAA,SAAAA,EACA,IAAA6C,EAAA7C,EAAAyO,GAAA,CAEA,IAAAE,EAAA3O,GAAA,UAEA,IAAAf,EAAA,UAEAsP,EAAAvO,GAEG,OAAAA,EAAAyO,GAAA9Q,GAsBHuR,QApBA,SAAAlP,EAAAf,GACA,IAAA4D,EAAA7C,EAAAyO,GAAA,CAEA,IAAAE,EAAA3O,GAAA,SAEA,IAAAf,EAAA,SAEAsP,EAAAvO,GAEG,OAAAA,EAAAyO,GAAAC,GAYHS,SATA,SAAAnP,GAEA,OADA4O,GAAAE,EAAAE,MAAAL,EAAA3O,KAAA6C,EAAA7C,EAAAyO,IAAAF,EAAAvO,GACAA,qBC5CA,IAAAiC,EAAe1E,EAAQ,GACvBG,EAAAD,QAAA,SAAAuC,EAAAoP,GACA,IAAAnN,EAAAjC,MAAA2M,KAAAyC,EAAA,MAAAlN,UAAA,0BAAAkN,EAAA,cACA,OAAApP,iCCKAtC,EAAAD,QAAA,SAAA4R,GACA,IAAAC,EAAA,GAmDA,OAjDAA,EAAAzK,SAAA,WACA,OAAApB,KAAA8L,IAAA,SAAAC,GACA,IAAAC,EAkDA,SAAAD,EAAAH,GACA,IAAAI,EAAAD,EAAA,OAEAE,EAAAF,EAAA,GAEA,IAAAE,EACA,OAAAD,EAGA,GAAAJ,GAAA,mBAAAM,KAAA,CACA,IAAAC,EAWA,SAAAC,GAEA,IAAAC,EAAAH,KAAAI,SAAAC,mBAAAC,KAAAC,UAAAL,MACAM,EAAA,+DAAmEvL,OAAAkL,GACnE,aAAAlL,OAAAuL,EAAA,OAJA,CAXAT,GACAU,EAAAV,EAAAW,QAAAd,IAAA,SAAA9O,GACA,uBAAAmE,OAAA8K,EAAAY,YAAA1L,OAAAnE,EAAA,SAEA,OAAAgP,GAAA7K,OAAAwL,GAAAxL,OAAA,CAAAgL,IAAArM,KAAA,MAGA,OAAAkM,GAAAlM,KAAA,MAjBA,CAlDAiM,EAAAH,GAEA,OAAAG,EAAA,GACA,UAAA5K,OAAA4K,EAAA,QAA2C5K,OAAA6K,EAAA,KAG3CA,IACKlM,KAAA,KAKL+L,EAAA3R,EAAA,SAAAE,EAAA0S,GACA,iBAAA1S,IAEAA,EAAA,OAAAA,EAAA,MAKA,IAFA,IAAA2S,EAAA,GAEA7S,EAAA,EAAmBA,EAAA8F,KAAAI,OAAiBlG,IAAA,CAEpC,IAAA8G,EAAAhB,KAAA9F,GAAA,GAEA,MAAA8G,IACA+L,EAAA/L,OAIA,QAAAmI,EAAA,EAAoBA,EAAA/O,EAAAgG,OAAqB+I,IAAA,CACzC,IAAA4C,EAAA3R,EAAA+O,GAKA,MAAA4C,EAAA,IAAAgB,EAAAhB,EAAA,MACAe,IAAAf,EAAA,GACAA,EAAA,GAAAe,EACSA,IACTf,EAAA,OAAA5K,OAAA4K,EAAA,cAAA5K,OAAA2L,EAAA,MAGAjB,EAAApK,KAAAsK,MAKAF,oBCvDA,IAEA3L,EACA8M,EAyBAA,EA5BAC,EAAA,GAWAC,GATAhN,EASA,WAMA,OAAA9B,QAAAmI,mBAAA4G,MAAA/O,OAAAgP,MAZA,WAEA,gBADAJ,MAAA9M,EAAAI,MAAAN,KAAAO,YACAyM,IAoBAK,GACAL,EAAA,GAEA,SAAAlP,EAAAwP,GAMA,sBAAAxP,EACA,OAAAA,IAEA,YAAAkP,EAAAlP,GAAA,CACA,IAAAyP,EApBA,SAAAzP,EAAAwP,GACA,OAAAA,EACAA,EAAAE,cAAA1P,GAEAyI,SAAAiH,cAAA1P,IAgBAzD,KAAA2F,KAAAlC,EAAAwP,GAEA,GAAAlP,OAAAqP,mBAAAF,aAAAnP,OAAAqP,kBACA,IAGAF,IAAAG,gBAAAC,KACK,MAAAxR,GACLoR,EAAA,KAGAP,EAAAlP,GAAAyP,EAEA,OAAAP,EAAAlP,KAIA8P,EAAA,KACAC,EAAA,EACAC,EAAA,GAEAC,EAAcjU,EAAQ,IAqDtB,SAAAkU,EAAAC,EAAAC,GACA,QAAAhU,EAAA,EAAgBA,EAAA+T,EAAA7N,OAAmBlG,IAAA,CACnC,IAAA6R,EAAAkC,EAAA/T,GACAiU,EAAAlB,EAAAlB,EAAA/K,IAEA,GAAAmN,EAAA,CACAA,EAAAC,OAEA,QAAAC,EAAA,EAAiBA,EAAAF,EAAAG,MAAAlO,OAA2BiO,IAC5CF,EAAAG,MAAAD,GAAAtC,EAAAuC,MAAAD,IAGA,KAAQA,EAAAtC,EAAAuC,MAAAlO,OAAuBiO,IAC/BF,EAAAG,MAAA7M,KAAA8M,EAAAxC,EAAAuC,MAAAD,GAAAH,QAEG,CACH,IAAAI,EAAA,GAEA,IAAAD,EAAA,EAAiBA,EAAAtC,EAAAuC,MAAAlO,OAAuBiO,IACxCC,EAAA7M,KAAA8M,EAAAxC,EAAAuC,MAAAD,GAAAH,IAGAjB,EAAAlB,EAAA/K,IAAA,CAA2BA,GAAA+K,EAAA/K,GAAAoN,KAAA,EAAAE,WAK3B,SAAAE,EAAA3C,EAAAqC,GAIA,IAHA,IAAAD,EAAA,GACAQ,EAAA,GAEAvU,EAAA,EAAgBA,EAAA2R,EAAAzL,OAAiBlG,IAAA,CACjC,IAAA6R,EAAAF,EAAA3R,GACA8G,EAAAkN,EAAAQ,KAAA3C,EAAA,GAAAmC,EAAAQ,KAAA3C,EAAA,GAIA4C,EAAA,CAAcC,IAHd7C,EAAA,GAGc8C,MAFd9C,EAAA,GAEcK,UADdL,EAAA,IAGA0C,EAAAzN,GACAyN,EAAAzN,GAAAsN,MAAA7M,KAAAkN,GADAV,EAAAxM,KAAAgN,EAAAzN,GAAA,CAAkDA,KAAAsN,MAAA,CAAAK,KAIlD,OAAAV,EAGA,SAAAa,EAAAZ,EAAArE,GACA,IAAA/L,EAAAuP,EAAAa,EAAAa,YAEA,IAAAjR,EACA,UAAAkR,MAAA,+GAGA,IAAAC,EAAAnB,IAAA1N,OAAA,GAEA,WAAA8N,EAAAgB,SACAD,EAEGA,EAAAE,YACHrR,EAAAsR,aAAAvF,EAAAoF,EAAAE,aAEArR,EAAAiM,YAAAF,GAJA/L,EAAAsR,aAAAvF,EAAA/L,EAAAuR,YAMAvB,EAAArM,KAAAoI,QACE,cAAAqE,EAAAgB,SACFpR,EAAAiM,YAAAF,OACE,qBAAAqE,EAAAgB,WAAAhB,EAAAgB,SAAAI,OAIF,UAAAN,MAAA,8LAHA,IAAAG,EAAA9B,EAAAa,EAAAgB,SAAAI,OAAAxR,GACAA,EAAAsR,aAAAvF,EAAAsF,IAMA,SAAAI,EAAA1F,GACA,UAAAA,EAAA2F,WAAA,SACA3F,EAAA2F,WAAAC,YAAA5F,GAEA,IAAA6F,EAAA5B,EAAA1H,QAAAyD,GACA,GAAA6F,GACA5B,EAAA6B,OAAAD,EAAA,GAIA,SAAAE,EAAA1B,GACA,IAAArE,EAAAtD,SAAAE,cAAA,SAMA,YAJAyH,EAAA2B,MAAA9S,OACAmR,EAAA2B,MAAA9S,KAAA,qBAGAmR,EAAA2B,MAAAC,MAAA,CACA,IAAAA,EAqCQhW,EAAAiW,GApCRD,IACA5B,EAAA2B,MAAAC,SAOA,OAHAE,EAAAnG,EAAAqE,EAAA2B,OACAf,EAAAZ,EAAArE,GAEAA,EAiBA,SAAAmG,EAAAhO,EAAA6N,GACAjV,OAAA6J,KAAAoL,GAAA9I,QAAA,SAAAtL,GACAuG,EAAAiO,aAAAxU,EAAAoU,EAAApU,MAYA,SAAA8S,EAAA2B,EAAAhC,GACA,IAAArE,EAAAsG,EAAAC,EAAArI,EAGA,GAAAmG,EAAAmC,WAAAH,EAAAtB,IAAA,CAKA,KAJA7G,EAAA,mBAAAmG,EAAAmC,UACAnC,EAAAmC,UAAAH,EAAAtB,KACAV,EAAAmC,UAAAzU,QAAAsU,EAAAtB,MASA,oBAJAsB,EAAAtB,IAAA7G,EAUA,GAAAmG,EAAAN,UAAA,CACA,IAAA0C,EAAAzC,IAEAhE,EAAA+D,KAAAgC,EAAA1B,GAEAiC,EAAAI,EAAA7U,KAAA,KAAAmO,EAAAyG,MACAF,EAAAG,EAAA7U,KAAA,KAAAmO,EAAAyG,WAYAF,EATAF,EAAA9D,WACA,mBAAAoE,KACA,mBAAAA,IAAAC,iBACA,mBAAAD,IAAAE,iBACA,mBAAAC,MACA,mBAAAzE,MAEArC,EAlEA,SAAAqE,GACA,IAAA0C,EAAArK,SAAAE,cAAA,QAUA,gBARAyH,EAAA2B,MAAA9S,OACAmR,EAAA2B,MAAA9S,KAAA,YAEAmR,EAAA2B,MAAAgB,IAAA,aAEAb,EAAAY,EAAA1C,EAAA2B,OACAf,EAAAZ,EAAA0C,GAEAA,EAXA,CAkEA1C,GACAiC,EAiFA,SAAAS,EAAA1C,EAAAgC,GACA,IAAAtB,EAAAsB,EAAAtB,IACAxC,EAAA8D,EAAA9D,UAQA0E,WAAA5C,EAAA6C,uBAAA3E,GAEA8B,EAAA6C,uBAAAD,KACAlC,EAAAb,EAAAa,IAGAxC,IAEAwC,GAAA,uDAAuD1C,KAAAI,SAAAC,mBAAAC,KAAAC,UAAAL,MAAA,OAGvD,IAAA4E,EAAA,IAAAL,KAAA,CAAA/B,GAAA,CAA6B7R,KAAA,aAE7BkU,EAAAL,EAAAM,KAEAN,EAAAM,KAAAV,IAAAC,gBAAAO,GAEAC,GAAAT,IAAAE,gBAAAO,IA5GAvV,KAAA,KAAAmO,EAAAqE,GACA,WACAqB,EAAA1F,GAEAA,EAAAqH,MAAAV,IAAAE,gBAAA7G,EAAAqH,SAGArH,EAAA+F,EAAA1B,GACAiC,EAsDA,SAAAtG,EAAAqG,GACA,IAAAtB,EAAAsB,EAAAtB,IACAC,EAAAqB,EAAArB,MAMA,GAJAA,GACAhF,EAAAoG,aAAA,QAAApB,GAGAhF,EAAAsH,WACAtH,EAAAsH,WAAAC,QAAAxC,MACE,CACF,KAAA/E,EAAAwF,YACAxF,EAAA4F,YAAA5F,EAAAwF,YAGAxF,EAAAE,YAAAxD,SAAA8K,eAAAzC,MArEAlT,KAAA,KAAAmO,GACA,WACA0F,EAAA1F,KAMA,OAFAsG,EAAAD,GAEA,SAAAoB,GACA,GAAAA,EAAA,CACA,GACAA,EAAA1C,MAAAsB,EAAAtB,KACA0C,EAAAzC,QAAAqB,EAAArB,OACAyC,EAAAlF,YAAA8D,EAAA9D,UAEA,OAGA+D,EAAAD,EAAAoB,QAEAlB,KA1PAnW,EAAAD,QAAA,SAAA6R,EAAAqC,GACA,uBAAAqD,cACA,iBAAAhL,SAAA,UAAAyI,MAAA,iEAGAd,KAAA,IAEA2B,MAAA,iBAAA3B,EAAA2B,MAAA3B,EAAA2B,MAAA,GAIA3B,EAAAN,WAAA,kBAAAM,EAAAN,YAAAM,EAAAN,UAAAV,KAGAgB,EAAAa,aAAAb,EAAAa,WAAA,QAGAb,EAAAgB,WAAAhB,EAAAgB,SAAA,UAEA,IAAAjB,EAAAO,EAAA3C,EAAAqC,GAIA,OAFAF,EAAAC,EAAAC,GAEA,SAAAsD,GAGA,IAFA,IAAAC,EAAA,GAEAvX,EAAA,EAAiBA,EAAA+T,EAAA7N,OAAmBlG,IAAA,CACpC,IAAA6R,EAAAkC,EAAA/T,IACAiU,EAAAlB,EAAAlB,EAAA/K,KAEAoN,OACAqD,EAAAhQ,KAAA0M,GAQA,IALAqD,GAEAxD,EADAQ,EAAAgD,EAAAtD,GACAA,GAGAhU,EAAA,EAAiBA,EAAAuX,EAAArR,OAAsBlG,IAAA,CACvC,IAAAiU,EAEA,QAFAA,EAAAsD,EAAAvX,IAEAkU,KAAA,CACA,QAAAC,EAAA,EAAmBA,EAAAF,EAAAG,MAAAlO,OAA2BiO,IAAAF,EAAAG,MAAAD,YAE9CpB,EAAAkB,EAAAnN,QAkNA,IACA0Q,EADAC,GACAD,EAAA,GAEA,SAAAxP,EAAA0P,GAGA,OAFAF,EAAAxP,GAAA0P,EAEAF,EAAAG,OAAAC,SAAAhS,KAAA,QAIA,SAAAyQ,EAAA1G,EAAA3H,EAAAkO,EAAAF,GACA,IAAAtB,EAAAwB,EAAA,GAAAF,EAAAtB,IAEA,GAAA/E,EAAAsH,WACAtH,EAAAsH,WAAAC,QAAAO,EAAAzP,EAAA0M,OACE,CACF,IAAAmD,EAAAxL,SAAA8K,eAAAzC,GACAoD,EAAAnI,EAAAmI,WAEAA,EAAA9P,IAAA2H,EAAA4F,YAAAuC,EAAA9P,IAEA8P,EAAA5R,OACAyJ,EAAAuF,aAAA2C,EAAAC,EAAA9P,IAEA2H,EAAAE,YAAAgI,oBC3VA9X,EAAAD,QAAA,gEAAAmC,EAAAf,EAAAJ,GCAAf,EAAAD,QAAiBF,EAAQ,GAARA,CAAmB,4BAAAkE,SAAAoD,2BCOpC,IAAAxE,EAAU9C,EAAQ,IAClBuH,EAAcvH,EAAQ,IACtBsN,EAAetN,EAAQ,IACvB8H,EAAe9H,EAAQ,IACvBmY,EAAUnY,EAAQ,IAClBG,EAAAD,QAAA,SAAA2R,EAAAuG,GACA,IAAAC,EAAA,GAAAxG,EACAyG,EAAA,GAAAzG,EACA0G,EAAA,GAAA1G,EACA2G,EAAA,GAAA3G,EACA4G,EAAA,GAAA5G,EACA6G,EAAA,GAAA7G,GAAA4G,EACA/W,EAAA0W,GAAAD,EACA,gBAAAlQ,EAAAiF,EAAA7G,GAQA,IAPA,IAMAR,EAAA8S,EANAxT,EAAAmI,EAAArF,GACAzD,EAAA+C,EAAApC,GACAJ,EAAAjC,EAAAoK,EAAA7G,EAAA,GACAC,EAAAwB,EAAAtD,EAAA8B,QACA8B,EAAA,EACA6F,EAAAoK,EAAA3W,EAAAuG,EAAA3B,GAAAgS,EAAA5W,EAAAuG,EAAA,UAEUG,EAAA9B,EAAe8B,IAAA,IAAAsQ,GAAAtQ,KAAA5D,KAEzBmU,EAAA5T,EADAc,EAAArB,EAAA4D,GACAA,EAAAjD,GACA0M,GACA,GAAAwG,EAAApK,EAAA7F,GAAAuQ,OACA,GAAAA,EAAA,OAAA9G,GACA,gBACA,cAAAhM,EACA,cAAAuC,EACA,OAAA6F,EAAAtG,KAAA9B,QACS,GAAA2S,EAAA,SAGT,OAAAC,GAAA,EAAAF,GAAAC,IAAAvK,qBCxCA,IAAA2K,EAAyB5Y,EAAQ,IAEjCG,EAAAD,QAAA,SAAA2Y,EAAAvS,GACA,WAAAsS,EAAAC,GAAA,CAAAvS,qBCJA,IAAA5B,EAAe1E,EAAQ,GACvB8Y,EAAc9Y,EAAQ,IACtB+Y,EAAc/Y,EAAQ,EAARA,CAAgB,WAE9BG,EAAAD,QAAA,SAAA2Y,GACA,IAAAzK,EASG,OARH0K,EAAAD,KAGA,mBAFAzK,EAAAyK,EAAAG,cAEA5K,IAAAvF,QAAAiQ,EAAA1K,EAAAnM,aAAAmM,UACA1J,EAAA0J,IAEA,QADAA,IAAA2K,MACA3K,gBAAA3G,IAEG2G,EAAAvF,MAAAuF,oBCbH,IAAAtF,EAAU9I,EAAQ,IAClBG,EAAAD,QAAA2I,MAAAiQ,SAAA,SAAApQ,GACA,eAAAI,EAAAJ,qBCFA,IAAA1F,EAAchD,EAAQ,GAEtBgD,IAAAa,EAAA,SAA6BoV,KAAOjZ,EAAQ,MAE5CA,EAAQ,GAARA,CAA+B,kBAAAqC,EAAAf,EAAAJ,GAAA,aCH/B,IAAAoM,EAAetN,EAAQ,IACvB+H,EAAsB/H,EAAQ,IAC9B8H,EAAe9H,EAAQ,IACvBG,EAAAD,QAAA,SAAAmB,EAAAC,EAAAJ,GAOA,IANA,IAAAiE,EAAAmI,EAAApH,MACAI,EAAAwB,EAAA3C,EAAAmB,QACA+H,EAAA5H,UAAAH,OACA8B,EAAAL,EAAA,EAAAsG,EAJA/M,OAAA,EAIAgF,GACA4S,EAAA,EAAA7K,EALAnN,OAAA,EAMAiY,WAAAD,EAAA5S,EAAAyB,EAAAmR,EAAA5S,GACA8B,EAAA+Q,GAAAhU,EAAAiD,KAAA/G,EACA,OAAA8D,iCCXA,IAAAiU,EAAepZ,EAAQ,IACvBgF,EAAehF,EAAQ,GACvB4Y,EAAyB5Y,EAAQ,IACjCqZ,EAAyBrZ,EAAQ,IACjC8H,EAAe9H,EAAQ,IACvBsZ,EAAqBtZ,EAAQ,IAC7BuZ,EAAiBvZ,EAAQ,IACzBwI,EAAYxI,EAAQ,GACpBwZ,EAAAjV,KAAAoC,IACA8S,EAAA,GAAA9R,KACA+R,EAAA,QACAC,EAAA,SACAhQ,EAAA,YACAiQ,EAAA,WAGAC,GAAArR,EAAA,WAAqCe,OAAAqQ,EAAA,OAGrC5Z,EAAQ,GAARA,CAAuB,mBAAA4G,EAAAkT,EAAAC,EAAAC,GACvB,IAAAC,EAkDA,OAxCAA,EARA,YAAAP,GAAA,YACA,UAAAA,GAAA,WAAAC,IACA,QAAAD,GAAA,WAAAC,IACA,OAAAD,GAAA,YAAAC,IACA,MAAAD,GAAA,QAAAC,IACA,GAAAD,GAAA,MAAAC,GAGA,SAAAO,EAAAC,GACA,IAAAC,EAAAnU,OAAAC,MACA,YAAAgU,GAAA,IAAAC,EAAA,SAEA,IAAAf,EAAAc,GAAA,OAAAH,EAAAxZ,KAAA6Z,EAAAF,EAAAC,GAWA,IAVA,IASAlQ,EAAAF,EAAAsQ,EATAC,EAAA,GACAC,GAAAL,EAAAM,WAAA,SACAN,EAAAO,UAAA,SACAP,EAAAQ,QAAA,SACAR,EAAAS,OAAA,QACAC,EAAA,EACAC,WAAAV,EAAAP,EAAAO,IAAA,EAEAW,EAAA,IAAAvR,OAAA2Q,EAAAhX,OAAAqX,EAAA,MAEAtQ,EAAAsP,EAAAhZ,KAAAua,EAAAV,OAEAQ,GADA7Q,EAAA+Q,EAAAnR,MAEA2Q,EAAA3S,KAAAyS,EAAA5S,MAAAoT,EAAA3Q,EAAA7B,QACA,EAAA6B,EAAA0P,IAAA1P,EAAA7B,MAAAgS,EAAAT,IAAAF,EAAAjT,MAAA8T,EAAArQ,EAAAzC,MAAA,IACA6S,EAAApQ,EAAA,GAAA0P,GACAiB,EAAA7Q,EACAuQ,EAAAX,IAAAkB,KAEAC,EAAAnR,KAAAM,EAAA7B,OAAA0S,EAAAnR,KAKA,OAHAiR,IAAAR,EAAAT,IACAU,GAAAS,EAAArN,KAAA,KAAA6M,EAAA3S,KAAA,IACO2S,EAAA3S,KAAAyS,EAAA5S,MAAAoT,IACPN,EAAAX,GAAAkB,EAAAP,EAAA9S,MAAA,EAAAqT,GAAAP,GAGG,IAAAZ,UAAA,GAAAC,GACH,SAAAO,EAAAC,GACA,gBAAAD,GAAA,IAAAC,EAAA,GAAAJ,EAAAxZ,KAAA2F,KAAAgU,EAAAC,IAGAJ,EAGA,CAGA,SAAAG,EAAAC,GACA,IAAAhV,EAAAyB,EAAAV,MACA6U,EAAAtT,MAAAyS,WAAAJ,GACA,gBAAAiB,EACAA,EAAAxa,KAAA2Z,EAAA/U,EAAAgV,GACAF,EAAA1Z,KAAA0F,OAAAd,GAAA+U,EAAAC,IAOA,SAAAa,EAAAb,GACA,IAAAxB,EAAAqB,EAAAC,EAAAe,EAAA9U,KAAAiU,EAAAF,IAAAF,GACA,GAAApB,EAAAlK,KAAA,OAAAkK,EAAAtX,MAEA,IAAA4Z,EAAAjW,EAAAgW,GACArX,EAAAsC,OAAAC,MACAkI,EAAAwK,EAAAqC,EAAA1R,QAEA2R,EAAAD,EAAAP,QACAH,GAAAU,EAAAT,WAAA,SACAS,EAAAR,UAAA,SACAQ,EAAAP,QAAA,SACAb,EAAA,SAIAkB,EAAA,IAAA3M,EAAAyL,EAAAoB,EAAA,OAAAA,EAAA/X,OAAA,IAAAqX,GACAY,WAAAhB,EAAAP,EAAAO,IAAA,EACA,MAAAgB,EAAA,SACA,OAAAxX,EAAA2C,OAAA,cAAAgT,EAAAyB,EAAApX,GAAA,CAAAA,GAAA,GAIA,IAHA,IAAAxB,EAAA,EACAiZ,EAAA,EACAC,EAAA,GACAD,EAAAzX,EAAA2C,QAAA,CACAyU,EAAAhR,UAAA8P,EAAAuB,EAAA,EACA,IACA/Y,EADAiZ,EAAAhC,EAAAyB,EAAAlB,EAAAlW,IAAA6D,MAAA4T,IAEA,GACA,OAAAE,IACAjZ,EAAAmX,EAAA1R,EAAAiT,EAAAhR,WAAA8P,EAAA,EAAAuB,IAAAzX,EAAA2C,WAAAnE,EAEAiZ,EAAA/B,EAAA1V,EAAAyX,EAAAF,OACS,CAET,GADAG,EAAA1T,KAAAhE,EAAA6D,MAAArF,EAAAiZ,IACAC,EAAA/U,SAAA6U,EAAA,OAAAE,EACA,QAAAjb,EAAA,EAAyBA,GAAAkb,EAAAhV,OAAA,EAAmBlG,IAE5C,GADAib,EAAA1T,KAAA2T,EAAAlb,IACAib,EAAA/U,SAAA6U,EAAA,OAAAE,EAEAD,EAAAjZ,EAAAE,GAIA,OADAgZ,EAAA1T,KAAAhE,EAAA6D,MAAArF,IACAkZ,uBCjIA,IAAA3W,EAAe1E,EAAQ,GACvB8I,EAAU9I,EAAQ,IAClBub,EAAYvb,EAAQ,EAARA,CAAgB,SAC5BG,EAAAD,QAAA,SAAAuC,GACA,IAAA2W,EACA,OAAA1U,EAAAjC,eAAA2W,EAAA3W,EAAA8Y,MAAAnC,EAAA,UAAAtQ,EAAArG,sBCLA,IAAAuC,EAAehF,EAAQ,GACvBmG,EAAgBnG,EAAQ,IACxB+Y,EAAc/Y,EAAQ,EAARA,CAAgB,WAC9BG,EAAAD,QAAA,SAAAiF,EAAAqW,GACA,IACA7X,EADAyK,EAAApJ,EAAAG,GAAA6T,YAEA,gBAAA5K,GAAA3G,OAAA9D,EAAAqB,EAAAoJ,GAAA2K,IAAAyC,EAAArV,EAAAxC,kCCNA,IAAA8X,EAASzb,EAAQ,GAARA,KAITG,EAAAD,QAAA,SAAAyD,EAAAyE,EAAAsS,GACA,OAAAtS,GAAAsS,EAAAe,EAAA9X,EAAAyE,GAAA9B,OAAA,cAAAjE,EAAAf,EAAAJ,GAAA,aCJA,IAAA0N,EAAc5O,EAAQ,IACtB0b,EAAAnS,OAAAtH,UAAA2C,KAIAzE,EAAAD,QAAA,SAAAmE,EAAAV,GACA,IAAAiB,EAAAP,EAAAO,KACA,sBAAAA,EAAA,CACA,IAAAqJ,EAAArJ,EAAArE,KAAA8D,EAAAV,GACA,oBAAAsK,EACA,UAAAtJ,UAAA,sEAEA,OAAAsJ,EAEA,cAAAW,EAAAvK,GACA,UAAAM,UAAA,+CAEA,OAAA+W,EAAAnb,KAAA8D,EAAAV,kCCjBA,IAAAqB,EAAehF,EAAQ,GACvBG,EAAAD,QAAA,WACA,IAAAmG,EAAArB,EAAAkB,MACA+H,EAAA,GAMA,OALA5H,EAAA3D,SAAAuL,GAAA,KACA5H,EAAAmU,aAAAvM,GAAA,KACA5H,EAAAoU,YAAAxM,GAAA,KACA5H,EAAAqU,UAAAzM,GAAA,KACA5H,EAAAsU,SAAA1M,GAAA,KACAA,iCCVAjO,EAAQ,IACR,IAAA6C,EAAe7C,EAAQ,GACvB4C,EAAW5C,EAAQ,GACnBwI,EAAYxI,EAAQ,GACpB4G,EAAc5G,EAAQ,IACtB2b,EAAU3b,EAAQ,GAClBuZ,EAAiBvZ,EAAQ,IAEzB+Y,EAAA4C,EAAA,WAEAC,GAAApT,EAAA,WAIA,IAAA0B,EAAA,IAMA,OALAA,EAAAtF,KAAA,WACA,IAAAqJ,EAAA,GAEA,OADAA,EAAA4N,OAAA,CAAqBxW,EAAA,KACrB4I,GAEA,SAAAxE,QAAAS,EAAA,UAGA4R,EAAA,WAEA,IAAA5R,EAAA,OACA6R,EAAA7R,EAAAtF,KACAsF,EAAAtF,KAAA,WAAyB,OAAAmX,EAAAvV,MAAAN,KAAAO,YACzB,IAAAwH,EAAA,KAAAtI,MAAAuE,GACA,WAAA+D,EAAA3H,QAAA,MAAA2H,EAAA,UAAAA,EAAA,GANA,GASA9N,EAAAD,QAAA,SAAAsR,EAAAlL,EAAA1B,GACA,IAAAoX,EAAAL,EAAAnK,GAEAyK,GAAAzT,EAAA,WAEA,IAAArD,EAAA,GAEA,OADAA,EAAA6W,GAAA,WAA6B,UAC7B,MAAAxK,GAAArM,KAGA+W,EAAAD,GAAAzT,EAAA,WAEA,IAAA2T,KACAjS,EAAA,IASA,OARAA,EAAAtF,KAAA,WAA8C,OAAnBuX,KAAmB,MAC9C,UAAA3K,IAGAtH,EAAA8O,YAAA,GACA9O,EAAA8O,YAAAD,GAAA,WAA6C,OAAA7O,IAE7CA,EAAA8R,GAAA,KACAG,WAGA,IACAF,IACAC,GACA,YAAA1K,IAAAoK,GACA,UAAApK,IAAAsK,EACA,CACA,IAAAM,EAAA,IAAAJ,GACAK,EAAAzX,EACAgC,EACAoV,EACA,GAAAxK,GACA,SAAA8K,EAAAtB,EAAAlR,EAAAyS,EAAAC,GACA,OAAAxB,EAAApW,OAAA2U,EACA0C,IAAAO,EAIA,CAAoB/N,QAAApN,MAAA+a,EAAA7b,KAAAya,EAAAlR,EAAAyS,IAEpB,CAAkB9N,QAAApN,MAAAib,EAAA/b,KAAAuJ,EAAAkR,EAAAuB,IAElB,CAAgB9N,WAGhBgO,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAEAxZ,EAAAoD,OAAAhE,UAAAuP,EAAAiL,GACA7Z,EAAA2G,OAAAtH,UAAA+Z,EAAA,GAAA1V,EAGA,SAAA8T,EAAA1R,GAAgC,OAAAgU,EAAAnc,KAAA6Z,EAAAlU,KAAAwC,IAGhC,SAAA0R,GAA2B,OAAAsC,EAAAnc,KAAA6Z,EAAAlU,wCC3F3B,IAAAqT,EAAiBvZ,EAAQ,IACzBA,EAAQ,EAARA,CAAmB,CACnBgE,OAAA,SACAsH,SACAqR,OAAApD,IAAA,IAAA3U,MACC,CACDA,KAAA2U,kCCLA,IAAAvW,EAAchD,EAAQ,GACtB4c,EAAgB5c,EAAQ,GAARA,KAEhBgD,IAAAa,EAAA,SACAgZ,SAAA,SAAA3U,EAAA5G,GACA,OAAAsb,EAAA1W,KAAAgC,EAAA,EAAAzB,UAAAH,OADAhF,OAAA,MAKAtB,EAAQ,GAARA,CAA+B,sBAAAqC,EAAAf,EAAAJ,GAAA,aCV/B,IAAA4b,EAAsB9c,EAAQ,GAC9B8E,EAAiB9E,EAAQ,IAEzBG,EAAAD,QAAA,SAAA6B,EAAAqG,EAAA/G,GACA+G,KAAArG,EAAA+a,EAAA/X,EAAAhD,EAAAqG,EAAAtD,EAAA,EAAAzD,IACAU,EAAAqG,GAAA/G,oBCuCA,IA7CA,IAAA0b,EAAiB/c,EAAQ,IACzBgd,EAAchd,EAAQ,IACtB6C,EAAe7C,EAAQ,GACvB0C,EAAa1C,EAAQ,GACrB4C,EAAW5C,EAAQ,GACnBqK,EAAgBrK,EAAQ,IACxB2b,EAAU3b,EAAQ,GAClByK,EAAAkR,EAAA,YACAsB,EAAAtB,EAAA,eACAuB,EAAA7S,EAAAxB,MAEAsU,EAAA,CACAC,eACAC,uBACAC,gBACAC,kBACAC,eACAC,iBACAC,gBACAC,wBACAC,YACAC,qBACAC,kBACAC,mBACAC,qBACAC,aACAC,iBACAC,gBACAC,YACAC,oBACAC,UACAC,eACAC,iBACAC,iBACAC,kBACAC,gBACAC,iBACAC,oBACAC,oBACAC,kBACAC,oBACAC,iBACAC,cAGAC,EAAAnC,EAAAG,GAAA/c,EAAA,EAAoDA,EAAA+e,EAAA7Y,OAAwBlG,IAAA,CAC5E,IAIAuB,EAJAmJ,EAAAqU,EAAA/e,GACAgf,EAAAjC,EAAArS,GACAuU,EAAA3c,EAAAoI,GACAQ,EAAA+T,KAAApd,UAEA,GAAAqJ,IACAA,EAAAb,IAAA7H,EAAA0I,EAAAb,EAAAyS,GACA5R,EAAA2R,IAAAra,EAAA0I,EAAA2R,EAAAnS,GACAT,EAAAS,GAAAoS,EACAkC,GAAA,IAAAzd,KAAAob,EAAAzR,EAAA3J,IAAAkB,EAAAyI,EAAA3J,EAAAob,EAAApb,SAAA,SAAAU,EAAAf,EAAAJ,GAAA,aCtDA,IAAAQ,EAAa1B,EAAQ,IACrBsf,EAAiBtf,EAAQ,IACzBuK,EAAqBvK,EAAQ,IAC7BwL,EAAA,GAGAxL,EAAQ,EAARA,CAAiBwL,EAAqBxL,EAAQ,EAARA,CAAgB,uBAA4B,OAAAkG,OAElF/F,EAAAD,QAAA,SAAA6K,EAAAD,EAAAE,GACAD,EAAA9I,UAAAP,EAAA8J,EAAA,CAAqDR,KAAAsU,EAAA,EAAAtU,KACrDT,EAAAQ,EAAAD,EAAA,wBAAAzI,EAAAf,EAAAJ,GCXA,IAAA2D,EAAS7E,EAAQ,GACjBgF,EAAehF,EAAQ,GACvBgd,EAAchd,EAAQ,IAEtBG,EAAAD,QAAiBF,EAAQ,GAAgBc,OAAAye,iBAAA,SAAApa,EAAAqL,GACzCxL,EAAAG,GAKA,IAJA,IAGAtB,EAHA8G,EAAAqS,EAAAxM,GACAlK,EAAAqE,EAAArE,OACAlG,EAAA,EAEAA,EAAAkG,GAAAzB,EAAAE,EAAAI,EAAAtB,EAAA8G,EAAAvK,KAAAoQ,EAAA3M,IACA,OAAAsB,oBCXA,IAAAG,EAAUtF,EAAQ,IAClB6H,EAAgB7H,EAAQ,IACxBwf,EAAmBxf,EAAQ,GAARA,KACnB2P,EAAe3P,EAAQ,GAARA,CAAuB,YAEtCG,EAAAD,QAAA,SAAA6B,EAAA0d,GACA,IAGA9d,EAHAwD,EAAA0C,EAAA9F,GACA3B,EAAA,EACA6N,EAAA,GAEA,IAAAtM,KAAAwD,EAAAxD,GAAAgO,GAAArK,EAAAH,EAAAxD,IAAAsM,EAAAtG,KAAAhG,GAEA,KAAA8d,EAAAnZ,OAAAlG,GAAAkF,EAAAH,EAAAxD,EAAA8d,EAAArf,SACAof,EAAAvR,EAAAtM,IAAAsM,EAAAtG,KAAAhG,IAEA,OAAAsM,oBCfA,IAAAxB,EAAezM,EAAQ,GAAWyM,SAClCtM,EAAAD,QAAAuM,KAAAiT,iCCAA,IAAApa,EAAUtF,EAAQ,IAClBsN,EAAetN,EAAQ,IACvB2P,EAAe3P,EAAQ,GAARA,CAAuB,YACtC2f,EAAA7e,OAAAmB,UAEA9B,EAAAD,QAAAY,OAAA0J,gBAAA,SAAArF,GAEA,OADAA,EAAAmI,EAAAnI,GACAG,EAAAH,EAAAwK,GAAAxK,EAAAwK,GACA,mBAAAxK,EAAA6T,aAAA7T,eAAA6T,YACA7T,EAAA6T,YAAA/W,UACGkD,aAAArE,OAAA6e,EAAA,gBAAAtd,EAAAf,EAAAJ,GAAA,aCTH,IAAA0N,EAAc5O,EAAQ,IACtByN,EAAA,GACAA,EAAKzN,EAAQ,EAARA,CAAgB,oBACrByN,EAAA,kBACEzN,EAAQ,EAARA,CAAqBc,OAAAmB,UAAA,sBACvB,iBAAA2M,EAAA1I,MAAA,UACG,SAAA7D,EAAAf,EAAAJ,GAAA,aCPH,IAAA0e,EAAa5f,EAAQ,IACrB6f,EAAe7f,EAAQ,IAIvBG,EAAAD,QAAiBF,EAAQ,GAARA,CAHjB,MAGwC,SAAAiB,GACxC,gBAAAoB,GAAyB,OAAApB,EAAAiF,KAAA,EAAAO,UAAAH,OAAzBjE,OAAA,KACC,CAEDpB,IAAA,SAAAU,GACA,IAAAme,EAAAF,EAAAG,SAAAF,EAAA3Z,KARA,OAQAvE,GACA,OAAAme,KAAAE,GAGAC,IAAA,SAAAte,EAAAN,GACA,OAAAue,EAAA1T,IAAA2T,EAAA3Z,KAbA,OAaA,IAAAvE,EAAA,EAAAA,EAAAN,KAECue,OAAA,SAAAvd,EAAAf,EAAAJ,GAAA,aCHD,SAAA6e,EAAA1Z,EAAA1E,GAEA,IACAme,EADA1X,EAAAsJ,EAAA/P,GAEA,SAAAyG,EAAA,OAAA/B,EAAAgJ,GAAAjH,GAEA,IAAA0X,EAAAzZ,EAAA6Z,GAAuBJ,EAAOA,IAAAje,EAC9B,GAAAie,EAAAK,GAAAxe,EAAA,OAAAme,EArBA,IAAAjb,EAAS7E,EAAQ,GAAc+E,EAC/BrD,EAAa1B,EAAQ,IACrBogB,EAAkBpgB,EAAQ,IAC1B8C,EAAU9C,EAAQ,IAClBqgB,EAAiBrgB,EAAQ,IACzBsgB,EAAYtgB,EAAQ,IACpBugB,EAAkBvgB,EAAQ,IAC1BkO,EAAWlO,EAAQ,IACnBwgB,EAAiBxgB,EAAQ,IACzBygB,EAAkBzgB,EAAQ,GAC1B0R,EAAc1R,EAAQ,IAAS0R,QAC/BmO,EAAe7f,EAAQ,IACvB0gB,EAAAD,EAAA,YAaAtgB,EAAAD,QAAA,CACAygB,eAAA,SAAAC,EAAA9V,EAAAuN,EAAAwI,GACA,IAAAzS,EAAAwS,EAAA,SAAAva,EAAA0K,GACAsP,EAAAha,EAAA+H,EAAAtD,EAAA,MACAzE,EAAA+I,GAAAtE,EACAzE,EAAAgJ,GAAA3N,EAAA,MACA2E,EAAA6Z,UACA7Z,EAAAya,UACAza,EAAAqa,GAAA,EACAjZ,MAAAsJ,GAAAuP,EAAAvP,EAAAsH,EAAAhS,EAAAwa,GAAAxa,KAsDA,OApDA+Z,EAAAhS,EAAAnM,UAAA,CAGA8e,MAAA,WACA,QAAA1a,EAAAwZ,EAAA3Z,KAAA4E,GAAA8H,EAAAvM,EAAAgJ,GAAAyQ,EAAAzZ,EAAA6Z,GAA8EJ,EAAOA,IAAAje,EACrFie,EAAA5e,KACA4e,EAAA3d,IAAA2d,EAAA3d,EAAA2d,EAAA3d,EAAAN,iBACA+Q,EAAAkN,EAAA1f,GAEAiG,EAAA6Z,GAAA7Z,EAAAya,UACAza,EAAAqa,GAAA,GAIAM,OAAA,SAAArf,GACA,IAAA0E,EAAAwZ,EAAA3Z,KAAA4E,GACAgV,EAAAC,EAAA1Z,EAAA1E,GACA,GAAAme,EAAA,CACA,IAAA9U,EAAA8U,EAAAje,EACAof,EAAAnB,EAAA3d,SACAkE,EAAAgJ,GAAAyQ,EAAA1f,GACA0f,EAAA5e,KACA+f,MAAApf,EAAAmJ,GACAA,MAAA7I,EAAA8e,GACA5a,EAAA6Z,IAAAJ,IAAAzZ,EAAA6Z,GAAAlV,GACA3E,EAAAya,IAAAhB,IAAAzZ,EAAAya,GAAAG,GACA5a,EAAAqa,KACS,QAAAZ,GAIT7S,QAAA,SAAAC,EAAA5L,GACAue,EAAA3Z,KAAA4E,GAGA,IAFA,IACAgV,EADA/a,EAAAjC,EAAAoK,EAAA,EAAAzG,UAAAH,OAFAhF,OAAA,EAEA,GAEAwe,MAAAje,EAAAqE,KAAAga,IAGA,IAFAnb,EAAA+a,EAAAE,EAAAF,EAAAK,EAAAja,MAEA4Z,KAAA5e,GAAA4e,IAAA3d,GAKAmD,IAAA,SAAA3D,GACA,QAAAoe,EAAAF,EAAA3Z,KAAA4E,GAAAnJ,MAGA8e,GAAA5b,EAAAuJ,EAAAnM,UAAA,QACAhB,IAAA,WACA,OAAA4e,EAAA3Z,KAAA4E,GAAA4V,MAGAtS,GAEAlC,IAAA,SAAA7F,EAAA1E,EAAAN,GACA,IACA4f,EAAA7Y,EADA0X,EAAAC,EAAA1Z,EAAA1E,GAoBK,OAjBLme,EACAA,EAAAE,EAAA3e,GAGAgF,EAAAya,GAAAhB,EAAA,CACA1f,EAAAgI,EAAAsJ,EAAA/P,MACAwe,EAAAxe,EACAqe,EAAA3e,EACAc,EAAA8e,EAAA5a,EAAAya,GACAjf,SACAX,MAEAmF,EAAA6Z,KAAA7Z,EAAA6Z,GAAAJ,GACAmB,MAAApf,EAAAie,GACAzZ,EAAAqa,KAEA,MAAAtY,IAAA/B,EAAAgJ,GAAAjH,GAAA0X,IACKzZ,GAEL0Z,WACAmB,UAAA,SAAA9S,EAAAtD,EAAAuN,GAGAkI,EAAAnS,EAAAtD,EAAA,SAAAqE,EAAA9D,GACAnF,KAAAkJ,GAAAyQ,EAAA1Q,EAAArE,GACA5E,KAAAoJ,GAAAjE,EACAnF,KAAA4a,WACK,WAKL,IAJA,IAAAza,EAAAH,KACAmF,EAAAhF,EAAAiJ,GACAwQ,EAAAzZ,EAAAya,GAEAhB,KAAA5e,GAAA4e,IAAA3d,EAEA,OAAAkE,EAAA+I,KAAA/I,EAAAya,GAAAhB,MAAAje,EAAAwE,EAAA+I,GAAA8Q,IAMAhS,EAAA,UAAA7C,EAAAyU,EAAAK,EACA,UAAA9U,EAAAyU,EAAAE,EACA,CAAAF,EAAAK,EAAAL,EAAAE,KANA3Z,EAAA+I,UACAlB,EAAA,KAMKmK,EAAA,oBAAAA,MAGLmI,EAAA1V,mCC5IA,IAAApI,EAAa1C,EAAQ,GACrB6E,EAAS7E,EAAQ,GACjBygB,EAAkBzgB,EAAQ,GAC1B+Y,EAAc/Y,EAAQ,EAARA,CAAgB,WAE9BG,EAAAD,QAAA,SAAAsR,GACA,IAAApD,EAAA1L,EAAA8O,GACAiP,GAAArS,MAAA2K,IAAAlU,EAAAE,EAAAqJ,EAAA2K,EAAA,CACA/R,gBACA/F,IAAA,WAAsB,OAAAiF,uCCTtB,IAAAxD,EAAa1C,EAAQ,GACrBgD,EAAchD,EAAQ,GACtB6C,EAAe7C,EAAQ,GACvBogB,EAAkBpgB,EAAQ,IAC1BuR,EAAWvR,EAAQ,IACnBsgB,EAAYtgB,EAAQ,IACpBqgB,EAAiBrgB,EAAQ,IACzB0E,EAAe1E,EAAQ,GACvBwI,EAAYxI,EAAQ,GACpBmhB,EAAkBnhB,EAAQ,IAC1BuK,EAAqBvK,EAAQ,IAC7BohB,EAAwBphB,EAAQ,IAEhCG,EAAAD,QAAA,SAAA4K,EAAA8V,EAAArV,EAAA8V,EAAAhJ,EAAAiJ,GAMA,SAAAC,EAAA/P,GACA,IAAApL,EAAAkF,EAAAkG,GACA3O,EAAAyI,EAAAkG,EACA,UAAAA,EAAA,SAAAnM,GACA,QAAAic,IAAA5c,EAAAW,KAAAe,EAAA7F,KAAA2F,KAAA,IAAAb,EAAA,EAAAA,IACO,OAAAmM,EAAA,SAAAnM,GACP,QAAAic,IAAA5c,EAAAW,KAAAe,EAAA7F,KAAA2F,KAAA,IAAAb,EAAA,EAAAA,IACO,OAAAmM,EAAA,SAAAnM,GACP,OAAAic,IAAA5c,EAAAW,UAAAe,EAAA7F,KAAA2F,KAAA,IAAAb,EAAA,EAAAA,IACO,OAAAmM,EAAA,SAAAnM,GAAmE,OAAhCe,EAAA7F,KAAA2F,KAAA,IAAAb,EAAA,EAAAA,GAAgCa,MAC1E,SAAAb,EAAAkB,GAAiE,OAAnCH,EAAA7F,KAAA2F,KAAA,IAAAb,EAAA,EAAAA,EAAAkB,GAAmCL,OAfjE,IAAA2E,EAAAnI,EAAAoI,GACAsD,EAAAvD,EACAgW,EAAAxI,EAAA,YACA/M,EAAA8C,KAAAnM,UACAkD,EAAA,GAcA,sBAAAiJ,IAAAkT,GAAAhW,EAAA2B,UAAAzE,EAAA,gBACA4F,GAAArC,UAAAf,UAMG,CACH,IAAAwW,EAAA,IAAApT,EAEAqT,EAAAD,EAAAX,GAAAS,EAAA,IAAqD,MAAAE,EAErDE,EAAAlZ,EAAA,WAAkDgZ,EAAAlc,IAAA,KAElDqc,EAAAR,EAAA,SAAArT,GAAwD,IAAAM,EAAAN,KAExD8T,GAAAN,GAAA9Y,EAAA,WAIA,IAFA,IAAAqZ,EAAA,IAAAzT,EACAhG,EAAA,EACAA,KAAAyZ,EAAAhB,GAAAzY,KACA,OAAAyZ,EAAAvc,KAAA,KAEAqc,MACAvT,EAAAwS,EAAA,SAAA5c,EAAA+M,GACAsP,EAAArc,EAAAoK,EAAAtD,GACA,IAAAzE,EAAA+a,EAAA,IAAAvW,EAAA7G,EAAAoK,GAEA,OADA3G,MAAAsJ,GAAAuP,EAAAvP,EAAAsH,EAAAhS,EAAAwa,GAAAxa,GACAA,KAEApE,UAAAqJ,GACA0N,YAAA5K,IAEAsT,GAAAE,KACAL,EAAA,UACAA,EAAA,OACAlJ,GAAAkJ,EAAA,SAEAK,GAAAH,IAAAF,EAAAV,GAEAS,GAAAhW,EAAAyV,cAAAzV,EAAAyV,WApCA3S,EAAAiT,EAAAV,eAAAC,EAAA9V,EAAAuN,EAAAwI,GACAT,EAAAhS,EAAAnM,UAAAsJ,GACAgG,EAAAE,QA4CA,OAPAlH,EAAA6D,EAAAtD,GAEA3F,EAAA2F,GAAAsD,EACApL,IAAAS,EAAAT,EAAAoB,EAAApB,EAAAO,GAAA6K,GAAAvD,GAAA1F,GAEAmc,GAAAD,EAAAH,UAAA9S,EAAAtD,EAAAuN,GAEAjK,oBCnFA,IAAA1J,EAAe1E,EAAQ,GACvB8hB,EAAqB9hB,EAAQ,IAAcigB,IAC3C9f,EAAAD,QAAA,SAAAmG,EAAArC,EAAAoK,GACA,IACAvK,EADAF,EAAAK,EAAAgV,YAIG,OAFHrV,IAAAyK,GAAA,mBAAAzK,IAAAE,EAAAF,EAAA1B,aAAAmM,EAAAnM,WAAAyC,EAAAb,IAAAie,GACAA,EAAAzb,EAAAxC,GACGwC,oBCHH,SAAA0b,EAAA5c,EAAAmG,GAEA,GADAtG,EAAAG,IACAT,EAAA4G,IAAA,OAAAA,EAAA,MAAA3G,UAAA2G,EAAA,6BAJA,IAAA5G,EAAe1E,EAAQ,GACvBgF,EAAehF,EAAQ,GAKvBG,EAAAD,QAAA,CACA+f,IAAAnf,OAAAghB,iBAAA,gBACA,SAAArU,EAAAuU,EAAA/B,GACA,KACAA,EAAcjgB,EAAQ,GAARA,CAAgBkE,SAAA3D,KAAiBP,EAAQ,IAAgB+E,EAAAjE,OAAAmB,UAAA,aAAAge,IAAA,IACvExS,EAAA,IACAuU,IAAAvU,aAAA5E,OACO,MAAAxG,GAAY2f,KACnB,gBAAA7c,EAAAmG,GAIA,OAHAyW,EAAA5c,EAAAmG,GACA0W,EAAA7c,EAAA8c,UAAA3W,EACA2U,EAAA9a,EAAAmG,GACAnG,GAVA,CAYK,YAAG,GACR4c,0BCvBA,IAAAG,EAAUliB,EAAQ,IAClB8E,EAAiB9E,EAAQ,IACzB6H,EAAgB7H,EAAQ,IACxBkF,EAAkBlF,EAAQ,IAC1BsF,EAAUtF,EAAQ,IAClBiF,EAAqBjF,EAAQ,IAC7BmiB,EAAArhB,OAAAshB,yBAEAliB,EAAA6E,EAAY/E,EAAQ,GAAgBmiB,EAAA,SAAAhd,EAAAtB,GAGpC,GAFAsB,EAAA0C,EAAA1C,GACAtB,EAAAqB,EAAArB,MACAoB,EAAA,IACA,OAAAkd,EAAAhd,EAAAtB,GACG,MAAAxB,IACH,GAAAiD,EAAAH,EAAAtB,GAAA,OAAAiB,GAAAod,EAAAnd,EAAAxE,KAAA4E,EAAAtB,GAAAsB,EAAAtB,oBCdA3D,EAAA6E,EAAA,GAAc8H,sCCCd,IAAAqF,EAAclS,EAAQ,IAEtB,iBAAAkS,MAAA,EAA4C/R,EAAAC,EAAS8R,EAAA,MAYxClS,EAAQ,GAARA,CAA2DkS,EALxE,CAAemQ,OAEf9L,iBACAtB,oBAIA/C,EAAAoQ,SAAAniB,EAAAD,QAAAgS,EAAAoQ,0BCjBAniB,EAAAD,QAA2BF,EAAQ,GAARA,MAE3B2H,KAAA,CAAcxH,EAAAC,EAAS,ijDAA+iD,eAAAiC,EAAAf,GCYtkDnB,EAAAD,QAAA,SAAA4U,GAEA,IAAAyN,EAAA,oBAAAje,eAAAie,SAEA,IAAAA,EACA,UAAArN,MAAA,oCAIA,IAAAJ,GAAA,iBAAAA,EACA,OAAAA,EAGA,IAAA0N,EAAAD,EAAAE,SAAA,KAAAF,EAAAG,KACAC,EAAAH,EAAAD,EAAAK,SAAAnZ,QAAA,iBA2DA,OA/BAqL,EAAArL,QAAA,+DAAAoZ,EAAAC,GAEA,IAWAC,EAXAC,EAAAF,EACAG,OACAxZ,QAAA,oBAAA5I,EAAAqiB,GAAwC,OAAAA,IACxCzZ,QAAA,oBAAA5I,EAAAqiB,GAAwC,OAAAA,IAGxC,0DAAAzV,KAAAuV,GACAH,GAQAE,EAFA,IAAAC,EAAA1W,QAAA,MAEA0W,EACG,IAAAA,EAAA1W,QAAA,KAEHkW,EAAAQ,EAGAL,EAAAK,EAAAvZ,QAAA,YAIA,OAAAiJ,KAAAC,UAAAoQ,GAAA,kBAAA1gB,EAAAf,EAAAJ,GClFA,IAAAgR,EAAclS,EAAQ,IAEtB,iBAAAkS,MAAA,EAA4C/R,EAAAC,EAAS8R,EAAA,MAYxClS,EAAQ,GAARA,CAA2DkS,EALxE,CAAemQ,OAEf9L,iBACAtB,oBAIA/C,EAAAoQ,SAAAniB,EAAAD,QAAAgS,EAAAoQ,yBCjBApiB,EAAAC,EAAAD,QAA2BF,EAAQ,GAARA,KAE3B,IAAAmjB,EAAanjB,EAAQ,IACrBojB,EAAAD,EAAsCnjB,EAAQ,KAC9CqjB,EAAAF,EAAsCnjB,EAAQ,IAAgC,UAC9EsjB,EAAAH,EAAsCnjB,EAAQ,KAC9CujB,EAAAJ,EAAsCnjB,EAAQ,MAC9CwjB,EAAAL,EAAsCnjB,EAAQ,KAAgC,aAE9EE,EAAAyH,KAAA,CAAcxH,EAAAC,EAAS,oDAAyCgjB,EAAA,4BAA+CC,EAAA,q2CAA2IC,EAAA,4BAAAC,EAAA,iCAAAC,EAAA,kaAAw0D,eAAAnhB,EAAAf,EAAAJ,GAAA,aCPlkEf,EAAAD,QAAA,SAAAujB,EAAAC,GACA,uBAAAD,EACAA,GAIA,eAAAhW,KAAAgW,KAEAA,IAAAjc,MAAA,OAKA,cAAAiG,KAAAgW,IAAAC,EACA,IAAArc,OAAAoc,EAAAha,QAAA,YAAAA,QAAA,kBAGAga,mBCnBAtjB,EAAAD,QAAA,iEAAAmC,EAAAf,GCAAnB,EAAAD,QAAA,gEAAAmC,EAAAf,GCAAnB,EAAAD,QAAA,gEAAAmC,EAAAf,EAAAJ,GAAA,aCAe,SAAAyiB,EAAAnC,EAAAzW,GACf,KAAAyW,aAAAzW,GACA,UAAApG,UAAA,qCCFA,SAAAif,EAAA5f,EAAA6f,GACA,QAAAzjB,EAAA,EAAiBA,EAAAyjB,EAAAvd,OAAkBlG,IAAA,CACnC,IAAAkf,EAAAuE,EAAAzjB,GACAkf,EAAAte,WAAAse,EAAAte,eACAse,EAAAtY,gBACA,UAAAsY,MAAArY,aACAnG,OAAAC,eAAAiD,EAAAsb,EAAA3d,IAAA2d,IAIe,SAAAwE,EAAA/Y,EAAAgZ,EAAAC,GAGf,OAFAD,GAAAH,EAAA7Y,EAAA9I,UAAA8hB,GACAC,GAAAJ,EAAA7Y,EAAAiZ,GACAjZ,ECoCO,SAASkZ,EAAgBC,EAAMC,EAAKC,EAAOC,EAAQnjB,EAAG4B,GAC3D,IAAMwhB,EAAK/f,KAAKggB,GAChBzhB,EAAI0hB,YACJ1hB,EAAI2hB,IAAIP,EAAOhjB,EAAGijB,EAAMjjB,EAAGA,GAAIojB,GAAKA,EAAK,GACzCxhB,EAAI2hB,IAAIP,EAAOE,EAAQljB,EAAGijB,EAAMjjB,EAAGA,GAAIojB,EAAK,EAAG,GAC/CxhB,EAAI2hB,IAAIP,EAAOE,EAAQljB,EAAGijB,EAAME,EAASnjB,EAAGA,EAAG,EAAGojB,EAAK,GACvDxhB,EAAI2hB,IAAIP,EAAOhjB,EAAGijB,EAAME,EAASnjB,EAAGA,EAAGojB,EAAK,EAAGA,GAC/CxhB,EAAI4hB,YD3CN3Z,aC2CM2Z,ICnDeC,aAKnB,SAAAA,IAAehB,EAAAzd,KAAAye,GAEbze,KAAK0e,OAASnY,SAASoY,eAAe,UAEtC3e,KAAK4e,QAAU5e,KAAK0e,OAAOG,WAAW,aAAA3kB,EAAAiC,EAAA,EAAAV,IAAA,gBAAAN,MAAA,SAOzB2jB,GAGb,IAAMC,EDAH,SAAwBH,GAW7B,OATyBxgB,OAAO4gB,kBAAoB,IAElDJ,EAAQK,wBACRL,EAAQM,8BACRN,EAAQO,2BACRP,EAAQQ,0BACRR,EAAQS,yBACRT,EAAQK,wBACR,GAVG,CCAyBjf,KAAK4e,SAEjC5e,KAAK0e,OAAO7U,MAAMqU,MAAlB,GAAA/c,OAA6B2d,EAA7B,MACA9e,KAAK0e,OAAO7U,MAAMsU,OAAlB,GAAAhd,OAA8B2d,EAA9B,MAEA9e,KAAK0e,OAAOR,MAAQa,EAAQD,EAC5B9e,KAAK0e,OAAOP,OAASY,EAAQD,EAG7B9e,KAAK4e,QAAQU,MAAMP,EAAOA,2CAO1B,MAAO,CACLb,MAAOle,KAAK0e,OAAOa,YACnBpB,OAAQne,KAAK0e,OAAOc,oBArCLf,GCJfgB,SAAmB,WAKnBC,EAAoB,GAkBpBC,EAAmB,EAGnBC,EAAoB,EAgCpBC,EAAqB,CAAC,KAAM,KAAM,IAAK,IAAK,KAE5CC,EAA2B,EAE3BC,EAAW,UCxDIC,aACnB,SAAAA,IAAevC,EAAAzd,KAAAggB,+CAMJC,GAETjgB,KAAKkgB,eACLlgB,KAAKmgB,aAAaF,EAAeA,ED+BL,OAAAxkB,IAAA,eAAAN,MAAA,WC3B5BoL,SAASiH,cAAc,UAAU3D,MAAMC,QAAU,WAAArO,IAAA,eAAAN,MAAA,SAGrCilB,EAAkBC,GAC9B,IAAMC,EAAW/Z,SAASga,iBAAiB,YACrCC,EAAUja,SAASiH,cAAc,SACvC8S,EAASvZ,QAAQ,SAAA0Z,GACfA,EAAQ5W,MAAMqU,MAAd,GAAA/c,OAAyBif,EAAzB,MACAK,EAAQ5W,MAAMsU,OAAd,GAAAhd,OAA0Bif,EAA1B,MACAK,EAAQ5W,MAAM6W,WAAd,GAAAvf,OAA8Bif,EAA9B,MACAK,EAAQ5W,MAAM8W,SAAd,GAAAxf,OAA4Bif,EAA5B,QAEFI,EAAQ3W,MAAM6W,WAAd,GAAAvf,OAA8Bif,EAA9B,MACAI,EAAQ3W,MAAM8W,SAAd,GAAAxf,OAA4Byf,SAASC,iBAAiBL,GAASG,UAC7DN,EAAc,EADhB,UAAAlkB,EA3BiB6jB,GCEAc,oBAanB,SAAAA,EACEC,EACAC,EACAf,EACAgB,EACAC,EACAC,EACAC,GACA3D,EAAAzd,KAAA8gB,GAEA9gB,KAAK+gB,WAAaA,EAClB/gB,KAAKghB,WAAaA,EAElBhhB,KAAKigB,cAAgBA,EAErBjgB,KAAKihB,cAAgBA,EAErBjhB,KAAKkhB,eAAiBA,EAEtBlhB,KAAKmhB,gBAAkBA,EAEvBnhB,KAAKohB,eAAiBA,yDAGFC,EAAGC,GACvBthB,KAAK+gB,WAAaM,EAClBrhB,KAAKghB,WAAaM,2CAGFrB,GAChBjgB,KAAKigB,cAAgBA,4CAGJmB,GACjBphB,KAAKohB,eAAiBA,0CAItBxkB,GAEAoD,KAAKuhB,cAAc3kB,gDAGCA,GFrDQ,IEsDxBoD,KAAKihB,eACPjhB,KAAKwhB,mBAAmB5kB,yCAab6kB,EAASC,EAASC,GAAY,IAAAC,EJpExC,SAAwBlD,EAAQ+C,EAASC,GAE9C,IAAMG,EAAMnD,EAAOoD,wBACbC,EAAUrD,EAAOR,MAAQ2D,EAAI3D,MAC7B8D,EAAUtD,EAAOP,OAAS0D,EAAI1D,OAEpC,MAAO,CACLkD,GAAII,EAAUI,EAAI7D,MAAQ+D,EAC1BT,GAAII,EAAUG,EAAI5D,KAAO+D,GARtB,CIsE4BL,EAAWjD,OAAQ+C,EAASC,GAAnDL,EAFmCO,EAEnCP,EAAGC,EAFgCM,EAEhCN,EASX,OARAvD,EACE/d,KAAK+gB,WACL/gB,KAAKghB,WACLhhB,KAAKigB,cACLjgB,KAAKigB,cACLjgB,KAAKmhB,gBACLQ,EAAW/C,SAEN+C,EAAW/C,QAAQqD,cAAcZ,EAAGC,yCAS9B1kB,GACbmhB,EACE/d,KAAK+gB,WACL/gB,KAAKghB,WACLhhB,KAAKigB,cACLjgB,KAAKigB,cACLjgB,KAAKmhB,gBACLvkB,GAEFA,EAAIslB,UAAYliB,KAAKohB,eACrBxkB,EAAImW,8CAGUnW,IJtDX,SAA0BohB,EAAMC,EAAKC,EAAOC,EAAQvhB,GACzDA,EAAIulB,UAAUnE,EAAMC,EAAKC,EAAOC,GAD3B,CIwDDne,KAAK+gB,WACL/gB,KAAKghB,WACLhhB,KAAKigB,cACLjgB,KAAKigB,cACLrjB,8CAWgBA,GAClBoD,KAAKkhB,eAAekB,UAClBpiB,KAAK+gB,WACL/gB,KAAKghB,WACLhhB,KAAKigB,cACLrjB,6CAIeylB,EAAezlB,GAChCoD,KAAKkhB,eAAeoB,UAAYD,EAChCriB,KAAKwhB,mBAAmB5kB,GACxBoD,KAAKihB,cAAgBoB,oDAGIE,EAAWC,GAEpCxiB,KAAKkhB,eAAeuB,aAClBF,GAEFviB,KAAKkhB,eAAewB,kBAClBF,SA9Ie1B,ICGA6B,aAYnB,SAAAA,EAAaL,EAAWC,EAAWC,GAAgB/E,EAAAzd,KAAA2iB,GACjD3iB,KAAKsiB,UAAYA,EACjBtiB,KAAKuiB,UAAYA,EACjBviB,KAAKwiB,eAAiBA,iDAGVD,GACZviB,KAAKuiB,UAAYA,4CAGAC,GACjBxiB,KAAKwiB,eAAiBA,oCAGbI,EAAY5B,EAAYf,EAAerjB,GAChD,GAAIoD,KAAKsiB,YAAc3C,EACrB3f,KAAK6iB,eAAeD,EAAY5B,EAAYf,EAAerjB,OACtD,IAAIoD,KAAKsiB,YAAc1C,EAG5B,OAAO,KAFP5f,KAAK8iB,gBAAgBF,EAAY5B,EAAYf,EAAerjB,4CAM/CgmB,EAAY5B,EAAYf,EAAerjB,ILenD,SAAqBykB,EAAGC,EAAGtmB,EAAG4B,GAEnC,IAAMwhB,EAAK/f,KAAKggB,GAChBzhB,EAAI0hB,YACJ1hB,EAAI2hB,IAAI8C,EAAGC,EAAGtmB,EAAG,EAAQ,EAALojB,MACpBxhB,EAAI4hB,YALC,CKdOoE,EAAa3C,EAAgB,EAC7Be,EAAaf,EAAgB,EACtBjgB,KAAKuiB,UAAY,EAAG3lB,GACrCA,EAAImmB,UAAY/iB,KAAKwiB,eACrB5lB,EAAIomB,YHlBmB,UGmBvBpmB,EAAIqmB,gDAGUL,EAAY5B,EAAYf,EAAerjB,ILclD,SAAoBykB,EAAGC,EAAG4B,EAAMhF,EAAOiF,EAAOC,EAAKxmB,GACxDA,EAAImmB,UAAY7E,EAChBthB,EAAIomB,YEpCoB,UFqCxBpmB,EAAI0hB,YACJ1hB,EAAIymB,OAAOhC,EAAI6B,EAAO,EAAG5B,EAAI4B,EAAO,GACpCtmB,EAAI0mB,OAAOjC,EAAI6B,EAAO,EAAG5B,EAAI4B,EAAO,GACpCtmB,EAAI2mB,QAAUH,EACdxmB,EAAIqmB,SACJrmB,EAAI4hB,YAEJ5hB,EAAI0hB,YACJ1hB,EAAIymB,OAAOhC,EAAI6B,EAAO,EAAG5B,EAAI4B,EAAO,GACpCtmB,EAAI0mB,OAAOjC,EAAI6B,EAAO,EAAG5B,EAAI4B,EAAO,GACpCtmB,EAAI2mB,QAAUH,EACdxmB,EAAIqmB,SACJrmB,EAAI4hB,YAfC,CKbOoE,EAAa3C,EAAgB,EAC7Be,EAAaf,EAAgB,EAIrCjgB,KAAKuiB,UACLviB,KAAKwiB,eH3Be,EAEE,QG4BtB5lB,SAvDe+lB,GCQAa,qFAUHvD,EAAerjB,GAAK,IAAA6mB,EAK9BzjB,KAAK0jB,gCAAgCzD,GAFvCsC,EAHgCkB,EAGhClB,UACAC,EAJgCiB,EAIhCjB,eAEFxiB,KAAK2jB,WAAa,GAClB,IAAK,IAAIC,EAAM,EAAGA,EAAMlE,EAAmBkE,IAAO,CAChD5jB,KAAK2jB,WAAWC,GAAO,GACvB,IAAK,IAAIC,EAAM,EAAGA,EAAMnE,EAAmBmE,IAEzC7jB,KAAK2jB,WAAWC,GAAKC,GAAO,IAAI/C,EAC9B8C,GAAO3D,EJjCO,GIkCd4D,GAAO5D,EJlCO,GImCdA,EJhCsB,EIkCtB,IAAI0C,EJlCkB,EIkCaJ,EAAWC,GJzB9B,EI2BhB/C,GAGFzf,KAAK2jB,WAAWC,GAAKC,GAAKtC,cAAc3kB,4CAK7BA,GACf,IAAK,IAAIgnB,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzC,IAAK,IAAIC,EAAM,EAAGA,EAAMnE,EAAmBmE,IACzC7jB,KAAK2jB,WAAWC,GAAKC,GAAK5C,cJ/CF,EIgDxBjhB,KAAK2jB,WAAWC,GACdC,GACA3C,eAAeoB,UJlDO,EImDxBtiB,KAAK2jB,WAAWC,GAAKC,GAAKC,kBAAkBrE,GAC5Czf,KAAK2jB,WAAWC,GAAKC,GAAKtC,cAAc3kB,wCAKhCqjB,GACZ,OACEA,EAAgBP,EJ9DE,GI+DCA,EAAoB,MAAAjkB,IAAA,mBAAAN,MAAA,SAIzBilB,EAAkBxjB,GAIlC,IAJuC,IAAAmnB,EACD/jB,KAAK0jB,gCACzCtD,GADMmC,EAD+BwB,EAC/BxB,UAAWC,EADoBuB,EACpBvB,eAGVoB,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzC,IAAK,IAAIC,EAAM,EAAGA,EAAMnE,EAAmBmE,IAAO,CAEhD,IAAMG,EAAYhkB,KAAK2jB,WAAWC,GAAKC,GACvCG,EAAUC,iBAAiB7D,GAE3B4D,EAAUE,qBACRN,GAAOxD,EJ9EO,GI+EdyD,GAAOzD,EJ/EO,IIkFhB4D,EAAUG,0BAA0B5B,EAAWC,GAE/CwB,EAAUI,gBAAgBxnB,GAC1BonB,EAAUK,qBACRznB,4DAMyBqjB,GAC/B,IAGIsC,EAAYlkB,KAAKimB,MAAMrE,GJ/DO,GAMN,KIiE5B,MAAO,CACLsC,UARFA,EAAYA,EAAY,GAAM,EAAIA,EAAYA,EAAY,EASxDC,eAPEvC,EAAgBsE,GACDC,EJhEoB,OAAAroB,EIzBtBqnB,GCdAiB,aACnB,SAAAA,EAAaC,EAAYC,EAAiBC,GAAcnH,EAAAzd,KAAAykB,GAEtDzkB,KAAK0kB,WAAaA,EAElB1kB,KAAK2kB,gBAAkBA,EAEvB3kB,KAAK4kB,aAAeA,wDAODjB,EAAYkB,EAAUjoB,EAAKkoB,EAAkBC,EAAeC,EAAQC,GACvFtB,EAAWkB,EAASjB,KAAKiB,EAAShB,KAAKqB,kBAAkBllB,KAAK2kB,gBAAiB/nB,GAG3EoD,KAAK2kB,kBAAoBM,GAA2C,IAA5BH,EAAiB1kB,SAC3D0kB,EAAiBA,EAAiB1kB,OAAS,GAAG+kB,eAAevoB,GAC7DkoB,EAAiBA,EAAiB1kB,OAAS,GAAG0jB,kBAAkBrE,GAChEqF,EAAiBA,EAAiB1kB,OAAS,GAAGgkB,gBAAgBxnB,GAC9DkoB,EAAiBA,EAAiB1kB,OAAS,GAAGikB,qBAC5CznB,IAGAoD,KAAK2kB,kBAAoBM,GAAwC,IAAzBF,EAAc3kB,SACxD2kB,EAAcA,EAAc3kB,OAAS,GAAG+kB,eAAevoB,GACvDmoB,EAAcA,EAAc3kB,OAAS,GAAG0jB,kBAAkBrE,GAC1DsF,EAAcA,EAAc3kB,OAAS,GAAGgkB,gBAAgBxnB,GACxDmoB,EAAcA,EAAc3kB,OAAS,GAAGikB,qBACtCznB,IAGJ+mB,EAAWkB,EAASjB,KAAKiB,EAAShB,KAAKsB,eAAevoB,GACtD+mB,EAAWkB,EAASjB,KAAKiB,EAAShB,KAAKC,kBLtCX,0BKuC5BH,EAAWkB,EAASjB,KAAKiB,EAAShB,KAAKO,gBAAgBxnB,GACvD+mB,EAAWkB,EAASjB,KAAKiB,EAAShB,KAAKQ,qBACrCznB,GAEEoD,KAAK2kB,kBAAoBM,GAC3BH,EAAiBrjB,KAAKkiB,EAAWkB,EAASjB,KAAKiB,EAAShB,MAEtD7jB,KAAK2kB,kBAAoBM,GAC3BF,EAActjB,KAAKkiB,EAAWkB,EAASjB,KAAKiB,EAAShB,YA5CtCY,GCuBfW,SAAqB,CACzBC,KAAM,CAAC,SACPC,KAAM,CAAC,UACPC,aAAc,CAAC,SAAU,SAAU,QAAS,QAAS,SACrDC,MAAO,CAAC,SAAU,SAAU,SAAU,UACtCC,cAAe,CACb,SACA,SACA,SACA,SACA,SACA,SACA,QACA,QACA,QACA,WAEFC,IAAK,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACxDC,YAAa,CACX,SACA,SACA,SACA,SACA,SACA,SACA,QACA,UACA,UACA,WAEFC,IAAK,CAAC,SAAU,SAAU,SAAU,UACpCC,YAAa,CAAC,SAAU,SAAU,UAAW,UAAW,aAGpDC,EAAsB,CAC1BT,KAAM,CAAC,SACPC,KAAM,CAAC,UACPC,aAAc,CAAC,SAAU,SAAU,QAAS,QAAS,SACrDC,MAAO,CAAC,SAAU,SAAU,SAAU,UACtCC,cAAe,CACb,SACA,SACA,SACA,SACA,SACA,SACA,QACA,QACA,QACA,WAEFC,IAAK,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACxDC,YAAa,CACX,SACA,SACA,SACA,SACA,SACA,SACA,QACA,UACA,UACA,WAEFC,IAAK,CAAC,SAAU,SAAU,SAAU,UACpCC,YAAa,CAAC,SAAU,SAAU,UAAW,UAAW,YC1FnD,SAASE,EAA4BzD,EAAWqB,EAAYkB,GAMjE,IAEMmB,EAAmB1D,IAAc3C,EAAmByF,EAAqBU,EAI/E,OA4CK,SAAoCG,EAAmBD,GAC5D,IAAIE,EAAmB,CAIrBb,KAAM,EAENC,KAAM,EAINC,aAAc,EAEdC,MAAO,EAEPC,cAAe,EAEfC,IAAK,EAELC,YAAa,EAEbC,IAAK,EAELC,YAAa,GAaf,OAXAI,EAAkBlf,QAAQ,SAACof,GACzB,IAAK,IAAMC,KAAkBF,EAC3B,GAAIA,EAAiBlqB,eAAeoqB,IAC9BC,EAAgBF,EAAkBC,EAAgBJ,GAAmB,CACvEE,EAAiBE,IAAmB,EACpC,SAMDF,EApCF,CAzCP,SAA+BvC,EAAYkB,EAAUyB,GAKnD,IAL4D,IAEpD1C,EAAaiB,EAAbjB,IAAKC,EAAQgB,EAARhB,IAEPoC,EAAoB,CAAC,GAAI,GAAI,GAAI,IAC9B/jB,EAAQ0hB,GAAO9D,EAA2B,GAAK,EAAG5d,GAAS0hB,GAAO9D,EAA2B,GAAK,EAAG5d,IAE1G+jB,EAAkB,IADhB/jB,EAAQ,GAAawd,EAAoB,EAA5Bxd,EACSokB,EAEA3C,EAAWzhB,GAAO2hB,GAAK5C,cAInD,IAAK,IAAI/e,EAAQ2hB,GAAO/D,EAA2B,GAAK,EAAG5d,GAAS2hB,GAAO/D,EAA2B,GAAK,EAAG5d,IAE1G+jB,EAAkB,IADhB/jB,EAAQ,GAAawd,EAAoB,EAA5Bxd,EACSokB,EAEA3C,EAAWC,GAAK1hB,GAAO+e,cAInD,IAAK,IAAI/e,EAAQ0hB,GAAO9D,EAA2B,GAAK,EAAG5d,GAAS0hB,GAAO9D,EAA2B,GAAK,EAAG5d,IAE1G+jB,EAAkB,IADhB/jB,EAAQ,GAAawd,EAAoB,EAA5Bxd,GAAiCA,GAAS0hB,EAAMC,GAAO,GAA2BnE,EAAoB,EAA1Cxd,GAAS0hB,EAAMC,GAClEyC,EAEA3C,EAAWzhB,GAAOA,GAAS0hB,EAAMC,IAAM5C,cAInE,IAAK,IAAI/e,EAAQ0hB,GAAO9D,EAA2B,GAAK,EAAG5d,GAAS0hB,GAAO9D,EAA2B,GAAK,EAAG5d,IAE1G+jB,EAAkB,IADhB/jB,EAAQ,GAAawd,EAAoB,EAA5Bxd,GAAiC0hB,EAAMC,EAAM3hB,EAAQ,GAAyBwd,EAAoB,EAAxCkE,EAAMC,EAAM3hB,EAC7DokB,EAEA3C,EAAWzhB,GAAO0hB,EAAMC,EAAM3hB,GAAO+e,cAKjE,OAAOgF,EAtCT,CALiDtC,EAAYkB,EAJ3CvC,IAAc3C,EAAmBC,EAAoBD,GAMjBqG,GA+HtD,SAASK,EAAiBE,EAAYH,EAAgBJ,GAGpD,IAAK,IAAI9jB,EAAQ,EAAGA,EAAQ8jB,EAAiBI,GAAgBhmB,OAAQ8B,IACnE,IAAqE,IAAjEqkB,EAAWngB,QAAQ4f,EAAiBI,GAAgBlkB,IAEtD,SAGJ,SA+CK,SAASskB,EAAyBlE,EAAWmE,GAClD,IAAMC,EAAqBpE,IAAc3C,EAAmByF,EAAqBU,EAC3Ea,EAAwBrE,IAAc3C,EAAmBmG,EAAsBV,EAKrF,OAgEF,SAAiCwB,EAAgBD,EAAuBD,GAEtE,IAAIR,EAAmB,CAOrBb,KAAM,CACJwB,MAAO,EACPC,GAAI,GAGNxB,KAAM,CACJuB,MAAO,EACPC,GAAI,GAGNvB,aAAc,CACZsB,MAAO,EACPC,GAAI,GAGNtB,MAAO,CACLqB,MAAO,EACPC,GAAI,GAGNrB,cAAe,CACboB,MAAO,EACPC,GAAI,GAGNpB,IAAK,CACHmB,MAAO,EACPC,GAAI,GAGNnB,YAAa,CACXkB,MAAO,EACPC,GAAI,GAGNlB,IAAK,CACHiB,MAAO,EACPC,GAAI,GAGNjB,YAAa,CACXgB,MAAO,EACPC,GAAI,IAiBR,OAbAF,EAAe7f,QAAQ,SAACwf,GACtB,IAAK,IAAMH,KAAkBF,EACvBA,EAAiBlqB,eAAeoqB,KAC9BC,EAAgBE,EAAYH,EAAgBO,KAC9CT,EAAiBE,GAAgBS,OAAS,GAExCR,EAAgBE,EAAYH,EAAgBM,KAC9CR,EAAiBE,GAAgBU,IAAM,MAMxCZ,EApET,CA7DA,SAA4BvC,GAO1B,IAHA,IAAMiD,EAAiB,GAGdhD,EAAM,EAAGA,EAAMlE,EAAmBkE,IAAO,CAEhD,IADA,IAAImD,EAAgB,GACXlD,EAAM,EAAGA,EAAMnE,EAAmBmE,IACzCkD,GAAiBpD,EAAWC,GAAKC,GAAK5C,cAExC2F,EAAenlB,KAAKslB,GAItB,IAAK,IAAIlD,EAAM,EAAGA,EAAMnE,EAAmBmE,IAAO,CAEhD,IADA,IAAImD,EAAgB,GACXpD,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzCoD,GAAiBrD,EAAWC,GAAKC,GAAK5C,cAExC2F,EAAenlB,KAAKulB,GAItB,IAAK,IAAI9kB,EAAQ,EAAGA,GAAS,GAAKwd,EAAoB,GAAIxd,IAAS,CAEjE,IADA,IAAI+kB,EAAyB,GACpBpD,EAAM,EAAGA,EAAMnE,EAAmBmE,IACzC,IAAK,IAAID,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzC,GAAIA,EAAMC,IAAQ3hB,EAAO,CACvB+kB,GAA0BtD,EAAWC,GAAKC,GAAK5C,cAC/C,MAIN2F,EAAenlB,KAAKwlB,GAItB,IAAK,IAAI/kB,EAAQ,EAAIwd,EAAmBxd,EAAQwd,EAAmBxd,IAAS,CAE1E,IADA,IAAIglB,EAA0B,GACrBrD,EAAM,EAAGA,EAAMnE,EAAmBmE,IACzC,IAAK,IAAID,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzC,GAAIA,EAAMC,IAAQ3hB,EAAO,CACvBglB,GAA2BvD,EAAWC,GAAKC,GAAK5C,cAChD,MAIN2F,EAAenlB,KAAKylB,GAGtB,OAAON,EApDT,CAP2CH,GAIKE,EAAuBD,GC9MvE,IAAMS,EAAqB,CACzBvB,IAAK,GACLF,IAAK,IACLF,MAAO,IACPF,KAAM,IACND,KAAM,IACNQ,YAAa,EACbF,YAAa,GACbF,cAAe,IACfF,aAAc,IACd6B,oBAAqB,KCoBhB,SAASC,EAA2B/E,EAAWqB,EAAYkB,GAChE,IAAMqB,EAAmBH,EACvBzD,EACAqB,EACAkB,GAEEyC,EAAyB,EAE7B,IAAK,IAAMlB,KAAkBF,EAEvBA,EAAiBlqB,eAAeoqB,KAClCkB,GAEEpB,EAAiBE,GAAkBe,EAAmBf,IAI5D,MAAO,CAAEmB,MAxCX,SAAkBA,GAEhB,OAAIA,EAAQJ,EAAmB7B,MAAQiC,GAASJ,EAAmB5B,aAE3DgC,GAASJ,EAAmB5B,cAAgBgC,EAASJ,EAAmB5B,aAAe4B,EAAmB3B,MAEnG2B,EAAmB3B,MACnB+B,GAASJ,EAAmB5B,aAAe4B,EAAmB3B,OAAS+B,EAA0C,EAAlCJ,EAAmB5B,aAElG4B,EAAmB7B,KAGO,EAA1B6B,EAAmB7B,KAG3BiC,EAfT,CAwC2BD,GAAyBE,MAAOtB,GCuP3D,SAASuB,EAAapG,EAAGC,EAAGoG,EAAUF,EAAO7D,GAM3C,IALA,IAAMgE,EAAMhE,EAAWvjB,OAEjBwnB,EAAOvG,EAAIqG,EACXG,EAASvG,EAAIoG,EACbI,EAAOxG,EAAIoG,EACRxtB,EAJMmnB,EAAIqG,EAIExtB,GAAK0tB,EAAM1tB,IAC9B,KAAIA,EAAI,GAAUytB,GAALztB,GACb,IAAK,IAAImU,EAAIwZ,EAAQxZ,GAAKyZ,EAAMzZ,IAC9B,KAAIA,EAAI,GAAUsZ,GAALtZ,KACTnU,IAAMmnB,GAAKhT,IAAMiT,IACkB,IAAnCqC,EAAWzpB,GAAGmU,GAAG4S,iBACnBuG,GACa,EAAG,SAItB,SDxQyDtB,YE/CpD,IAAM6B,EAAS,CAEpBC,UAAW,EAEXC,gBAAiB,EAEjBC,WAAY,ICqUVC,GC5SYhB,EAAmB3B,MACnB2B,EAAmB7B,KD2SpB,MACf,SAAS8C,EACPC,EACAC,EACAC,EACAC,EACAlG,EACA2C,EACAtB,EACAmB,EACAC,EACA0D,EACAC,EACAC,GAMA,IAAIC,KAEJ,IAAK,IAAIC,KAASJ,EAAgC,IAApBV,EAAOG,WAGnC,OAFAY,QAAQC,IAAI,cACZC,KACO1G,IAAc2C,GAAelF,EAAWA,EAQjD,IAAMmG,EAAmBM,EAAwBvB,EAAatB,GAC9D,GAAc,IAAV0E,GAA6C,EAA9BnC,EAAgBb,KAASyB,IAA2C,EAAjCZ,EAAgBb,KAASwB,MA8C7E,OHxWG,SAAiC5B,EAAa3C,EAAWqB,GAC9D,IAAMuC,EAAmBM,EAAwBvB,EAAatB,GAC1DsF,EAAsB,EAC1B,IAAK,IAAM7C,KAAkBF,EAAkB,CAC7C,IAAMgD,EACNhD,EAAiBE,GAAgBU,GAAKK,EAAmBf,GACnD+C,EACNjD,EAAiBE,GAAgBS,MACjCM,EAAmBf,GACfF,EAAiBlqB,eAAeoqB,KAElC6C,GAA6CC,EAAUC,GAI3D,OAAO7G,IAAc2C,EAAcgE,GAAuBA,EAfrD,CG4TDhE,EACA3C,EACAqB,GA4CJ,IAAIyF,EFvZC,SAAwB9G,EAAW2C,EAAatB,EAAYmB,EAAkBC,GAenF,IAdA,IAAMsE,EAAQ,GAGRC,EAAU,GACVC,EAAa,GACbC,EAAiB,GACjBC,EAAoB,GACpBC,EAAc,GACdC,EAAiB,GACjBC,EAAW,GACXC,EAAc,GACdC,EAAS,GACTC,EAAY,GACZC,EAAY,GACTpG,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzC,IAAK,IAAIC,EAAM,EAAGA,EAAMnE,EAAmBmE,IAEzC,GAA2C,IAAvCF,EAAWC,GAAKC,GAAK5C,cAAqB,CAE5C,GAAI6D,EAAiB1kB,OAAS2kB,EAAc3kB,OAAS,GAEnD,IAAKqnB,EAAY7D,EAAKC,EAAK,EAAG,EAAGF,GAAa,cAG9C,IAAK8D,EAAY7D,EAAKC,EAAK,EAAG,EAAGF,GAAa,SAahD,IAAMsG,EAAW5C,EANjB1D,EAAWC,GAAKC,GAAK5C,cAAgBgE,EAMmBtB,EAAY,CAClEC,MACAC,QAGFF,EAAWC,GAAKC,GAAK5C,cAAgB,EAAIgE,EAMzC,IAAMiF,EAAc7C,EAClB,EAAIpC,EACJtB,EACA,CACEC,MACAC,QAIJF,EAAWC,GAAKC,GAAK5C,cAAgB,EASrC,IAAM9lB,EAAQkD,KAAKuI,IAAIqjB,EAAS1C,MAAO2C,EAAY3C,OACxB,GAAvB0C,EAASzC,MAAMnC,KACjBgE,EAAM5nB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACY,GAA1B+uB,EAAY1C,MAAMnC,KAC3BgE,EAAM5nB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACS,GAAvB8uB,EAASzC,MAAMlC,KACxBgE,EAAQ7nB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACU,GAA1B+uB,EAAY1C,MAAMlC,KAC3BiE,EAAW9nB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACY,GAA/B8uB,EAASzC,MAAMjC,aACxBiE,EAAe/nB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACW,GAAlC+uB,EAAY1C,MAAMjC,aAC3BkE,EAAkBhoB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACF,GAAxB8uB,EAASzC,MAAMhC,MACxBkE,EAAYjoB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACO,GAA3B+uB,EAAY1C,MAAMhC,MAC3BmE,EAAeloB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACC,GAAxB8uB,EAASzC,MAAMhC,MACxBoE,EAASnoB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACU,GAA3B+uB,EAAY1C,MAAMhC,MAC3BqE,EAAYpoB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UACE,GAAtB8uB,EAASzC,MAAM9B,IACxBoE,EAAOK,QAAQ,CAAEvG,MAAKC,MAAK1oB,UACO,GAAzB+uB,EAAY1C,MAAM9B,IAC3BqE,EAAUI,QAAQ,CAAEvG,MAAKC,MAAK1oB,UAE9B6uB,EAAUvoB,KAAK,CAAEmiB,MAAKC,MAAK1oB,UAMnC,GAAIkuB,EAAMjpB,OACR,OAAOipB,EAuCT,GAAI/G,IAAc2C,GAAeqE,EAAQlpB,OAAQ,OAAOkpB,EACxD,GAAIhH,IAAc,EAAI2C,GAAesE,EAAWnpB,OAAQ,OAAOmpB,EAG/D,GACEjH,IAAc2C,GACdsE,EAAWnpB,SACVopB,EAAeppB,OAEhB,OAAOmpB,EAET,GACEjH,IAAc,EAAI2C,GAClBqE,EAAQlpB,SACPqpB,EAAkBrpB,OAEnB,OAAOkpB,EAIT,IAAMc,EACJ9H,IAAc2C,EACVqE,EAAQnoB,OAAOooB,GACfA,EAAWpoB,OAAOmoB,GAClBe,EACJ/H,IAAc2C,EACVuE,EAAeroB,OAAOsoB,GACtBA,EAAkBtoB,OAAOqoB,GAC/B,GAAIY,EAAMhqB,OAAQ,OAAOgqB,EAAMjpB,OAAOkpB,GAkBtC,IAAItiB,EAAS,GAmBb,GAlBIua,IAAc2C,IAChBld,EAAS2hB,EACNvoB,OAAOwoB,GACPxoB,OAAOqoB,GACProB,OAAOsoB,GACPtoB,OAAOyoB,GACPzoB,OAAO0oB,IAERvH,IAAc,EAAI2C,IACpBld,EAAS4hB,EACNxoB,OAAOuoB,GACPvoB,OAAOsoB,GACPtoB,OAAOqoB,GACProB,OAAO0oB,GACP1oB,OAAOyoB,IAIRF,EAAYtpB,QAAUupB,EAAevpB,OACvC,OAAO2H,EAGT,IAAIuiB,EAAO,GAaX,OAXEA,EADEhI,IAAc2C,EACT6E,EAAO3oB,OAAO4oB,GAEdA,EAAU5oB,OAAO2oB,IAGrBxiB,KAAK,SAACnI,EAAGkB,GACZ,OAAOA,EAAElF,MAAQgE,EAAEhE,QAKD,IAHpB4M,EAASA,EAAO5G,OAAOmpB,EAAKlqB,OAASkqB,EAAON,IAGjC5pB,OACF2H,EAAOzG,MAAM,EAAG,IAGlByG,EAjOF,CEwZHua,EACA2C,EACAtB,EACAmB,EACAC,GAEEsD,IAAUC,IAEZc,EAAamB,EAAYppB,OAAOioB,IAqBlC,IAFA,IAAIoB,GAAS,EACTC,EAAO,KACFvoB,EAAQ,EAAGA,EAAQknB,EAAWhpB,OAAQ8B,IAAS,CACtDyhB,EAAWyF,EAAWlnB,GAAO0hB,KAC3BwF,EAAWlnB,GAAO2hB,KAClB5C,cAAgBqB,EAClBoG,EAAQgC,aAAatB,EAAWlnB,GAAQyhB,GACxC,IAAIhkB,EAAM,KAyDV,GAxDIipB,EAeQL,GAdV5oB,GAAOyoB,EACLC,EAAQ,EACRC,GACCC,EAAQ,GACRA,EACD,EAAIjG,EACJ2C,EACAtB,EACAmB,EACAC,EACA0D,EACAC,EACAC,KAEiBhpB,EAAM6oB,IAEvB7oB,GAAOyoB,EACLC,EAAQ,EACRC,GACCE,GACAD,EACD,EAAIjG,EACJ2C,EACAtB,EACAmB,EACAC,EACA0D,EACAC,EACAC,IAIJhpB,GAAOyoB,EACLC,EAAQ,EACRC,GACCE,GACAD,EACD,EAAIjG,EACJ2C,EACAtB,EACAmB,EACAC,EACA0D,EACAC,EACAC,GAGJhF,EAAWyF,EAAWlnB,GAAO0hB,KAAKwF,EAAWlnB,GAAO2hB,KAAK5C,cAAgB,EACzEyH,EAAQiC,eAAevB,EAAWlnB,GAAQyhB,GAO/B6E,GAAP7oB,EAUF,OATKqpB,IACHN,EAAQkC,eAAe,EAAGpC,EAAMH,GAChCM,EAAQkC,kBAAkBzB,EAAWlnB,GAAQmmB,GAE7CK,EAAQoC,UAAUpC,EAAQqC,UAAY,CACpCtvB,IAAKitB,EAAQsC,cACbC,KAAM7B,EAAWlnB,KAGdsmB,EAECD,EAAN5oB,IACFipB,KACA4B,EAAQ,EACRjC,EAAQ5oB,EAER8qB,EAAO,CACL7G,IAAKwF,EAAWlnB,GAAO0hB,IACvBC,IAAKuF,EAAWlnB,GAAO2hB,KAErBwE,IAAUC,IAEZiC,EAAc,CADdpC,EAAWsC,GAEX3B,QAAQC,IAAI,YAAaV,EAAOF,KAqBtC,OAfKa,IACCyB,GACF9B,EAAQkC,kBAAkBJ,EAAMpC,GAElCK,EAAQkC,eAAeJ,EAAOjC,EAAOF,GAGnCK,EAAQoC,UAAUpC,EAAQqC,WAC1BrC,EAAQoC,UAAUpC,EAAQqC,UAAUtvB,MAAQitB,EAAQsC,gBAEpDtC,EAAQoC,UAAUpC,EAAQqC,UAAUtvB,KAAO,EAC3CitB,EAAQoC,UAAUpC,EAAQqC,UAAUE,KAAO,OAIxC1C,EAcT,IAAIS,KACAuB,EAAc,GAAAvvB,EAAA,IAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,QEpgBGkwB,aAKnB,SAAAA,IAAezN,EAAAzd,KAAAkrB,GACblrB,KAAKmrB,YAAc,IAAIC,IACvBprB,KAAK+qB,SAAW,EAChB/qB,KAAKgrB,cAAgB,EACrBhrB,KAAKkjB,KAAO,IACZljB,KAAKqrB,YAAcH,EAAQI,cAC3BtrB,KAAK8qB,UAAY,UAAA5wB,EAAAiC,EAAA,EAAAV,IAAA,gBAAAN,MAAA,WAIjB6E,KAAK8qB,UAAY,MAAArvB,IAAA,uBAAAN,MAAA,SA6BGowB,GACpB,IAAIC,EACJxrB,KAAK+qB,SAAW,EAEhB,IAAK,IAAI7wB,EADT8F,KAAKgrB,cAAgB,EACL9wB,EAAIwlB,EAAmBxlB,IACrC,IAAK,IAAImU,EAAI,EAAGA,EAAIqR,EAAmBrR,IAEvB,KADdmd,EAAQD,EAAMrxB,GAAGmU,GAAG4S,iBAElBjhB,KAAK+qB,UAAYS,EACbxrB,KAAKqrB,YAAYnxB,GAAGmU,GAAG,GAAG,GAC1BrO,KAAKqrB,YAAYnxB,GAAGmU,GAAG,GAAG,GAC9BrO,KAAKgrB,eAAiBQ,EAClBxrB,KAAKqrB,YAAYnxB,GAAGmU,GAAG,GAAG,GAC1BrO,KAAKqrB,YAAYnxB,GAAGmU,GAAG,GAAG,OAAA5S,IAAA,eAAAN,MAAA,SAWxB8vB,EAAMM,GAAO,IACjB3H,EAAaqH,EAAbrH,IAAKC,EAAQoH,EAARpH,IACP2H,EAAQD,EAAM3H,GAAKC,GAAK5C,cAC9BjhB,KAAK+qB,UAAYS,EACbxrB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,GAC9B7jB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,GAClC7jB,KAAKgrB,eAAiBQ,EAClBxrB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,GAC9B7jB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,MAAApoB,IAAA,iBAAAN,MAAA,SAQpB8vB,EAAMM,GAAO,IACnB3H,EAAaqH,EAAbrH,IAAKC,EAAQoH,EAARpH,IACP2H,EAAQD,EAAM3H,GAAKC,GAAK5C,cAC9BjhB,KAAK+qB,UAAYS,EACbxrB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,GAC9B7jB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,GAClC7jB,KAAKgrB,eAAiBQ,EAClBxrB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,GAC9B7jB,KAAKqrB,YAAYzH,GAAKC,GAAK,GAAG,MAAApoB,IAAA,kBAAAN,MAAA,SAUnBotB,EAAOC,EAAMH,GAC5B,IAAM1sB,EAAIqE,KAAK+qB,SAAW/qB,KAAKkjB,KAC/B,GAAIljB,KAAKmrB,YAAY/rB,IAAIzD,GAAI,CAE3B,IAAMie,EAAQ5Z,KAAKmrB,YAAYpwB,IAAIY,GAEnC,GAAIie,EAAM,KAAO5Z,KAAKgrB,eAChBpR,EAAM,IAAMyO,EACd,OAAQzO,EAAM,IACZ,KAAK,EACH,OAAOA,EAAM,GACf,KAAK,EACH,GAAIA,EAAM,IAAM4O,EACd,OAAOA,EAET,MACF,KAAM,EACJ,GAAI5O,EAAM,IAAM2O,EACd,OAAOA,GAOnB,Od7GgB,cAAA9sB,IAAA,iBAAAN,MAAA,ScsHF4B,EAAM5B,EAAOktB,GAC3B,IAAM1sB,EAAIqE,KAAK+qB,SAAW/qB,KAAKkjB,KAC/BljB,KAAKmrB,YAAYpR,IAAIpe,EAAG,CAACqE,KAAKgrB,cAAejuB,EAAM5B,EAAOktB,4CAjH1D,IADA,IAAMK,EAAU,GACPxuB,EAAIwlB,EAAmBxlB,KAC9BwuB,EAAQjnB,KAAKkB,MAAMkF,KAAK,CAAEzH,OAAQsf,KAEpC,IAAK,IAAIxlB,EAAI,EAAGA,EAAIwlB,EAAmBxlB,IACrC,IAAK,IAAImU,EAAI,EAAGA,EAAIqR,EAAmBrR,IAAK,CAC1Cqa,EAAQxuB,GAAGmU,GAAK,CAAC,GAAI,IACrB,IAAK,IAAI4L,EAAI,EAAGA,EAAI,EAAGA,IACrByO,EAAQxuB,GAAGmU,GAAG4L,GAAG,GAAK5b,KAAK+D,MAAsB,KAAhB/D,KAAK6C,UACtCwnB,EAAQxuB,GAAGmU,GAAG4L,GAAG,GAAK5b,KAAK+D,MAAsB,KAAhB/D,KAAK6C,UAI5C,OAAOwnB,QArCUwC,GCpCAO,aACnB,SAAAA,IAAehO,EAAAzd,KAAAyrB,GAIbzrB,KAAK0rB,cAAgB,GAIrB1rB,KAAK2rB,aAAe,UAAAzxB,EAAAS,EAAA,EAAAc,IAAA,oBAAAN,MAAA,WAOpB,IAAK,IAAIjB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACtB8F,KAAK0rB,cAAcxxB,IAAM8F,KAAK0rB,cAAcjqB,KAAKkB,MAAMkF,KAAK,CAAEzH,OAAQ,MAC3E,IAAK,IAAIiO,EAAI,EAAGA,EAAI,GAAIA,IACtBrO,KAAK0rB,cAAcxxB,GAAGmU,GAAK,MAAA5S,IAAA,oBAAAN,MAAA,SAQd8vB,EAAM5C,GAAO,IACtBzE,EAAaqH,EAAbrH,IAAKC,EAAQoH,EAARpH,IACb7jB,KAAK0rB,cAAc9H,GAAKC,IAAQxlB,KAAKutB,IAAI,EAAGvD,2CAO7B4C,GAAM,IACbrH,EAAaqH,EAAbrH,IAAKC,EAAQoH,EAARpH,IACb,OAAO7jB,KAAK0rB,cAAc9H,GAAKC,qCAiFtB7mB,EAAQrB,EAAGkwB,GAEpB,IADA,IAAI3vB,EAAI,EACDA,EAAIP,GACT8vB,EAAQK,UAAU9uB,EAAQgD,KAAK2rB,aAAczvB,EAAGP,EAAGkwB,GACnD3vB,GAAKA,EACLuvB,EAAQK,UAAU9rB,KAAK2rB,aAAc3uB,EAAQd,EAAGP,EAAGkwB,GACnD3vB,GAAKA,oCAnFOc,EAAQc,EAAQ3D,EAAGG,EAAGU,GAMpC,IALA,IAAId,EAAIC,EAEJkU,EAAI/T,EAAI,EAER2f,EAAI9f,EACDD,GAAKI,GAAK+T,GAAKrT,GAChBgC,EAAO9C,GAAGqtB,OAASvqB,EAAOqR,GAAGkZ,MAC/BzpB,EAAOmc,KAAOjd,EAAO9C,KAErB4D,EAAOmc,KAAOjd,EAAOqR,KAGzB,GAAQ/T,EAAJJ,EACF,IAAK,IAAIgb,EAAI7G,EAAG6G,GAAKla,EAAGka,IACtBpX,EAAOmc,KAAOjd,EAAOkY,QAGvB,IAAK,IAAIA,EAAIhb,EAAGgb,GAAK5a,EAAG4a,IACtBpX,EAAOmc,KAAOjd,EAAOkY,mCAKXlY,EAAQc,EAAQ3D,EAAGG,EAAGU,GAMpC,IALA,IAAId,EAAIC,EAEJkU,EAAI/T,EAAI,EAER2f,EAAI9f,EACDD,GAAKI,GAAK+T,GAAKrT,GAChBgC,EAAO9C,GAAGqtB,OAASvqB,EAAOqR,GAAGkZ,MAC/BzpB,EAAOmc,KAAOjd,EAAO9C,KAErB4D,EAAOmc,KAAOjd,EAAOqR,KAGzB,GAAQ/T,EAAJJ,EACF,IAAK,IAAIgb,EAAI7G,EAAG6G,GAAKla,EAAGka,IACtBpX,EAAOmc,KAAOjd,EAAOkY,QAGvB,IAAK,IAAIA,EAAIhb,EAAGgb,GAAK5a,EAAG4a,IACtBpX,EAAOmc,KAAOjd,EAAOkY,qCAKTlY,EAAQc,EAAQ5B,EAAGP,EAAGkwB,GAEtC,IADA,IAAI3xB,EAAI,EACDA,GAAKyB,EAAI,EAAIO,GACd2vB,EACF7rB,KAAK+rB,QAAQ/uB,EAAQc,EAAQ5D,EAAGA,EAAIgC,EAAI,EAAGhC,EAAI,EAAIgC,EAAI,GAEvD8D,KAAKgsB,QAAQhvB,EAAQc,EAAQ5D,EAAGA,EAAIgC,EAAI,EAAGhC,EAAI,EAAIgC,EAAI,GAEzDhC,GAAQ,EAAIgC,EAEd,GAAIhC,EAAIgC,EAAIP,EACNkwB,EACF7rB,KAAK+rB,QAAQ/uB,EAAQc,EAAQ5D,EAAGA,EAAIgC,EAAI,EAAGP,EAAI,GAE/CqE,KAAKgsB,QAAQhvB,EAAQc,EAAQ5D,EAAGA,EAAIgC,EAAI,EAAGP,EAAI,QAGjD,IAAK,IAAI0S,EAAInU,EAAGmU,GAAK1S,EAAI,EAAG0S,IAC1BvQ,EAAOuQ,GAAKrR,EAAOqR,SA5GNod,GCMA3E,aACnB,SAAAA,IAAerJ,EAAAzd,KAAA8mB,GACb9mB,KAAK0oB,QAAU,IAAIwC,EACnBlrB,KAAK2oB,QAAU,IAAI8C,2CAGbQ,GACNjsB,KAAK2oB,QAAQuD,oBACblsB,KAAK0oB,QAAQyD,qBAAqBF,EAAUtI,YAC5C3jB,KAAK0oB,QAAQ0D,oDAIF9J,EAAW2J,EAAWI,EAAsBC,GAiIvD,OADAtsB,KAAKusB,OAAON,GJuZT,SACL3J,EACA2C,EACAtB,EACAmB,EACAC,EACA2D,EACAC,GAEAK,KAIA,IAHA,IAAMP,GAAa,IAAII,KAEnB2D,EAAU,EAERnE,EAAQN,EAAOE,gBACnBI,GAASN,EAAOC,UAChBK,GAAS,EACT,CAkBA,IAhBAmE,EAAUpE,EACRC,EACAA,GACCtI,EACDA,EACAuC,EACA2C,EACAtB,EACAmB,EACAC,EACA0D,EACAC,EACAC,KAKWxB,EAAmB7B,MAC9BkH,IAAYrF,EAAmB7B,KAC/B,CACAwD,QAAQC,IAAIyD,GACZ,MAGF,IAAK,IAAI3D,KAASJ,EAAgC,IAApBV,EAAOG,WAAmB,CACtDY,QAAQC,IAAI,cACZ,MAEFD,QAAQC,IAAIyD,GAId,OAFAjC,EAAc,GACdzB,QAAQC,IAAI,cAAe,IAAIF,KAASJ,EAAWN,GAC5CA,EAnDF,CItZc7F,EAAWA,EAAW2J,EAAUtI,WAAY0I,EAAsBC,EAAmBtsB,KAAK0oB,QAAS1oB,KAAK2oB,eA9IxG7B,GCOA2F,aACnB,SAAAA,IAAehP,EAAAzd,KAAAysB,GAEbzsB,KAAK2hB,WAAa,IAAIlD,EAEtBze,KAAK0sB,UAAY,IAAI1M,EAErBhgB,KAAKisB,UAAY,IAAIzI,EAErBxjB,KAAKglB,OAAS,IAAI8B,6CAGV7G,2CAOM0M,EAAsBC,GAEpC5sB,KAAK6sB,gBAAkB,IAAIpI,EjB9BL,EiBgCpBkI,MAIF3sB,KAAK8sB,aAAe,IAAIrI,EjBlCL,EiBkC4BmI,QAAmB,CAAAnxB,IAAA,aAAAN,MAAA,WAIlE2tB,QAAQC,IAAI,cAEZ/oB,KAAK+sB,cAEL,IAAM9M,EAAgBjgB,KAAKgtB,yBAE3BhtB,KAAKitB,eAAehN,GAEpBjgB,KAAKktB,cAAcjN,GAEnBjgB,KAAKmtB,eAAexN,EAAkBC,GAEtC5f,KAAKotB,cAAcnN,GAEnBjgB,KAAKqtB,uBAELrtB,KAAKstB,mBAELttB,KAAKqsB,qBAAuB,GAC5BrsB,KAAKssB,kBAAoB,GAEzBtsB,KAAKutB,kDAILvtB,KAAKglB,OAAOuH,OAAOvsB,KAAKisB,iDAGXhM,GAEbjgB,KAAK0sB,UAAUc,UAAUvN,0CAGXA,GAEd,IAAMnB,EAAY9e,KAAKisB,UAAUwB,aAAaxN,GAE9CjgB,KAAK2hB,WAAW+L,cAAc5O,yCAGjBmB,GACbjgB,KAAKisB,UAAU0B,eACb1N,EACAjgB,KAAK2hB,WAAW/C,wDASlB5e,KAAK4tB,4BAEL5tB,KAAK6tB,iFAIL7tB,KAAK8tB,iCACL9tB,KAAK+tB,2FAG2B,IAAAC,EAAAhuB,KAChCuG,SAASiH,cAAc,UAAUygB,iBAC/B,QACA,WACED,EAAKjB,cACLiB,EAAK3B,qBAAuB,GAC5B2B,EAAK1B,kBAAoB,GACzB0B,EAAK/B,UAAUiC,gBAAgBF,EAAKrM,WAAW/C,SAC/CoP,EAAKb,eAAexN,EAAkBC,GACtCoO,EAAKT,oBAEP,CAAA9xB,IAAA,kCAAAN,MAAA,WAI+B,IAAAgzB,EAAAnuB,KACjCuG,SAASiH,cAAc,WAAWygB,iBAChC,QACA,WACEE,EAAKpB,cACLoB,EAAK9B,qBAAuB,GAC5B8B,EAAK7B,kBAAoB,GACzB6B,EAAKlC,UAAUiC,gBAAgBC,EAAKxM,WAAW/C,SAC/CuP,EAAKhB,eAAevN,EAAmBD,GACvCwO,EAAKZ,aACLY,EAAKrB,aAAasB,oBAAoBD,EAAKlC,UAAUtI,WAAYwK,EAAKE,oBAAqBF,EAAKxM,WAAW/C,QAASuP,EAAK9B,qBAAsB8B,EAAK7B,kBAAmB6B,EAAKnJ,OAAQmJ,EAAKrB,aAAanI,wBAExM,CAAAlpB,IAAA,oBAAAN,MAAA,WAWF,MAAO,CAAEyoB,KALIlE,EAAoB,GAAK,EAKxBmE,KAJDnE,EAAoB,GAAK,MAAAjkB,IAAA,6BAAAN,MAAA,WAQtC6E,KAAKsuB,8BACLtuB,KAAKuuB,mFAGwB,IAAAC,EAAAxuB,KAC7BuG,SAASiH,cAAc,YAAYygB,iBACjC,QACA,SAAAQ,GAEE,IAAMC,EAAmBF,EAAKvC,UAAUtI,WAAW,GAAG,GAAG1D,cAFlD0O,EAGoCH,EAAKI,YAC9CF,EjBxHsB,GiBuHhBtO,EAHDuO,EAGCvO,iBAAkByO,EAHnBF,EAGmBE,aAItBH,GjBvHgB,IiByHlBF,EAAKM,WACH1O,EACAyO,EjB/HoB,UiBoI1B,CAAApzB,IAAA,6BAAAN,MAAA,WAI0B,IAAA4zB,EAAA/uB,KAC5BuG,SAASiH,cAAc,WAAWygB,iBAChC,QACA,SAAAQ,GACE,IAAMC,EAAmBK,EAAK9C,UAAUtI,WAAW,GAAG,GAAG1D,cADlD+O,EAEoCD,EAAKH,YAC9CF,GjB9IsB,GiB6IhBtO,EAFD4O,EAEC5O,iBAAkByO,EAFnBG,EAEmBH,ajB3IN,IiB+IhBH,GACFK,EAAKD,WACH1O,EACAyO,GjBpJoB,UiByJ1B,CAAApzB,IAAA,cAAAN,MAAA,SAISuzB,EAAkBrO,GAE7B,IAAMD,EAAmBsO,EAAmBrO,EAG5C,MAAO,CAAED,mBAAkByO,aADN7uB,KAAKisB,UAAUwB,aAAarN,uCAIvCA,EAAkByO,EAAcxO,GAE1CrgB,KAAK2hB,WAAW+L,cAAcmB,GAE9B7uB,KAAK0sB,UAAUvM,aAAaC,EAAkBC,GAE9CrgB,KAAKisB,UAAUgD,iBACb7O,EACApgB,KAAK2hB,WAAW/C,oDAOA,IAAAsQ,EAAAlvB,KAClBA,KAAK2hB,WAAWjD,OAAOuP,iBACrB,QACA,SAAAQ,GACMS,EAAKnC,WACPmC,EAAKC,aAAaV,GAElBW,MAAM,qDAGV,CAAA3zB,IAAA,eAAAN,MAAA,SAIUszB,GACZ,IAAK,IAAI7K,EAAM,EAAGA,EAAMlE,EAAmBkE,IACzC,IAAK,IAAIC,EAAM,EAAGA,EAAMnE,EAAmBmE,IAAO,CAChD,IAAMG,EAAYhkB,KAAKisB,UAAUtI,WAAWC,GAAKC,GACjD,GACEG,EAAUqL,cAAcZ,EAAMhN,QAASgN,EAAM/M,QAAS1hB,KAAK2hB,YAC3D,CACA,GjBhPsB,IiBgPlBqC,EAAU/C,cACZ,OAEF,IAAMqO,EAAgB,CAAE1L,MAAKC,OAG7B,GAFA7jB,KAAK6sB,gBAAgBuB,oBAAoBpuB,KAAKisB,UAAUtI,WAAY2L,EAAetvB,KAAK2hB,WAAW/C,QAAS5e,KAAKqsB,qBAAsBrsB,KAAKssB,kBAAmBtsB,KAAKglB,OAAQhlB,KAAK8sB,aAAanI,iBAC9L3kB,KAAKuvB,gBAAgBvvB,KAAK6sB,gBAAgBlI,gBAAiB3kB,KAAK6sB,gBAAgBnI,WAAY4K,GACxFtvB,KAAK+sB,WAAY,CAEnB,IAAMyC,EAAaxvB,KAAKyvB,oBACxBzvB,KAAK8sB,aAAasB,oBAAoBpuB,KAAKisB,UAAUtI,WAAY6L,EAAYxvB,KAAK2hB,WAAW/C,QAAS5e,KAAKqsB,qBAAsBrsB,KAAKssB,kBAAmBtsB,KAAKglB,OAAQhlB,KAAK8sB,aAAanI,iBACxL3kB,KAAKuvB,gBAAgBvvB,KAAK8sB,aAAanI,gBAAiB3kB,KAAK8sB,aAAapI,WAAY8K,GAExF,YAAA/zB,IAAA,kBAAAN,MAAA,SAMSwpB,EAAiBD,EAAYG,GAI5C,GAAiG,IAA7FkB,EAA2BpB,EAAiB3kB,KAAKisB,UAAUtI,WAAYkB,GAAvEQ,KAEF,GADArlB,KAAK+sB,cjBnQe,IiBoQhBrI,EAGF0K,MAAM,gBACD,IjBtQU,IiBsQN1K,EAKT,OAAO,KAFP0K,MAAM,iBAAA3zB,IAAA,oBAAAN,MAAA,WAOS,IAAAu0B,EAEE1vB,KAAKglB,OAAO2K,YAAY3vB,KAAK8sB,aAAanI,gBAAiB3kB,KAAKisB,UAAWjsB,KAAKqsB,qBAAsBrsB,KAAKssB,mBAChI,MAAO,CAAE1I,IAHU8L,EAEX9L,IACMC,IAHK6L,EAEN7L,sDAgBb,IAVA,IAAI5D,EjB1PwB,GiB4PtBV,EAAchZ,SAASqpB,KAAKrQ,YAC5BsQ,EAAQ,CACZtL,GACAA,GACAA,GACAA,GACAA,IAEOrqB,EAAI,EAAGA,EAAI21B,EAAMzvB,OAAQlG,IAC5BqlB,EAAcM,EAAmB3lB,KACnC+lB,EAAgB4P,EAAM31B,IAG1B,OAAO+lB,6CAhSUwM,GAgSVxM,YC/ST7hB,OAAO0xB,OAAS,gBAEGrD,GACZsD","file":"gobang.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 102);\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","module.exports = {};\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","module.exports = \"asset/iconfont/52542020d8204e57d58c548a6df5d78b.eot\";","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","exports.f = {}.propertyIsEnumerable;\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"* {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\nhtml {\\r\\n  font-size: 14px;\\r\\n  line-height: 1.15;\\r\\n}\\r\\n\\r\\nbody {\\r\\n  font-family: \\\"Comic Sans MS\\\", cursive, sans-serif,\\r\\n    sans-serif;\\r\\n  min-height: 100%;\\r\\n  background-color: #2c3e50;\\r\\n}\\r\\n\\r\\n.content {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.scene .choose {\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.scene .choose .circle, .scene .choose .cross, .scene .resize .zoomout, .scene .resize .zoomin {\\r\\n    display: block;\\r\\n    width: 34px;\\r\\n    height: 34px;\\r\\n    line-height: 34px;\\r\\n    font-size: 34px;\\r\\n    text-align: center;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.scene .choose .circle:active, .scene .choose .cross:active, .scene .resize .zoomout:active, .scene .resize .zoomin:active {\\r\\n  transform: scale(1.5);\\r\\n}\\r\\n\\r\\n.scene .choose .circle {\\r\\n  color: #e74c3c;\\r\\n}\\r\\n\\r\\n.scene .choose .cross {\\r\\n  color: #2ecc71;\\r\\n}\\r\\n\\r\\n.scene .choose .info {\\r\\n  font-size: 18px;\\r\\n  color: #ffff66;\\r\\n  /* color: #ffb366; */\\r\\n  line-height: 34px;\\r\\n  font-style: italic;\\r\\n  flex: 1;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.scene .resize {\\r\\n  display: flex;\\r\\n  justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.scene .resize .zoomout, .scene .resize .zoomin {\\r\\n  color: #ffb366;\\r\\n}\\r\\n\\r\\n.board {\\r\\n  display: block;\\r\\n  background-color: #2c3e50;\\r\\n  /* background-color: #577a9e; */\\r\\n  /* rgba(87, 122, 158, 0.4) */\\r\\n}\\r\\n\", \"\"]);\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./iconfont.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./iconfont.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./iconfont.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"./iconfont.eot?t=1564107863500\"));\nvar ___CSS_LOADER_URL___1___ = getUrl(require(\"./iconfont.eot?t=1564107863500\") + \"#iefix\");\nvar ___CSS_LOADER_URL___2___ = getUrl(require(\"./iconfont.woff?t=1564107863500\"));\nvar ___CSS_LOADER_URL___3___ = getUrl(require(\"./iconfont.ttf?t=1564107863500\"));\nvar ___CSS_LOADER_URL___4___ = getUrl(require(\"./iconfont.svg?t=1564107863500\") + \"#iconfont\");\n// Module\nexports.push([module.id, \"@font-face {font-family: \\\"iconfont\\\";\\n  src: url(\" + ___CSS_LOADER_URL___0___ + \"); /* IE9 */\\n  src: url(\" + ___CSS_LOADER_URL___1___ + \") format('embedded-opentype'), \\n  url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAOwAAsAAAAACHgAAANkAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDKgqEHIN7ATYCJAMUCwwABCAFhG0HSxuCB8iemjwRZGUDiscMWv8LF2CIh+/3o5375K9a2k2iyWX6OtrEpxMqCRKhEbrYdEJiOh6i/q8uNQRhJYUYWzZ+OTqD7slKeC2vR8tWWJu9SBPiyL0ABcj8p3O/oMISn1DbBY8jQd7p2jbAH6YXROP9cD/TRdoGls++zSWqLKIpG8cDGlD2tQbZndAJ8i2wM/AcAv0ygXZjaolH47OrQpICtgXiMbE0ISmmV0qooVXV5Jwt4rl4relpOp65vx+/LEQSSc1g7/HdMVMY/Pp8iZn7D07aKIL+XgcVGfMEhXiYa79N9oPzZO2f+DhrBK1oTfQVVr7c7ytjLuFa5K3yPzxCkhWiAemdYE/SFnsmYITgu4KQ+B5FyHyPCW/KaypoRxteEvyW8OOC/c7Jo9nZablpefTh/Utf8EwIw2cOsBmafyy0cIT9Fx+saLUIIAEnzZLElBZfjEiFSF4UN+Pzp7TQoBAeSo+OiJFr5IUkz2fEAQtB18LhQJTwmUhG1YIFTLb4YjilqjyluiyVuU16TW2WG10TOdulhy7UvBv3tHeo4z+Np+b5/2jsoO3YsbaDi8RxOEHrRXP+6HSbVjU2VqUJZFpzOR9ZwERXYmeKBfxKL74pftGe//7m9s60kvzl8phy4j9RTij/9x9b/2Ip0zvbzcPFpdfPIr4hUCbnboh8buvCso1fbFqM9zS9dTFW/94MT8C78qX0HPKp9BjyhfTE/YtA8MU9fJTM3l+tCvisnqGCvmjPf5qC2oLHLqjZVL4iMNTyLmX+O7XaJHMZtdrRxOOO0u9VP8qh2umEVkMhJC1GIWs1ji74eag6LEGj1S60mzNxucMARhalDbPOCBB6XYak20fIet1DF/xLqIb9hEZvyNDuMnLv7DAZJGWEgcbBRPouIgb1MJl4ipe5DNamo7GoyKWtA/OJBzXVNyYjE+AB6+OAv2U1c44RZtRF48LrwHEoCjIaAIPXb3Ae7G5owHnfVG9QV0hxiAEaDpgQ3S6EMFAebE/mUlI/vwxYNjk0rKTsh30dYHxkdqRJvcYa6Am5V6vsXBb7tliacRyWN2EM5ULGRStwMEghwfxVAcDA1dto4Q/q1iC1w3Xl9eMr3Ws8Be3gC2qkyFGiRqPeYtT3EwzCDAcS9yh16SZPcB3EEwQ=') format('woff2'),\\n  url(\" + ___CSS_LOADER_URL___2___ + \") format('woff'),\\n  url(\" + ___CSS_LOADER_URL___3___ + \") format('truetype'), \\n  url(\" + ___CSS_LOADER_URL___4___ + \") format('svg'); /* iOS 4.1- */\\n}\\n\\n.iconfont {\\n  font-family: \\\"iconfont\\\" !important;\\n  font-size: 16px;\\n  font-style: normal;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.iconcross:before {\\n  content: \\\"\\\\e6f5\\\";\\n}\\n\\n.iconcircle:before {\\n  content: \\\"\\\\e85f\\\";\\n}\\n\\n.iconzoomout:before {\\n  content: \\\"\\\\e897\\\";\\n}\\n\\n.iconzoomin:before {\\n  content: \\\"\\\\e898\\\";\\n}\\n\\n\", \"\"]);\n","\"use strict\";\n\nmodule.exports = function (url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = \"asset/iconfont/a02f030956c49c6cdc18f5b89a48fb72.woff\";","module.exports = \"asset/iconfont/51be8b3030c23708257280af38da1e09.ttf\";","module.exports = \"asset/iconfont/ea5bc5f5c79609ad46388a3752649361.svg\";","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/**\r\n * 窗口点击事件坐标值转换为画布上的坐标\r\n * 该方法不止是将canvas边界框的坐标从窗口坐标中减去\r\n * 而且在canvas元素大小与绘图元素大小不相符时，还对这两个坐标进行了缩放\r\n *\r\n *\r\n * @export\r\n * @param {Object} canvas 画布对象\r\n * @param {*} clientX event.clientX\r\n * @param {*} clientY event.clientY\r\n * @returns\r\n */\r\nexport function window2Canvas (canvas, clientX, clientY) {\r\n  // 获取canvas元素的边界框，该边界框的坐标是相对于整个窗口的\r\n  const box = canvas.getBoundingClientRect()\r\n  const w_scale = canvas.width / box.width\r\n  const h_scale = canvas.height / box.height\r\n\r\n  return {\r\n    x: (clientX - box.left) * w_scale,\r\n    y: (clientY - box.top) * h_scale\r\n  }\r\n}\r\n\r\nexport function getPixelRatio (context) {\r\n  // 浏览器在渲染canvas之前存储画布信息的像素比\r\n  const devicePixelRatio = window.devicePixelRatio || 1\r\n  const backingStoreRatio =\r\n    context.backingStorePixelRatio ||\r\n    context.webkitBackingStorePixelRatio ||\r\n    context.mozBackingStorePixelRatio ||\r\n    context.msBackingStorePixelRatio ||\r\n    context.oBackingStorePixelRatio ||\r\n    context.backingStorePixelRatio ||\r\n    1\r\n  return devicePixelRatio / backingStoreRatio\r\n}\r\n\r\n/**\r\n * 绘制圆角矩形\r\n *\r\n * @export\r\n * @param {Number} left 矩形左上角横坐标\r\n * @param {Number} top 矩形左上角纵坐标\r\n * @param {Number} width 矩形宽度\r\n * @param {Number} height 矩形高度\r\n * @param {Number} r 矩形圆角半径\r\n * @param {Object} ctx 画布对象\r\n */\r\nexport function drawRadiusRect (left, top, width, height, r, ctx) {\r\n  const pi = Math.PI\r\n  ctx.beginPath()\r\n  ctx.arc(left + r, top + r, r, -pi, -pi / 2)\r\n  ctx.arc(left + width - r, top + r, r, -pi / 2, 0)\r\n  ctx.arc(left + width - r, top + height - r, r, 0, pi / 2)\r\n  ctx.arc(left + r, top + height - r, r, pi / 2, pi)\r\n  ctx.closePath()\r\n}\r\n\r\nexport function clearRadiusRect (left, top, width, height, ctx) {\r\n  ctx.clearRect(left, top, width, height)\r\n}\r\n\r\nexport function drawCircle (x, y, r, ctx) {\r\n  // var offset = 1;\r\n  const pi = Math.PI\r\n  ctx.beginPath()\r\n  ctx.arc(x, y, r, 0, pi * 2, true)\r\n  ctx.closePath()\r\n}\r\n\r\nexport function drawCross (x, y, size, width, color, cap, ctx) {\r\n  ctx.lineWidth = width\r\n  ctx.strokeStyle = color\r\n  ctx.beginPath()\r\n  ctx.moveTo(x - size / 2, y - size / 2)\r\n  ctx.lineTo(x + size / 2, y + size / 2)\r\n  ctx.lineCap = cap\r\n  ctx.stroke()\r\n  ctx.closePath()\r\n\r\n  ctx.beginPath()\r\n  ctx.moveTo(x + size / 2, y - size / 2)\r\n  ctx.lineTo(x - size / 2, y + size / 2)\r\n  ctx.lineCap = cap\r\n  ctx.stroke()\r\n  ctx.closePath()\r\n}\r\n\r\n/** Function that count occurrences of a substring in a string;\r\n * @param {String} string               The string\r\n * @param {String} subString            The sub string to search for\r\n * @param {Boolean} [allowOverlapping]  Optional. (Default:false)\r\n *\r\n * @author Vitim.us https://gist.github.com/victornpb/7736865/edit\r\n * @see Unit Test https://jsfiddle.net/Victornpb/5axuh96u/\r\n * @see http://stackoverflow.com/questions/4009756/how-to-count-string-occurrence-in-string/7924240#7924240\r\n */\r\nexport function occurrences (string, subString, allowOverlapping) {\r\n  string += ''\r\n  subString += ''\r\n  if (subString.length <= 0) return string.length + 1\r\n\r\n  var n = 0\r\n\r\n  var pos = 0\r\n\r\n  var step = allowOverlapping ? 1 : subString.length\r\n\r\n  while (true) {\r\n    pos = string.indexOf(subString, pos)\r\n    if (pos >= 0) {\r\n      ++n\r\n      pos += step\r\n    } else break\r\n  }\r\n  return n\r\n}\r\n","import { getPixelRatio } from './util'\r\n\r\n/**\r\n * 画布类\r\n */\r\nexport default class Canvas {\r\n  /**\r\n   * 获取画布相关属性\r\n   * @constructor\r\n   */\r\n  constructor () {\r\n    // 获得canvas元素\r\n    this.canvas = document.getElementById('canvas')\r\n    // 获得context对象\r\n    this.context = this.canvas.getContext('2d')\r\n  }\r\n\r\n  /**\r\n   * 设置画布大小\r\n   * @param {Number} boardSize 棋盘大小（画布实际大小）\r\n   */\r\n  setCanvasSize (boardSize) {\r\n    // 根据当前屏幕dpr大小 动态适配canvas大小 解决canvas在retina屏幕下模糊的问题\r\n    // const dpr = window.devicePixelRatio\r\n    const ratio = getPixelRatio(this.context)\r\n    // 设置canvas元素css的宽高\r\n    this.canvas.style.width = `${boardSize}px`\r\n    this.canvas.style.height = `${boardSize}px`\r\n    // 根据dpr，扩大canvas画布的像素，使1个canvas像素和1个物理像素相等\r\n    this.canvas.width = ratio * boardSize\r\n    this.canvas.height = ratio * boardSize\r\n    // 由于画布扩大，canvas的坐标系也跟着扩大，如果按照原先的坐标系绘图内容会缩小\r\n    // 所以需要将绘制比例放大\r\n    this.context.scale(ratio, ratio)\r\n  }\r\n\r\n  /**\r\n   * 获取画布宽高\r\n   */\r\n  getCanvasSize () {\r\n    return {\r\n      width: this.canvas.clientWidth,\r\n      height: this.canvas.clientHeight\r\n    }\r\n  }\r\n}\r\n","// 棋格颜色\r\nconst BOARD_GRID_COLOR = '#34495e'\r\n\r\nconst BOARD_GRID_ACTIVE_COLOR = 'rgb(255, 255, 102, .2)'\r\n\r\n// 每行、每列棋格数\r\nconst BOARD_GRIDS_COUNT = 15\r\n\r\n// 棋格间隙\r\nconst BOARD_GRIDS_GAP = 1\r\n\r\n// 棋格类型\r\nconst BOARD_GRID_TYPE_DEFAULT = 0\r\nconst BOARD_GRID_TYPE_CIRCLE = 'CIRCLE'\r\nconst BOARD_GRID_TYPE_CROSS = 'CROSS'\r\n\r\nconst PLAYER_TYPE_HUMAN = 1\r\n\r\nconst PLAYER_TYPE_AI = 0\r\n\r\n// 棋格圆角弧度\r\nconst BOARD_GRID_RADIUS = 4\r\n\r\n// cross类型的棋子（先手）\r\nconst CHESS_TYPE_CROSS = 1\r\n\r\n// circle类型的棋子（后手）\r\nconst CHESS_TYPE_CIRCLE = 2\r\n\r\n// 绘制棋子的函数名\r\nconst DRAW_CHESS_FUNC = {\r\n  CROSS: 'DRAW_CROSS_CHESS',\r\n  CIRCLE: 'DRAW_CIRCLE_CHESS'\r\n}\r\n\r\nconst CHESS_CIRCLE_COLOR = '#e74c3c'\r\n\r\nconst CHESS_CROSS_COLOR = '#2ecc71'\r\n\r\nconst CHESS_CROSS_LINECAP = 'round'\r\n\r\n// 棋子默认大小\r\nconst BOARD_GRID_CHESS_DEFAULT_SIZE = 20\r\n\r\n// 棋子默认线宽\r\nconst BOARD_GRID_CHESS_DEFAULT_LINEWIDTH = 3\r\n\r\n// 默认棋格大小\r\nconst BOARD_GRID_DEFAULT_SIZE = 34\r\n\r\n// 棋格大小变化量\r\nconst BOARD_GRID_RESIZE_COUNT = 4\r\n\r\nconst BOARD_GRID_MIN_SIZE = 22\r\n\r\nconst BOARD_GRID_MAX_SIZE = 42\r\n\r\n// 屏幕宽度范围\r\n// 最小宽度只适配到 320px\r\nconst SCREEN_WIDTH_RANGE = [1440, 1024, 768, 480, 375]\r\n\r\nconst CHESS_SHAPE_SEARCH_RANGE = 9\r\n\r\nconst INFINITY = 999999999\r\n\r\n// 小于-INFINITY 或大于 INFINITY\r\nconst UNKNOWN_VAL = 9999999999\r\n\r\nconst BOARD_SCORES = [\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n  [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n  [0, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 5, 5, 5, 5, 5, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 5, 5, 5, 5, 5, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n  [0, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 1, 0],\r\n  [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n  [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n]\r\n\r\nexport {\r\n  UNKNOWN_VAL,\r\n  BOARD_SCORES,\r\n  INFINITY,\r\n  CHESS_SHAPE_SEARCH_RANGE,\r\n  BOARD_GRID_COLOR,\r\n  BOARD_GRID_ACTIVE_COLOR,\r\n  BOARD_GRIDS_COUNT,\r\n  BOARD_GRIDS_GAP,\r\n  BOARD_GRID_TYPE_DEFAULT,\r\n  BOARD_GRID_TYPE_CIRCLE,\r\n  BOARD_GRID_TYPE_CROSS,\r\n  BOARD_GRID_RADIUS,\r\n  PLAYER_TYPE_HUMAN,\r\n  PLAYER_TYPE_AI,\r\n  CHESS_TYPE_CROSS,\r\n  CHESS_TYPE_CIRCLE,\r\n  DRAW_CHESS_FUNC,\r\n  CHESS_CIRCLE_COLOR,\r\n  CHESS_CROSS_COLOR,\r\n  CHESS_CROSS_LINECAP,\r\n  BOARD_GRID_CHESS_DEFAULT_SIZE,\r\n  BOARD_GRID_CHESS_DEFAULT_LINEWIDTH,\r\n  BOARD_GRID_DEFAULT_SIZE,\r\n  BOARD_GRID_RESIZE_COUNT,\r\n  BOARD_GRID_MIN_SIZE,\r\n  BOARD_GRID_MAX_SIZE,\r\n  SCREEN_WIDTH_RANGE\r\n}\r\n","import {\r\n  BOARD_GRID_DEFAULT_SIZE\r\n} from './constant'\r\n\r\n/**\r\n * 游戏场景类\r\n */\r\nexport default class Scene {\r\n  constructor () {\r\n    // 控制选择棋子、loading等信息的显示\r\n    // 游戏结束后显示“You win/lose! Click ‘图标’ to restart” 以及重新开始按钮图标（用刷新的图标）\r\n    // this.listenScene()\r\n  }\r\n\r\n  initScene (boardGridSize) {\r\n    // 显示场景元素\r\n    this.showSceneEle()\r\n    this.drawSceneEle(boardGridSize, boardGridSize - BOARD_GRID_DEFAULT_SIZE)\r\n  }\r\n\r\n  showSceneEle () {\r\n    document.querySelector('#scene').style.display = 'block'\r\n  }\r\n\r\n  drawSceneEle (newBoardGridSize, resizeCount) {\r\n    const elements = document.querySelectorAll('.element')\r\n    const infoEle = document.querySelector('.info')\r\n    elements.forEach(element => {\r\n      element.style.width = `${newBoardGridSize}px`\r\n      element.style.height = `${newBoardGridSize}px`\r\n      element.style.lineHeight = `${newBoardGridSize}px`\r\n      element.style.fontSize = `${newBoardGridSize}px`\r\n    })\r\n    infoEle.style.lineHeight = `${newBoardGridSize}px`\r\n    infoEle.style.fontSize = `${parseInt(getComputedStyle(infoEle).fontSize) +\r\n      resizeCount / 2}px`\r\n  }\r\n}\r\n","import { drawRadiusRect, clearRadiusRect, window2Canvas } from './util'\r\nimport { BOARD_GRID_TYPE_DEFAULT } from './constant'\r\n\r\n/**\r\n * 棋格类\r\n *\r\n * @export\r\n * @class BoardGrid\r\n */\r\nexport default class BoardGrid {\r\n  /**\r\n   * 构造方法\r\n   *\r\n   * @param {Number} boardGridX 棋格左上角横坐标\r\n   * @param {Number} boardGridY 棋格左上角纵坐标\r\n   * @param {Number} boardGridSize 棋格大小\r\n   * @param {Number} boardGridType 棋格类型\r\n   * @param {Number} boardGridChess 棋格棋子\r\n   * @param {Number} boardGridRadius 棋格圆角半径\r\n   * @param {String} boardGridColor 棋格颜色\r\n   * @memberof BoardGrid\r\n   */\r\n  constructor (\r\n    boardGridX,\r\n    boardGridY,\r\n    boardGridSize,\r\n    boardGridType,\r\n    boardGridChess,\r\n    boardGridRadius,\r\n    boardGridColor\r\n  ) {\r\n    // 棋格坐标\r\n    this.boardGridX = boardGridX\r\n    this.boardGridY = boardGridY\r\n    // 定义棋格大小\r\n    this.boardGridSize = boardGridSize\r\n    // 棋格类型\r\n    this.boardGridType = boardGridType\r\n    // 棋格棋子\r\n    this.boardGridChess = boardGridChess\r\n    // 棋格圆角弧度\r\n    this.boardGridRadius = boardGridRadius\r\n    // 棋格颜色\r\n    this.boardGridColor = boardGridColor\r\n  }\r\n\r\n  setBoardGridPosition (x, y) {\r\n    this.boardGridX = x\r\n    this.boardGridY = y\r\n  }\r\n\r\n  setBoardGridSize (boardGridSize) {\r\n    this.boardGridSize = boardGridSize\r\n  }\r\n\r\n  setBoardGridColor (boardGridColor) {\r\n    this.boardGridColor = boardGridColor\r\n  }\r\n\r\n  redrawBoardGrid (\r\n    ctx\r\n  ) {\r\n    this.drawBoardGrid(ctx)\r\n  }\r\n\r\n  redrawBoardGridChess (ctx) {\r\n    if (this.boardGridType !== BOARD_GRID_TYPE_DEFAULT) {\r\n      this.drawBoardGridChess(ctx)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 判断点击的点是否在棋格内\r\n   *\r\n   * @param {Number} clientX\r\n   * @param {Number} clientY\r\n   * @param {Object} gameCanvas\r\n   * @returns\r\n   * @memberof BoardGrid\r\n   */\r\n  isInBoardGird (clientX, clientY, gameCanvas) {\r\n    // event.offsetX,event.offsetY等API在采用dpr适配方案以后，计算出的值有错误，所以弃用此API，采用新方法计算\r\n    const { x, y } = window2Canvas(gameCanvas.canvas, clientX, clientY)\r\n    drawRadiusRect(\r\n      this.boardGridX,\r\n      this.boardGridY,\r\n      this.boardGridSize,\r\n      this.boardGridSize,\r\n      this.boardGridRadius,\r\n      gameCanvas.context\r\n    )\r\n    return gameCanvas.context.isPointInPath(x, y)\r\n  }\r\n\r\n  /**\r\n   * 绘制棋格\r\n   *\r\n   * @param {Object} ctx 画布内容对象\r\n   * @memberof BoardGrid\r\n   */\r\n  drawBoardGrid (ctx) {\r\n    drawRadiusRect(\r\n      this.boardGridX,\r\n      this.boardGridY,\r\n      this.boardGridSize,\r\n      this.boardGridSize,\r\n      this.boardGridRadius,\r\n      ctx\r\n    )\r\n    ctx.fillStyle = this.boardGridColor\r\n    ctx.fill()\r\n  }\r\n\r\n  clearBoardGrid (ctx) {\r\n    clearRadiusRect(\r\n      this.boardGridX,\r\n      this.boardGridY,\r\n      this.boardGridSize,\r\n      this.boardGridSize,\r\n      ctx\r\n    )\r\n  }\r\n\r\n  /**\r\n   * 绘制棋格上的棋子\r\n   *\r\n   * @param {Object} gameChess 棋子对象\r\n   * @param {Object} ctx 画布内容对象\r\n   * @memberof BoardGrid\r\n   */\r\n  drawBoardGridChess (ctx) {\r\n    this.boardGridChess.drawChess(\r\n      this.boardGridX,\r\n      this.boardGridY,\r\n      this.boardGridSize,\r\n      ctx\r\n    )\r\n  }\r\n\r\n  setBoardGridChess (gameChessType, ctx) {\r\n    this.boardGridChess.chessType = gameChessType\r\n    this.drawBoardGridChess(ctx)\r\n    this.boardGridType = gameChessType\r\n  }\r\n\r\n  setBoardGridChessProperty (chessSize, chessLineWidth) {\r\n    // 重新设置棋子属性\r\n    this.boardGridChess.setChessSize(\r\n      chessSize\r\n    )\r\n    this.boardGridChess.setChessLineWidth(\r\n      chessLineWidth\r\n    )\r\n  }\r\n}\r\n","import { drawCircle, drawCross } from './util'\r\nimport {\r\n  CHESS_CIRCLE_COLOR,\r\n  CHESS_CROSS_COLOR,\r\n  CHESS_CROSS_LINECAP,\r\n  CHESS_TYPE_CROSS,\r\n  CHESS_TYPE_CIRCLE\r\n} from './constant'\r\n\r\n/**\r\n * 棋子类\r\n */\r\nexport default class Chess {\r\n  // /**\r\n  //  * 定义棋子位置、棋子类型等属性\r\n  //  * @param {Number} chessType 棋子类型\r\n  //  * @constructor\r\n  //  */\r\n  // constructor (chessRow, chessCol, chessType) {\r\n  //   this.chessRow = chessRow\r\n  //   this.chessCol = chessCol\r\n  //   this.chessType = chessType\r\n  // }\r\n\r\n  constructor (chessType, chessSize, chessLineWidth) {\r\n    this.chessType = chessType\r\n    this.chessSize = chessSize\r\n    this.chessLineWidth = chessLineWidth\r\n  }\r\n\r\n  setChessSize (chessSize) {\r\n    this.chessSize = chessSize\r\n  }\r\n\r\n  setChessLineWidth (chessLineWidth) {\r\n    this.chessLineWidth = chessLineWidth\r\n  }\r\n\r\n  drawChess (boardGirdX, boardGridY, boardGridSize, ctx) {\r\n    if (this.chessType === CHESS_TYPE_CROSS) {\r\n      this.drawCrossChess(boardGirdX, boardGridY, boardGridSize, ctx)\r\n    } else if (this.chessType === CHESS_TYPE_CIRCLE) {\r\n      this.drawCircleChess(boardGirdX, boardGridY, boardGridSize, ctx)\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  drawCircleChess (boardGirdX, boardGridY, boardGridSize, ctx) {\r\n    const x = boardGirdX + boardGridSize / 2\r\n    const y = boardGridY + boardGridSize / 2\r\n    drawCircle(x, y, this.chessSize / 2, ctx)\r\n    ctx.lineWidth = this.chessLineWidth\r\n    ctx.strokeStyle = CHESS_CIRCLE_COLOR\r\n    ctx.stroke()\r\n  }\r\n\r\n  drawCrossChess (boardGirdX, boardGridY, boardGridSize, ctx) {\r\n    const x = boardGirdX + boardGridSize / 2\r\n    const y = boardGridY + boardGridSize / 2\r\n    drawCross(\r\n      x,\r\n      y,\r\n      this.chessSize,\r\n      this.chessLineWidth,\r\n      CHESS_CROSS_COLOR,\r\n      CHESS_CROSS_LINECAP,\r\n      ctx\r\n    )\r\n  }\r\n\r\n  // initChess () {\r\n  //   this.drawChess()\r\n  // }\r\n}\r\n","import BoardGrid from './boardGird'\r\nimport Chess from './chess'\r\nimport {\r\n  BOARD_GRIDS_COUNT,\r\n  BOARD_GRIDS_GAP,\r\n  BOARD_GRID_TYPE_DEFAULT,\r\n  BOARD_GRID_RADIUS,\r\n  BOARD_GRID_RESIZE_COUNT,\r\n  BOARD_GRID_CHESS_DEFAULT_SIZE,\r\n  BOARD_GRID_CHESS_DEFAULT_LINEWIDTH,\r\n  BOARD_GRID_DEFAULT_SIZE,\r\n  BOARD_GRID_COLOR\r\n} from './constant'\r\n\r\n/**\r\n * 棋盘类\r\n *\r\n * @export\r\n * @class Board\r\n */\r\nexport default class Board {\r\n  /**\r\n   * 定义棋盘属性\r\n   * @constructor\r\n   */\r\n  // constructor () {}\r\n\r\n  /**\r\n   * 初始化棋格状态\r\n   */\r\n  initBoardGrids (boardGridSize, ctx) {\r\n    // 计算场景各元素尺寸样式\r\n    const {\r\n      chessSize,\r\n      chessLineWidth\r\n    } = this.calculateBoardGridChessProperty(boardGridSize)\r\n    this.boardGrids = []\r\n    for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n      this.boardGrids[row] = []\r\n      for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n        // 创建棋格\r\n        this.boardGrids[row][col] = new BoardGrid(\r\n          row * (boardGridSize + BOARD_GRIDS_GAP),\r\n          col * (boardGridSize + BOARD_GRIDS_GAP),\r\n          boardGridSize,\r\n          BOARD_GRID_TYPE_DEFAULT,\r\n          new Chess(BOARD_GRID_TYPE_DEFAULT, chessSize, chessLineWidth),\r\n          BOARD_GRID_RADIUS,\r\n          BOARD_GRID_COLOR\r\n        )\r\n        // 绘制棋格\r\n        this.boardGrids[row][col].drawBoardGrid(ctx)\r\n      }\r\n    }\r\n  }\r\n\r\n  resetBoardGrids (ctx) {\r\n    for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n      for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n        this.boardGrids[row][col].boardGridType = BOARD_GRID_TYPE_DEFAULT\r\n        this.boardGrids[row][\r\n          col\r\n        ].boardGridChess.chessType = BOARD_GRID_TYPE_DEFAULT\r\n        this.boardGrids[row][col].setBoardGridColor(BOARD_GRID_COLOR)\r\n        this.boardGrids[row][col].drawBoardGrid(ctx)\r\n      }\r\n    }\r\n  }\r\n\r\n  getBoardSize (boardGridSize) {\r\n    return (\r\n      boardGridSize * BOARD_GRIDS_COUNT +\r\n      BOARD_GRIDS_GAP * (BOARD_GRIDS_COUNT - 1)\r\n    )\r\n  }\r\n\r\n  resizeBoardGrids (newBoardGridSize, ctx) {\r\n    const { chessSize, chessLineWidth } = this.calculateBoardGridChessProperty(\r\n      newBoardGridSize\r\n    )\r\n    for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n      for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n        // 重新设置棋格大小\r\n        const boardGrid = this.boardGrids[row][col]\r\n        boardGrid.setBoardGridSize(newBoardGridSize)\r\n        // 重新设置棋格位置\r\n        boardGrid.setBoardGridPosition(\r\n          row * (newBoardGridSize + BOARD_GRIDS_GAP),\r\n          col * (newBoardGridSize + BOARD_GRIDS_GAP)\r\n        )\r\n        // 重新设置棋子属性\r\n        boardGrid.setBoardGridChessProperty(chessSize, chessLineWidth)\r\n        // 重新绘制棋格与棋子\r\n        boardGrid.redrawBoardGrid(ctx)\r\n        boardGrid.redrawBoardGridChess(\r\n          ctx\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  calculateBoardGridChessProperty (boardGridSize) {\r\n    let chessLineWidth = BOARD_GRID_CHESS_DEFAULT_LINEWIDTH\r\n    const percentSize = BOARD_GRID_CHESS_DEFAULT_SIZE / BOARD_GRID_DEFAULT_SIZE\r\n    // 让棋子半径为偶数，防止绘制出现bug\r\n    let chessSize = Math.round(boardGridSize * percentSize)\r\n    chessSize = chessSize % 2 === 0 ? chessSize : chessSize - 1\r\n    // 根据当前棋格大小获取棋子线宽\r\n    if (boardGridSize < BOARD_GRID_DEFAULT_SIZE - BOARD_GRID_RESIZE_COUNT) {\r\n      chessLineWidth = BOARD_GRID_CHESS_DEFAULT_LINEWIDTH - 1\r\n    } else {\r\n      chessLineWidth = BOARD_GRID_CHESS_DEFAULT_LINEWIDTH\r\n    }\r\n    return {\r\n      chessSize,\r\n      chessLineWidth\r\n    }\r\n  }\r\n}\r\n","import { BOARD_GRID_COLOR, BOARD_GRID_ACTIVE_COLOR  } from './constant'\r\n\r\n/*\r\n  玩家\r\n  定义玩家相关属性，支持人机、人人对战\r\n*/\r\nexport default class Player {\r\n  constructor (playerType, playerChessType, playerStatus) {\r\n    // 玩家类型\r\n    this.playerType = playerType\r\n    // 玩家所选棋子\r\n    this.playerChessType = playerChessType\r\n    // 玩家状态\r\n    this.playerStatus = playerStatus\r\n  }\r\n\r\n  // setPlayerChess (playerChess) {\r\n  //   this.playerChess = playerChess\r\n  // }\r\n\r\n  generatePlayerChess (boardGrids, position, ctx, humanPlayerSteps, aiPlayerSteps, gameAI, aiChessType) {\r\n    boardGrids[position.row][position.col].setBoardGridChess(this.playerChessType, ctx)\r\n    // gameAI.zobrist.go(position.row, position.col, aiChessType, this.playerChessType)\r\n    // 重置棋格颜色\r\n    if (this.playerChessType !== aiChessType && humanPlayerSteps.length !== 0) {\r\n      humanPlayerSteps[humanPlayerSteps.length - 1].clearBoardGrid(ctx)\r\n      humanPlayerSteps[humanPlayerSteps.length - 1].setBoardGridColor(BOARD_GRID_COLOR)\r\n      humanPlayerSteps[humanPlayerSteps.length - 1].redrawBoardGrid(ctx)\r\n      humanPlayerSteps[humanPlayerSteps.length - 1].redrawBoardGridChess(\r\n        ctx\r\n      )\r\n    }\r\n    if (this.playerChessType === aiChessType && aiPlayerSteps.length !== 0) {\r\n      aiPlayerSteps[aiPlayerSteps.length - 1].clearBoardGrid(ctx)\r\n      aiPlayerSteps[aiPlayerSteps.length - 1].setBoardGridColor(BOARD_GRID_COLOR)\r\n      aiPlayerSteps[aiPlayerSteps.length - 1].redrawBoardGrid(ctx)\r\n      aiPlayerSteps[aiPlayerSteps.length - 1].redrawBoardGridChess(\r\n        ctx\r\n      )\r\n    }\r\n    boardGrids[position.row][position.col].clearBoardGrid(ctx)\r\n    boardGrids[position.row][position.col].setBoardGridColor(BOARD_GRID_ACTIVE_COLOR)\r\n    boardGrids[position.row][position.col].redrawBoardGrid(ctx)\r\n    boardGrids[position.row][position.col].redrawBoardGridChess(\r\n      ctx\r\n    )\r\n    if (this.playerChessType !== aiChessType) {\r\n      humanPlayerSteps.push(boardGrids[position.row][position.col])\r\n    }\r\n    if (this.playerChessType === aiChessType) {\r\n      aiPlayerSteps.push(boardGrids[position.row][position.col])\r\n    }\r\n    // console.log(humanPlayerSteps, aiPlayerSteps)\r\n  }\r\n\r\n  // generateNextStep(row, col) {}\r\n}\r\n","// 基本棋型：长连，连五，活四，冲四（眠四），活三，眠三，活二，眠二，活一，眠一\r\n// 下一子成活 n 就是活 n-1，能成眠 n 就是眠 n-1\r\n// 死四、死三、死二不加入基本棋型里\r\n\r\n// 1代表当前玩家  2代表障碍（对手棋子或者边界）  0代表空位\r\n// 连五：11111\r\n// 活四：011110\r\n// 冲四：211110  11101  11011\r\n// 活三：011100  011010\r\n// 眠三：211100  211010  210110  11001  10101  2011102\r\n// 活二：001100  011000  001010  010010\r\n// 眠二：211000  210100  210010  10001  2001102  2010102\r\n// 活一：001000  010000\r\n// 眠一：210000  2010002  2001002\r\n\r\n// 组合棋型单独给分数 比如双冲四、双活三、冲四活三这些大概率必胜的组合棋型，以及活三眠三、双活二、活二眠二\r\n// 111010111 双冲四\r\n// 111010011 冲四眠三   111010101冲四眠三  111010110冲四眠三\r\n\r\n// 单个点的棋型判断思路\r\n// 取出9个格子\r\n// 1、先判断单一棋型，从棋型级别由高到低判断（连5、活4、眠4依次往下...优先判断活再判断眠），\r\n// 如果匹配上某一个棋型的其中一个类型以后，就直接终止判断（不用再判断这个棋型的其他类型和低于这个棋型级别的其他棋型了）\r\n// 比如匹配上 011100 这种活三   那其他活三和比活三低的级别都不用判断了\r\n// 2、然后判断特殊棋型，比如双冲四（价值相当于一个活四）、双眠三（1010101 价值相当于一个活三），暂时先只判断双冲四的情况，因为威胁最大，后续再考虑更细致的情况，进行优化\r\n\r\n// 在判断整个棋局棋型的时候再判断组合棋型（组合棋型考虑哪些呢 比如 双冲四、双活三、冲四活三、冲四眠三、活三眠三、双活二、活二眠二  这些？）暂时只统计三种必杀的组合棋型： 双冲四、双活三、冲四活三\r\n\r\n// 加上所有非对称棋型的反向情况\r\nconst CHESS_CROSS_SHAPES = {\r\n  FIVE: ['11111'],\r\n  FOUR: ['011110'],\r\n  BLOCKED_FOUR: ['211110', '011112', '11101', '10111', '11011'],\r\n  THREE: ['011100', '001110', '011010', '010110'],\r\n  BLOCKED_THREE: [\r\n    '211100',\r\n    '001112',\r\n    '211010',\r\n    '010112',\r\n    '210110',\r\n    '011012',\r\n    '11001',\r\n    '10011',\r\n    '10101',\r\n    '2011102'\r\n  ],\r\n  TWO: ['001100', '011000', '000110', '001010', '010100', '010010'],\r\n  BLOCKED_TWO: [\r\n    '211000',\r\n    '000112',\r\n    '210100',\r\n    '001012',\r\n    '210010',\r\n    '010012',\r\n    '10001',\r\n    '2001102',\r\n    '2011002',\r\n    '2010102'\r\n  ],\r\n  ONE: ['001000', '000100', '010000', '000010'],\r\n  BLOCKED_ONE: ['210000', '000012', '2010002', '2000102', '2001002']\r\n}\r\n\r\nconst CHESS_CIRCLE_SHAPES = {\r\n  FIVE: ['22222'],\r\n  FOUR: ['022220'],\r\n  BLOCKED_FOUR: ['122220', '022221', '22202', '20222', '22022'],\r\n  THREE: ['022200', '002220', '022020', '020220'],\r\n  BLOCKED_THREE: [\r\n    '122200',\r\n    '002221',\r\n    '122020',\r\n    '020221',\r\n    '120220',\r\n    '022021',\r\n    '22002',\r\n    '20022',\r\n    '20202',\r\n    '1022201'\r\n  ],\r\n  TWO: ['002200', '022000', '000220', '002020', '020200', '020020'],\r\n  BLOCKED_TWO: [\r\n    '122000',\r\n    '000221',\r\n    '120200',\r\n    '002021',\r\n    '120020',\r\n    '020021',\r\n    '20002',\r\n    '1002201',\r\n    '1022001',\r\n    '1020201'\r\n  ],\r\n  ONE: ['002000', '000200', '020000', '000020'],\r\n  BLOCKED_ONE: ['120000', '000021', '1020001', '1000201', '1002001']\r\n}\r\n\r\n// DOUBLE_BLOCKED_FOUR: [\r\n//   '111010111',\r\n//   '111011011',\r\n//   '110110111',\r\n//   '110111011',\r\n//   '111011101',\r\n//   '101110111',\r\n\r\n//   '110110110',\r\n//   '011011011',\r\n//   '010111011',\r\n//   '110111010',\r\n//   '011011101',\r\n//   '101110110',\r\n\r\n//   '010111010',\r\n\r\n//   '110110112',\r\n//   '211011011',\r\n//   '210111011',\r\n//   '110111012',\r\n//   '210111012',\r\n//   '210111010',\r\n//   '010111012',\r\n//   '211011101',\r\n//   '101110112'\r\n// ],\r\n\r\nexport { CHESS_CROSS_SHAPES, CHESS_CIRCLE_SHAPES }\r\n\r\n// 111011011   1110 1 1101\r\n// 9个格子所有活四的情（一个活四）： 011110000 001111000 000111100  000011110\r\n// 001110000  000111000 000011100\r\n\r\n// 0000 1 0000\r\n// 0001 1 0000\r\n\r\n// 101110111\r\n// 101111011\r\n\r\n// 110110111\r\n// 110111011\r\n// 110111101\r\n\r\n// 111010111\r\n// 111011011\r\n// 111011101\r\n// 111011110\r\n","import { BOARD_GRIDS_COUNT, CHESS_SHAPE_SEARCH_RANGE, CHESS_TYPE_CROSS, CHESS_TYPE_CIRCLE } from '../constant'\r\nimport { CHESS_CROSS_SHAPES, CHESS_CIRCLE_SHAPES } from './chessShape'\r\nimport { occurrences } from '../util'\r\n\r\nexport function calculateSingleChessShapes (chessType, boardGrids, position) {\r\n  // 找出某个棋格周围四个方向的棋子形成的棋型数量及类型\r\n  // 每个方向分别找 9 个格子\r\n  // 将计算出的结果push进结果数组 并返回\r\n  \r\n  // 获取己方阻碍类型\r\n  const barrier = chessType === CHESS_TYPE_CROSS ? CHESS_TYPE_CIRCLE : CHESS_TYPE_CROSS\r\n  // 获取己方静态棋型表\r\n  const chessShapesTable = chessType === CHESS_TYPE_CROSS ? CHESS_CROSS_SHAPES : CHESS_CIRCLE_SHAPES\r\n  // 获取当前棋子四个方向的棋型\r\n  const singleChessShapes = getSingleChessShapes(boardGrids, position, barrier)\r\n\r\n  return getSingleChessShapesCount(singleChessShapes, chessShapesTable)\r\n}\r\n\r\nfunction getSingleChessShapes (boardGrids, position, barrier) {\r\n  // 得到当前位置\r\n  const { row, col } = position\r\n  // 保存四个方向的棋型\r\n  const singleChessShapes = ['', '', '', '']\r\n  for (let index = row - (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index <= row + (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index++) {\r\n    if (index < 0 || index > BOARD_GRIDS_COUNT - 1) {\r\n      singleChessShapes[0] += barrier\r\n    } else {\r\n      singleChessShapes[0] += boardGrids[index][col].boardGridType\r\n    }\r\n  }\r\n\r\n  for (let index = col - (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index <= col + (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index++) {\r\n    if (index < 0 || index > BOARD_GRIDS_COUNT - 1) {\r\n      singleChessShapes[1] += barrier\r\n    } else {\r\n      singleChessShapes[1] += boardGrids[row][index].boardGridType\r\n    }\r\n  }\r\n\r\n  for (let index = row - (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index <= row + (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index++) {\r\n    if (index < 0 || index > BOARD_GRIDS_COUNT - 1 || index - (row - col) < 0 || index - (row - col) > BOARD_GRIDS_COUNT - 1) {\r\n      singleChessShapes[2] += barrier\r\n    } else {\r\n      singleChessShapes[2] += boardGrids[index][index - (row - col)].boardGridType\r\n    }\r\n  }\r\n\r\n  for (let index = row - (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index <= row + (CHESS_SHAPE_SEARCH_RANGE - 1) / 2; index++) {\r\n    if (index < 0 || index > BOARD_GRIDS_COUNT - 1 || row + col - index < 0 || row + col - index > BOARD_GRIDS_COUNT - 1) {\r\n      singleChessShapes[3] += barrier\r\n    } else {\r\n      singleChessShapes[3] += boardGrids[index][row + col - index].boardGridType\r\n    }\r\n  }\r\n  // console.log(singleChessShapes)\r\n\r\n  return singleChessShapes\r\n}\r\n\r\nexport function getSingleChessShapesCount (singleChessShapes, chessShapesTable) {\r\n  let chessShapesCount = {\r\n    // 长连：连成五个以上已方棋子\r\n    // LONG_ROW: 0,\r\n    // 连五（长连也算连五的情况，所以不用单独判断长连了）\r\n    FIVE: 0,\r\n    // 活四\r\n    FOUR: 0,\r\n    // 双冲四 （威胁度相当于一个活四）\r\n    // DOUBLE_BLOCKED_FOUR: 0,\r\n    // 冲四\r\n    BLOCKED_FOUR: 0,\r\n    // 活三\r\n    THREE: 0,\r\n    // 眠三\r\n    BLOCKED_THREE: 0,\r\n    // 活二\r\n    TWO: 0,\r\n    // 眠二\r\n    BLOCKED_TWO: 0,\r\n    // 活一\r\n    ONE: 0,\r\n    // 眠一\r\n    BLOCKED_ONE: 0\r\n  }\r\n  singleChessShapes.forEach((singleChessShape) => {\r\n    for (const chessShapeName in chessShapesCount) {\r\n      if (chessShapesCount.hasOwnProperty(chessShapeName)) {\r\n        if (checkChessShape(singleChessShape, chessShapeName, chessShapesTable)) {\r\n          chessShapesCount[chessShapeName] += 1\r\n          break\r\n        }\r\n      }\r\n    }\r\n  })\r\n  // console.log(chessShapesCount)\r\n  return chessShapesCount\r\n    // // 连五\r\n    // if (x(chessShape, 'FIVE', chessType)) {\r\n    //   chessShapeCount.FIVE += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'FOUR', chessType)) {\r\n    //   // 活四\r\n    //   chessShapeCount.FOUR += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, chessShapeCount, 'DOUBLE_BLOCKED_FOUR', chessType)) {\r\n    //   // 双冲四\r\n    //   chessShapeCount.DOUBLE_BLOCKED_FOUR += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'BLOCKED_FOUR', chessType)) {\r\n    //   // 冲四\r\n    //   chessShapeCount.BLOCKED_FOUR += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'THREE', chessType)) {\r\n    //   chessShapeCount.THREE += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'BLOCKED_THREE', chessType)) {\r\n    //   chessShapeCount.BLOCKED_THREE += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'TWO', chessType)) {\r\n    //   chessShapeCount.TWO += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'BLOCKED_TWO', chessType)) {\r\n    //   chessShapeCount.BLOCKED_TWO += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'ONE', chessType)) {\r\n    //   chessShapeCount.ONE += 1\r\n    //   return\r\n    // }\r\n    // if (x(chessShape, 'BLOCKED_ONE', chessType)) {\r\n    //   chessShapeCount.BLOCKED_ONE += 1\r\n    //   return\r\n    // }\r\n}\r\n\r\nfunction checkChessShape (chessShape, chessShapeName, chessShapesTable) {\r\n  // 棋型判断函数\r\n  // 同级别棋型只要匹配成功其中一个，跳过其他棋型的匹配\r\n  for (let index = 0; index < chessShapesTable[chessShapeName].length; index++) {\r\n    if (chessShape.indexOf(chessShapesTable[chessShapeName][index]) !== -1) {\r\n      // chessShapeCount[CHESS_SHAPE] += 1\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n  // 获取当前有多少个己方棋子\r\n  // const count = y(leftRightChessShape, chessType)\r\n  // const str = CHESS_CROSS_SHAPES[CHESS_SHAPE][index]\r\n  // if (leftRightChessShape.indexOf(str) !== -1) {\r\n  //   chessShapeCount[CHESS_SHAPE] += occurrences(leftRightChessShape, str, true)\r\n  //   if (str !== [...str].reverse().join('')) {\r\n  //     if (\r\n  //       leftRightChessShape.indexOf([...str].reverse().join('')) !== -1 &&\r\n  //       chessCount < count\r\n  //     ) {\r\n  //       chessShapeCount[CHESS_SHAPE] += occurrences(leftRightChessShape, [...str].reverse().join(''), true)\r\n  //     }\r\n  //   }\r\n  // } else if (leftRightChessShape.indexOf([...str].reverse().join('')) !== -1) {\r\n  //   chessShapeCount[CHESS_SHAPE] += occurrences(leftRightChessShape, [...str].reverse().join(''), true)\r\n  //   if ([...str].reverse().join('') !== str) {\r\n  //     if (leftRightChessShape.indexOf(str) !== -1 && chessCount < count) {\r\n  //       chessShapeCount[CHESS_SHAPE] += occurrences(leftRightChessShape, str, true)\r\n  //     }\r\n  //   }\r\n  // } else {\r\n  //   continue\r\n  // }\r\n\r\n  // if (\r\n  //   CHESS_CROSS_SHAPES[CHESS_SHAPE][index] !==\r\n  //     [...CHESS_CROSS_SHAPES[CHESS_SHAPE][index]].reverse().join('') &&\r\n  //   leftRightChessShape.indexOf(\r\n  //     [...CHESS_CROSS_SHAPES[CHESS_SHAPE][index]].reverse().join('')\r\n  //   ) !== -1\r\n  // ) {\r\n  //   chessShapeCount[CHESS_SHAPE] += 1\r\n  // }\r\n}\r\n\r\nfunction y (leftRightChessShape, chessType) {\r\n  const arr = leftRightChessShape.split('')\r\n  let count = 0\r\n  for (let index = 0; index < arr.length; index++) {\r\n    if (parseInt(arr[index]) === chessType) {\r\n      count++\r\n    }\r\n  }\r\n  return count\r\n}\r\n\r\nexport function calculateAllChessShapes (chessType, boardGirds) {\r\n  const aiChessShapesTable = chessType === CHESS_TYPE_CROSS ? CHESS_CROSS_SHAPES : CHESS_CIRCLE_SHAPES\r\n  const humanChessShapesTable = chessType === CHESS_TYPE_CROSS ? CHESS_CIRCLE_SHAPES : CHESS_CROSS_SHAPES\r\n  const allChessShapes = getAllChessShapes(boardGirds)\r\n\r\n  // console.log(allChessShapes)\r\n\r\n  return getAllChessShapesCount(allChessShapes, humanChessShapesTable, aiChessShapesTable)\r\n}\r\n\r\nfunction getAllChessShapes (boardGrids) {\r\n  // 分别判断当前棋局下人类与AI棋子形成的棋型数量\r\n\r\n  // 保存所有路数的棋型\r\n  const allChessShapes = []\r\n\r\n  // 扫描所有列\r\n  for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n    let colChessShape = ''\r\n    for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n      colChessShape += boardGrids[row][col].boardGridType\r\n    }\r\n    allChessShapes.push(colChessShape)\r\n  }\r\n\r\n  // 扫描所有行\r\n  for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n    let rowChessShape = ''\r\n    for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n      rowChessShape += boardGrids[row][col].boardGridType\r\n    }\r\n    allChessShapes.push(rowChessShape)\r\n  }\r\n\r\n  // 扫描所有左对角线\r\n  for (let index = 0; index <= 2 * (BOARD_GRIDS_COUNT - 1); index++) {\r\n    let leftDiagonalChessShape = ''\r\n    for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n      for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n        if (row + col === index) {\r\n          leftDiagonalChessShape += boardGrids[row][col].boardGridType\r\n          break\r\n        }\r\n      }\r\n    }\r\n    allChessShapes.push(leftDiagonalChessShape)\r\n  }\r\n\r\n  // 扫描所有右对角线\r\n  for (let index = 1 - BOARD_GRIDS_COUNT; index < BOARD_GRIDS_COUNT; index++) {\r\n    let rightDiagonalChessShape = ''\r\n    for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n      for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n        if (row - col === index) {\r\n          rightDiagonalChessShape += boardGrids[row][col].boardGridType\r\n          break\r\n        }\r\n      }\r\n    }\r\n    allChessShapes.push(rightDiagonalChessShape)\r\n  }\r\n\r\n  return allChessShapes\r\n}\r\n\r\n// 29 + 29 + 15 + 15\r\n// 0,0 1,0 2,0 3,0\r\n// 0,1 1,1 2,1 3,1\r\n// 0,2 1,2 2,2 3,2\r\n// 0,3 1,3 2,3 3,3\r\n\r\nfunction getAllChessShapesCount (allChessShapes, humanChessShapesTable, aiChessShapesTable) {\r\n  // 当前棋局双方所有棋型数量\r\n  let chessShapesCount = {\r\n    // 长连：连成五个或以上已方棋子\r\n    // LONG_ROW: {\r\n    //   HUMAN: 0,\r\n    //   AI: 0\r\n    // },\r\n    // 连五\r\n    FIVE: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 活四\r\n    FOUR: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 冲四\r\n    BLOCKED_FOUR: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 活三\r\n    THREE: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 眠三\r\n    BLOCKED_THREE: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 活二\r\n    TWO: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 眠二\r\n    BLOCKED_TWO: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 活一\r\n    ONE: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    },\r\n    // 眠一\r\n    BLOCKED_ONE: {\r\n      HUMAN: 0,\r\n      AI: 0\r\n    }\r\n  }\r\n  \r\n  allChessShapes.forEach((chessShape) => {\r\n    for (const chessShapeName in chessShapesCount) {\r\n      if (chessShapesCount.hasOwnProperty(chessShapeName)) {\r\n        if (checkChessShape(chessShape, chessShapeName, humanChessShapesTable)) {\r\n          chessShapesCount[chessShapeName].HUMAN += 1\r\n        }\r\n        if (checkChessShape(chessShape, chessShapeName, aiChessShapesTable)) {\r\n          chessShapesCount[chessShapeName].AI += 1\r\n        }\r\n      }\r\n    }\r\n  })\r\n  // console.log(chessShapesCount)\r\n  return chessShapesCount\r\n}","const CHESS_SHAPES_SCORE = {\r\n  ONE: 10,\r\n  TWO: 100,\r\n  THREE: 1000,\r\n  FOUR: 100000,\r\n  FIVE: 10000000,\r\n  BLOCKED_ONE: 1,\r\n  BLOCKED_TWO: 10,\r\n  BLOCKED_THREE: 100,\r\n  BLOCKED_FOUR: 1000,\r\n  DOUBLE_BLOCKED_FOUR: 100000\r\n}\r\n\r\nexport { CHESS_SHAPES_SCORE }\r\n\r\n// board_scores = [\r\n//   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n//   [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n//   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n//   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n//   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n//   [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n//   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n// ]\r\n","import {\r\n  calculateSingleChessShapes,\r\n  calculateAllChessShapes\r\n} from './situation'\r\nimport { CHESS_SHAPES_SCORE } from './score'\r\nimport { BOARD_SCORES } from '../constant'\r\n\r\nfunction fixScore(score) {\r\n  // 棋型分数小于活四，大于等于冲四\r\n  if (score < CHESS_SHAPES_SCORE.FOUR && score >= CHESS_SHAPES_SCORE.BLOCKED_FOUR) {\r\n      // 如果当前分数只够单独冲四，并且不足以构成冲四且活三的杀招\r\n      if (score >= CHESS_SHAPES_SCORE.BLOCKED_FOUR && score < (CHESS_SHAPES_SCORE.BLOCKED_FOUR + CHESS_SHAPES_SCORE.THREE)) {\r\n          //单独冲四，意义不大，则选择活三\r\n          return CHESS_SHAPES_SCORE.THREE\r\n      } else if (score >= CHESS_SHAPES_SCORE.BLOCKED_FOUR + CHESS_SHAPES_SCORE.THREE && score < CHESS_SHAPES_SCORE.BLOCKED_FOUR * 2) {\r\n          // 当前棋子可以形成冲四与活三，但不能形成双冲四\r\n          return CHESS_SHAPES_SCORE.FOUR //冲四活三，比双三分高，相当于自己形成活四\r\n      } else {\r\n          //双冲四 比活四分数也高\r\n          return CHESS_SHAPES_SCORE.FOUR * 2\r\n      }\r\n  }\r\n  return score\r\n}\r\n\r\n/*\r\n  局面评估\r\n  针对当前棋局类型进行评估\r\n*/\r\n// 根据situation.js中计算出的当前棋局下某一方的棋型数量进行打分\r\nexport function evaluateSingleChessShapes (chessType, boardGrids, position) {\r\n  const chessShapesCount = calculateSingleChessShapes(\r\n    chessType,\r\n    boardGrids,\r\n    position\r\n  )\r\n  let singleChessShapesScore = 0\r\n  // console.log('---------------', chessShapesCount)\r\n  for (const chessShapeName in chessShapesCount) {\r\n    // console.log('---------', chessShapesCount[chessShapeName])\r\n    if (chessShapesCount.hasOwnProperty(chessShapeName)) {\r\n      singleChessShapesScore =\r\n        singleChessShapesScore +\r\n        chessShapesCount[chessShapeName] * CHESS_SHAPES_SCORE[chessShapeName]\r\n    }\r\n  }\r\n  // return singleChessShapesScore + BOARD_SCORES[position.row][position.col]\r\n  return { score: fixScore(singleChessShapesScore), count: chessShapesCount }\r\n}\r\n\r\nexport function evaluateAllChessShapes (aiChessType, chessType, boardGrids) {\r\n  const chessShapesCount = calculateAllChessShapes(aiChessType, boardGrids)\r\n  let allChessShapesScore = 0\r\n  for (const chessShapeName in chessShapesCount) {\r\n    const aiScore =\r\n    chessShapesCount[chessShapeName].AI * CHESS_SHAPES_SCORE[chessShapeName]\r\n    const humanScore =\r\n    chessShapesCount[chessShapeName].HUMAN *\r\n    CHESS_SHAPES_SCORE[chessShapeName]\r\n    if (chessShapesCount.hasOwnProperty(chessShapeName)) {\r\n      // console.log('---------------', aiScore, humanScore)\r\n      allChessShapesScore = allChessShapesScore + (aiScore - humanScore)\r\n    }\r\n  }\r\n  // console.log('-------------', chessShapesCount, allChessShapesScore)\r\n  return chessType === aiChessType ? allChessShapesScore : -allChessShapesScore\r\n}\r\n\r\n// export default class Evaluate {\r\n//   constructor () {}\r\n// }\r\n","import { BOARD_GRIDS_COUNT } from '../constant'\r\nimport { CHESS_SHAPES_SCORE } from './score'\r\nimport { evaluateSingleChessShapes } from './evaluate'\r\nimport { calculateSingleChessShapes } from './situation'\r\n\r\nexport function generateMoves (chessType, aiChessType, boardGrids, humanPlayerSteps, aiPlayerSteps) {\r\n  const fives = []\r\n  // const aiFives = []\r\n  // const humanFives = []\r\n  const aiFours = []\r\n  const humanFours = []\r\n  const aiBlockedFours = []\r\n  const humanBlockedFours = []\r\n  const aiTwoThrees = []\r\n  const humanTwoThrees = []\r\n  const aiThrees = []\r\n  const humanThrees = []\r\n  const aiTwos = []\r\n  const humanTwos = []\r\n  const neighbors = []\r\n  for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n    for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n      // 当前位置为空\r\n      if (boardGrids[row][col].boardGridType === 0) {\r\n        // 如果当前游戏步数少于6步\r\n        if (humanPlayerSteps.length + aiPlayerSteps.length < 6) {\r\n          // 当前位置距离1格以内必须有一个棋子 否则进行下个位置的判断\r\n          if (!hasNeighbor(row, col, 1, 1, boardGrids)) continue\r\n        } else {\r\n          // 当前位置距离2格以内必须有一个棋子 否则进行下个位置的判断\r\n          if (!hasNeighbor(row, col, 2, 1, boardGrids)) continue\r\n        }\r\n        // if (!generateLegalMoves(row, col, boardGrids)) {\r\n        //   continue\r\n        // }\r\n        \r\n        // 计算当前位置放置ai棋子的棋型分数\r\n        boardGrids[row][col].boardGridType = aiChessType\r\n        // const aiChessShapesCount = calculateSingleChessShapes(\r\n        //   aiChessType,\r\n        //   boardGrids,\r\n        //   { row, col }\r\n        // )\r\n        const aiResult = evaluateSingleChessShapes(aiChessType, boardGrids, {\r\n          row,\r\n          col\r\n        })\r\n        // 计算当前位置放置人类棋子的棋型分数\r\n        boardGrids[row][col].boardGridType = 3 - aiChessType\r\n        // const humanChessShapesCount = calculateSingleChessShapes(\r\n        //   3 - aiChessType,\r\n        //   boardGrids,\r\n        //   { row, col }\r\n        // )\r\n        const humanResult = evaluateSingleChessShapes(\r\n          3 - aiChessType,\r\n          boardGrids,\r\n          {\r\n            row,\r\n            col\r\n          }\r\n        )\r\n        // 撤销棋子\r\n        boardGrids[row][col].boardGridType = 0\r\n\r\n        // console.log('打印10，8的分数', scoreAI, scoreHuman)\r\n        // boardGrids[row][col].value = Math.max(scoreAI, scoreHuman)\r\n        // if (boardGrids[row][col].value < CHESS_SHAPES_SCORE.THREE) {\r\n        //   continue\r\n        // }\r\n\r\n        // 用棋型个数来计算  别用分数\r\n        const value = Math.max(aiResult.score, humanResult.score)\r\n        if (aiResult.count.FIVE >= 1) {\r\n          fives.push({ row, col, value })\r\n        } else if (humanResult.count.FIVE >= 1) {\r\n          fives.push({ row, col, value })\r\n        } else if (aiResult.count.FOUR >= 1) {\r\n          aiFours.push({ row, col, value })\r\n        } else if (humanResult.count.FOUR >= 1) {\r\n          humanFours.push({ row, col, value })\r\n        } else if (aiResult.count.BLOCKED_FOUR >= 1) {\r\n          aiBlockedFours.push({ row, col, value })\r\n        } else if (humanResult.count.BLOCKED_FOUR >= 1) {\r\n          humanBlockedFours.push({ row, col, value })\r\n        } else if (aiResult.count.THREE >= 2) {\r\n          aiTwoThrees.push({ row, col, value })\r\n        } else if (humanResult.count.THREE >= 2) {\r\n          humanTwoThrees.push({ row, col, value })\r\n        } else if (aiResult.count.THREE >= 1) {\r\n          aiThrees.push({ row, col, value })\r\n        } else if (humanResult.count.THREE >= 1) {\r\n          humanThrees.push({ row, col, value })\r\n        } else if (aiResult.count.TWO >= 1) {\r\n          aiTwos.unshift({ row, col, value })\r\n        } else if (humanResult.count.TWO >= 1) {\r\n          humanTwos.unshift({ row, col, value })\r\n        } else {\r\n          neighbors.push({ row, col, value })\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 如果成五，是必杀棋，直接返回\r\n  if (fives.length) {\r\n    return fives\r\n  }\r\n  // if (chessType === aiChessType && aiFives.length) {\r\n  //   if (chessType === 3 - aiChessType && humanFives.length) {\r\n  //     return aiFives.concat(humanFives)\r\n  //   }\r\n  //   return aiFives\r\n  // }\r\n  // if (aiFives.length || humanFives.length) {\r\n  //   return aiFives.concat(humanFives)\r\n  // }\r\n\r\n  // 先考虑必须下子的位置  直接返回\r\n  // 第一种情况  对面有冲四  因为自己不能成五  所以直接考虑对方冲四\r\n//   if (chessType === aiChessType && humanBlockedFours.length) {\r\n//     return humanBlockedFours\r\n//   }\r\n//   if (chessType === 3 - aiChessType && aiBlockedFours.length) {\r\n//     return aiBlockedFours\r\n//   }\r\n//   // 第二种情况 对面有活三  除非自己能成四  否则就考虑对面活三\r\n//   if (\r\n//     chessType === aiChessType &&\r\n//     humanThrees.length &&\r\n//     !aiFours.length &&\r\n//     !aiBlockedFours.length\r\n//   ) {\r\n//     return humanThrees\r\n//   }\r\n//   if (\r\n//     chessType === 3 - aiChessType &&\r\n//     aiThrees.length &&\r\n//     !humanFours.length &&\r\n//     !humanBlockedFours.length\r\n//   ) {\r\n//     return aiThrees\r\n//   }\r\n\r\n  // 自己能活四，则直接活四，不考虑冲四\r\n  if (chessType === aiChessType && aiFours.length) return aiFours\r\n  if (chessType === 3 - aiChessType && humanFours.length) return humanFours\r\n\r\n  // 对面有活四冲四，自己冲四都没，则只考虑对面活四 （此时对面冲四就不用考虑了)\r\n  if (\r\n    chessType === aiChessType &&\r\n    humanFours.length &&\r\n    !aiBlockedFours.length\r\n  ) {\r\n    return humanFours\r\n  }\r\n  if (\r\n    chessType === 3 - aiChessType &&\r\n    aiFours.length &&\r\n    !humanBlockedFours.length\r\n  ) {\r\n    return aiFours\r\n  }\r\n\r\n  // 对面有活四自己有冲四，则都考虑下\r\n  const fours =\r\n    chessType === aiChessType\r\n      ? aiFours.concat(humanFours)\r\n      : humanFours.concat(aiFours)\r\n  const blockedFours =\r\n    chessType === aiChessType\r\n      ? aiBlockedFours.concat(humanBlockedFours)\r\n      : humanBlockedFours.concat(aiBlockedFours)\r\n  if (fours.length) return fours.concat(blockedFours)\r\n\r\n  // 对面有冲四 自己没有冲四 考虑对面冲四\r\n  //   if (chessType === aiChessType && humanBlockedFours.length) {\r\n  //     return humanBlockedFours\r\n  //   }\r\n  //   if (chessType === 3 - aiChessType && aiBlockedFours.length) {\r\n  //     return aiBlockedFours\r\n  //   }\r\n\r\n  //   // 对面活三\r\n  //   if (chessType === aiChessType && humanThrees.length) {\r\n  //     return humanThrees\r\n  //   }\r\n  //   if (chessType === 3 - aiChessType && aiThrees.length) {\r\n  //     return aiThrees\r\n  //   }\r\n\r\n  let result = []\r\n  if (chessType === aiChessType) {\r\n    result = aiTwoThrees\r\n      .concat(humanTwoThrees)\r\n      .concat(aiBlockedFours)\r\n      .concat(humanBlockedFours)\r\n      .concat(aiThrees)\r\n      .concat(humanThrees)\r\n  }\r\n  if (chessType === 3 - aiChessType) {\r\n    result = humanTwoThrees\r\n      .concat(aiTwoThrees)\r\n      .concat(humanBlockedFours)\r\n      .concat(aiBlockedFours)\r\n      .concat(humanThrees)\r\n      .concat(aiThrees)\r\n  }\r\n\r\n  // 双三很特殊，因为能形成双三的不一定比一个活三强\r\n  if (aiTwoThrees.length || humanTwoThrees.length) {\r\n    return result\r\n  }\r\n\r\n  let twos = []\r\n  if (chessType === aiChessType) {\r\n    twos = aiTwos.concat(humanTwos)\r\n  } else {\r\n    twos = humanTwos.concat(aiTwos)\r\n  }\r\n\r\n  twos.sort((a, b) => {\r\n    return b.value - a.value\r\n  })\r\n  result = result.concat(twos.length ? twos : neighbors)\r\n\r\n  // 这种分数低的，就不用全部计算了\r\n  if (result.length > 10) {\r\n    return result.slice(0, 10)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction sortLegalMoves (aiChessType, boardGrids) {\r\n  // const legalMoves = generateLegalMoves(boardGrids)\r\n  // for (let index = 0; index < legalMoves.length; index++) {\r\n  //   legalMoves[index].score = evaluateSingleChessShapes(chessType, boardGrids, { row: legalMoves[index].row, col: legalMoves[index].col })\r\n  // }\r\n  // return legalMoves.sort((a, b) => {\r\n  //   return b.score - a.score\r\n  // })\r\n\r\n  // const twoblockfours = []\r\n  // const blockfour = []\r\n  // else if (aiScore >= CHESS_SHAPES_SCORE.BLOCKED_FOUR) {\r\n  //   blockfour.unshift(legalMoves[index])\r\n  // } else if (humanScore >= CHESS_SHAPES_SCORE.BLOCKED_FOUR) {\r\n  //   blockfour.push(legalMoves[index])\r\n  // }\r\n  // if (twoblockfours.length) {\r\n  //   return twoblockfours\r\n  // }\r\n  // else if (aiScore >= 2 * CHESS_SHAPES_SCORE.FOUR) {\r\n  //   twoblockfours.unshift(legalMoves[index])\r\n  // } else if (humanScore >= 2 * CHESS_SHAPES_SCORE.FOUR) {\r\n  //   twoblockfours.push(legalMoves[index])\r\n  // }\r\n  // ...blockfour,\r\n\r\n  const legalMoves = generateLegalMoves(boardGrids)\r\n  for (let index = 0; index < legalMoves.length; index++) {}\r\n  if (fives.length) {\r\n    return fives[0]\r\n  }\r\n  if (fours.length) {\r\n    return fours[0]\r\n  }\r\n\r\n  // if (result.length > 30 ) {\r\n  //   return result.slice(0, 30);\r\n  // }\r\n\r\n  return twothrees.concat(threes.concat(twos.concat(neighbors))).splice(0, 50)\r\n  // .splice(0, 50)\r\n  // return legalMoves\r\n  // if (chessType === 1) {\r\n  //   // MAX层从大到小排序\r\n  //   return legalMoves.sort((a, b) => {\r\n  //     return b.score - a.score\r\n  //   })\r\n  // } else {\r\n  //   // MIN层从小到大排序\r\n  //   return legalMoves.sort((a, b) => {\r\n  //     return a.score - b.score\r\n  //   })\r\n  // }\r\n\r\n  // const sortLegalMoves = legalMoves.sort((a, b) => {\r\n  //   return b.score - a.score\r\n  // })\r\n  // return sortLegalMoves.length < 30 ? sortLegalMoves : sortLegalMoves.splice(0, 30)\r\n  // .splice(0, 50)\r\n}\r\n\r\nfunction hasNeighbor (x, y, distance, count, boardGrids) {\r\n  const len = boardGrids.length\r\n  const startX = x - distance\r\n  const endX = x + distance\r\n  const startY = y - distance\r\n  const endY = y + distance\r\n  for (let i = startX; i <= endX; i++) {\r\n    if (i < 0 || i >= len) continue\r\n    for (let j = startY; j <= endY; j++) {\r\n      if (j < 0 || j >= len) continue\r\n      if (i === x && j === y) continue\r\n      if (boardGrids[i][j].boardGridType !== 0) {\r\n        count--\r\n        if (count <= 0) return true\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport function generateLegalMoves (row, col, boardGrids) {\r\n  const legalMoves = []\r\n  //   for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n  //     for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n  const gridTypes = []\r\n  //   if (boardGrids[row][col].boardGridType === 0) {\r\n  // 横向各三格\r\n  gridTypes.push(row - 1 >= 0 ? boardGrids[row - 1][col].boardGridType : 0)\r\n  gridTypes.push(\r\n    row + 1 < BOARD_GRIDS_COUNT ? boardGrids[row + 1][col].boardGridType : 0\r\n  )\r\n  gridTypes.push(col - 1 >= 0 ? boardGrids[row][col - 1].boardGridType : 0)\r\n  gridTypes.push(\r\n    col + 1 < BOARD_GRIDS_COUNT ? boardGrids[row][col + 1].boardGridType : 0\r\n  )\r\n  gridTypes.push(\r\n    row - 1 >= 0 && col - 1 >= 0\r\n      ? boardGrids[row - 1][col - 1].boardGridType\r\n      : 0\r\n  )\r\n  gridTypes.push(\r\n    row + 1 < BOARD_GRIDS_COUNT && col + 1 < BOARD_GRIDS_COUNT\r\n      ? boardGrids[row + 1][col + 1].boardGridType\r\n      : 0\r\n  )\r\n  gridTypes.push(\r\n    row - 1 >= 0 && col + 1 < BOARD_GRIDS_COUNT\r\n      ? boardGrids[row - 1][col + 1].boardGridType\r\n      : 0\r\n  )\r\n  gridTypes.push(\r\n    row + 1 < BOARD_GRIDS_COUNT && col - 1 >= 0\r\n      ? boardGrids[row + 1][col - 1].boardGridType\r\n      : 0\r\n  )\r\n\r\n  gridTypes.push(row - 2 >= 0 ? boardGrids[row - 2][col].boardGridType : 0)\r\n  gridTypes.push(\r\n    row + 2 < BOARD_GRIDS_COUNT ? boardGrids[row + 2][col].boardGridType : 0\r\n  )\r\n  gridTypes.push(col - 2 >= 0 ? boardGrids[row][col - 2].boardGridType : 0)\r\n  gridTypes.push(\r\n    col + 2 < BOARD_GRIDS_COUNT ? boardGrids[row][col + 2].boardGridType : 0\r\n  )\r\n  gridTypes.push(\r\n    row - 2 >= 0 && col - 2 >= 0\r\n      ? boardGrids[row - 2][col - 2].boardGridType\r\n      : 0\r\n  )\r\n  gridTypes.push(\r\n    row + 2 < BOARD_GRIDS_COUNT && col + 2 < BOARD_GRIDS_COUNT\r\n      ? boardGrids[row + 2][col + 2].boardGridType\r\n      : 0\r\n  )\r\n  gridTypes.push(\r\n    row - 2 >= 0 && col + 2 < BOARD_GRIDS_COUNT\r\n      ? boardGrids[row - 2][col + 2].boardGridType\r\n      : 0\r\n  )\r\n  gridTypes.push(\r\n    row + 2 < BOARD_GRIDS_COUNT && col - 2 >= 0\r\n      ? boardGrids[row + 2][col - 2].boardGridType\r\n      : 0\r\n  )\r\n  // gridTypes.push(\r\n  //   row - 3 >= 0 ? boardGrids[row - 3][col].boardGridType : 0\r\n  // )\r\n\r\n  // gridTypes.push(\r\n  //   row + 3 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row + 3][col].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  // 竖向各三格\r\n\r\n  // gridTypes.push(\r\n  //   col - 3 >= 0 ? boardGrids[row][col - 3].boardGridType : 0\r\n  // )\r\n\r\n  // gridTypes.push(\r\n  //   col + 3 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row][col + 3].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  // 右斜各三格\r\n  // gridTypes.push(\r\n  //   row - 3 >= 0 && col - 3 >= 0\r\n  //     ? boardGrids[row - 3][col - 3].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  // gridTypes.push(\r\n  //   row + 3 < BOARD_GRIDS_COUNT && col + 3 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row + 3][col + 3].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  // 左斜各三格\r\n  // gridTypes.push(\r\n  //   row - 3 >= 0 && col + 3 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row - 3][col + 3].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  // gridTypes.push(\r\n  //   row + 3 < BOARD_GRIDS_COUNT && col - 3 >= 0\r\n  //     ? boardGrids[row + 3][col - 3].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  // 马步8个格\r\n  // gridTypes.push(\r\n  //   row - 1 >= 0 && col - 2 >= 0\r\n  //     ? boardGrids[row - 1][col - 2].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row - 2 >= 0 && col - 1 >= 0\r\n  //     ? boardGrids[row - 2][col - 1].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row + 1 < BOARD_GRIDS_COUNT && col - 2 >= 0\r\n  //     ? boardGrids[row + 1][col - 2].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row + 2 < BOARD_GRIDS_COUNT && col - 1 >= 0\r\n  //     ? boardGrids[row + 2][col - 1].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row - 2 >= 0 && col + 1 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row - 2][col + 1].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row - 1 >= 0 && col + 2 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row - 1][col + 2].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row + 2 < BOARD_GRIDS_COUNT && col + 1 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row + 2][col + 1].boardGridType\r\n  //     : 0\r\n  // )\r\n  // gridTypes.push(\r\n  //   row + 1 < BOARD_GRIDS_COUNT && col + 2 < BOARD_GRIDS_COUNT\r\n  //     ? boardGrids[row + 1][col + 2].boardGridType\r\n  //     : 0\r\n  // )\r\n\r\n  if (gridTypes.includes(1) || gridTypes.includes(2)) {\r\n    //   legalMoves.push({\r\n    //     row,\r\n    //     col\r\n    //   })\r\n    return true\r\n  }\r\n  //   }\r\n  // }\r\n  //   }\r\n  return false\r\n  //   return legalMoves\r\n}\r\n","export const CONFIG = {\r\n  // 搜索深度\r\n  MAX_DEPTH: 4,\r\n  // 迭代加深起始深度\r\n  ITERATION_DEPTH: 2,\r\n  // 搜索时间（经测试 搜6层 平均时间在20秒左右）\r\n  TIME_LIMIT: 40\r\n}\r\n\r\n// 先完成判断输赢的逻辑，当判断到任意一方连五就返回当前节点的分数（和depth=0一起）\r\n// 完成杀手启发\r\n// 完成算杀\r\n\r\n// 当自己这边能连五了   但是对手有活四  总会去堵对方的活四  而不是自己这边连五。。（测试 debug）\r\n\r\n// 1、使用老的zobrist算法\r\n// 2、增量式评分、增量式找出待搜索的点（尽量避免搜索所有位置）\r\n// 3、加入杀手启发\r\n// 4、加入算杀\r\n","import { UNKNOWN_VAL, INFINITY } from '../constant'\r\nimport { evaluateAllChessShapes } from './evaluate'\r\nimport { calculateAllChessShapes } from './situation'\r\nimport { generateMoves } from './generate'\r\nimport { CHESS_SHAPES_SCORE } from './score'\r\nimport { CONFIG } from './config'\r\n\r\nimport { vcf, vct } from './vcx'\r\n\r\n/*\r\n  搜索\r\n  定义搜索树相关结构，遍历当前棋局所有位置\r\n*/\r\n// export default class Search {\r\n//   constructor () {}\r\n// }\r\n\r\n// export function minimax (depth, boardGrids, chessType, aiChessType) {\r\n//   let f\r\n//   let t\r\n//   if (depth === 0) {\r\n//     return evaluateAllChessShapes(chessType, boardGrids)\r\n//   }\r\n//   if (chessType === aiChessType) {\r\n//     f = -INFINITY\r\n//   } else {\r\n//     f = INFINITY\r\n//   }\r\n//   const legalMoves = getLegalMoves(boardGrids)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType =\r\n//       3 - chessType\r\n//     t = minimax(depth - 1, boardGrids, 3 - chessType, aiChessType)\r\n//     if (t > f && chessType === aiChessType) {\r\n//       f = t\r\n//     }\r\n//     if (t < f && chessType !== aiChessType) {\r\n//       f = t\r\n//     }\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//   }\r\n//   return f\r\n// }\r\n\r\n// export function minimax(depth, boardGrids, aiChessType) {\r\n//   let best = -INFINITY\r\n//   const legalMoves = sortLegalMoves(aiChessType, boardGrids)\r\n//   let bestPoints = []\r\n\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = aiChessType // 尝试下一个子\r\n//     const val = min(depth - 1, INFINITY, best > -INFINITY ? best : -INFINITY, boardGrids, aiChessType) // 找最大值\r\n//     // 如果跟之前的一个好，则把当前位子加入待选位子\r\n//     if (val === best) {\r\n//       bestPoints.push({\r\n//         row: legalMoves[index].row,\r\n//         col: legalMoves[index].col\r\n//       })\r\n//     }\r\n//     // 找到一个更好的分，就把以前存的位子全部清除\r\n//     if (val > best) {\r\n//       best = val\r\n//       bestPoints = []\r\n//       bestPoints.push({\r\n//         row: legalMoves[index].row,\r\n//         col: legalMoves[index].col\r\n//       })\r\n//     }\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0 // 记得把尝试下的子移除\r\n//   }\r\n//   // 在分数最高的几个位置中随机选择一个\r\n//   return bestPoints[Math.floor(bestPoints.length * Math.random())]\r\n// }\r\n\r\n// function min(depth, alpha, beta, boardGrids, aiChessType) {\r\n//   if (depth <= 0 || win(boardGrids, aiChessType)) {\r\n//     return evaluateAllChessShapes(aiChessType, boardGrids) // 重点来了，评价函数，这个函数返回的是对当前局势的估分。\r\n//   }\r\n//   let best = INFINITY\r\n//   const legalMoves = sortLegalMoves(aiChessType, boardGrids)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = 3 - aiChessType\r\n//     const val = max(depth - 1, best < alpha ? best : alpha, beta, boardGrids, aiChessType)\r\n//     console.log(val)\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     if (val < best) {\r\n//       best = val\r\n//     }\r\n//     // AB剪枝\r\n//     if (val < beta) {\r\n//       break\r\n//     }\r\n//   }\r\n//   return best\r\n// }\r\n\r\n// function max(depth, alpha, beta, boardGrids, aiChessType) {\r\n//   if (depth <= 0 || win(boardGrids, aiChessType)) {\r\n//     return evaluateAllChessShapes(aiChessType, boardGrids) // 重点来了，评价函数，这个函数返回的是对当前局势的估分。\r\n//   }\r\n//   let best = -INFINITY\r\n//   const legalMoves = sortLegalMoves(aiChessType, boardGrids)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = aiChessType\r\n//     const val = min(depth - 1, alpha, best > beta ? best : beta, boardGrids, aiChessType)\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     if (val > best) {\r\n//       best = val\r\n//     }\r\n//     // AB 剪枝\r\n//     if (val > alpha) {\r\n//       break\r\n//     }\r\n//   }\r\n//   return best\r\n// }\r\n\r\n// export function minimax (depth, chessType, boardGrids) {\r\n//   if (chessType === 1) {\r\n//     return max(depth, boardGrids, chessType, chessType)\r\n//   } else {\r\n//     return min(depth, boardGrids, chessType, 3 - chessType)\r\n//   }\r\n// }\r\n\r\n// function max (depth, boardGrids, chessType, firstChessType) {\r\n//   let best = -INFINITY\r\n//   if (depth <= 0) {\r\n//     return { val: evaluateAllChessShapes(firstChessType, boardGrids) }\r\n//   }\r\n//   let row = -1\r\n//   let col = -1\r\n//   const legalMoves = generateLegalMoves(boardGrids)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = chessType\r\n//     const val = min(depth - 1, boardGrids, 3 - chessType, firstChessType).val\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     console.log(\r\n//       '-----------max------------',\r\n//       val,\r\n//       legalMoves[index].row,\r\n//       legalMoves[index].col\r\n//     )\r\n//     if (val > best) {\r\n//       best = val\r\n//       row = legalMoves[index].row\r\n//       col = legalMoves[index].col\r\n//     }\r\n//   }\r\n//   return { val: best, row, col }\r\n// }\r\n\r\n// function min (depth, boardGrids, chessType, firstChessType) {\r\n//   let best = INFINITY // 注意这里不同于“最大”算法\r\n//   if (depth <= 0) {\r\n//     return { val: evaluateAllChessShapes(firstChessType, boardGrids) }\r\n//   }\r\n//   let row = -1\r\n//   let col = -1\r\n//   const legalMoves = generateLegalMoves(boardGrids)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = chessType\r\n//     const val = max(depth - 1, boardGrids, 3 - chessType, firstChessType).val\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     // console.log('-----------min------------', val, legalMoves[index].row, legalMoves[index].col)\r\n//     if (val < best) {\r\n//       best = val\r\n//       row = legalMoves[index].row\r\n//       col = legalMoves[index].col\r\n//     }\r\n//   }\r\n//   return { val: best, row, col }\r\n// }\r\n\r\n// export function negamax (depth, chessType, boardGrids) {\r\n//   let best = -INFINITY\r\n//   if (depth <= 0) {\r\n//     return { val: evaluateAllChessShapes(chessType, boardGrids) }\r\n//   }\r\n//   let row = -1\r\n//   let col = -1\r\n\r\n//   const legalMoves = generateLegalMoves(boardGrids)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = chessType\r\n//     const val = -negamax(depth - 1, 3 - chessType, boardGrids).val\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     if (val > best) {\r\n//       best = val\r\n//       row = legalMoves[index].row\r\n//       col = legalMoves[index].col\r\n//     }\r\n//   }\r\n//   return { val: best, row, col }\r\n// }\r\n\r\n// function win(boardGrids, aiChessType) {\r\n// const chessShapesCount = calculateAllChessShapes(aiChessType, boardGrids)\r\n// return chessShapesCount.FIVE.AI !== 0 || chessShapesCount.FIVE.HUMAN !== 0\r\n// }\r\n\r\n// let resultStep = 0\r\n\r\n// function r(depth, alpha, beta, chessType, aiChessType, step, boardGrids, playerSteps) {\r\n//   // || win()\r\n//   // || allChessShapesScore >= CHESS_SHAPES_SCORE.FIVE || allChessShapesScore <= -CHESS_SHAPES_SCORE.FIVE\r\n//   const allChessShapesScore = evaluateAllChessShapes(aiChessType, chessType, boardGrids)\r\n//   if (depth === 0 || allChessShapesScore >= CHESS_SHAPES_SCORE.FOUR || allChessShapesScore <= -CHESS_SHAPES_SCORE.FOUR) {\r\n//     return {\r\n//       val: allChessShapesScore,\r\n//       step\r\n//     }\r\n//   }\r\n//   let best = {\r\n//     val: -INFINITY,\r\n//     step\r\n//   }\r\n//   const legalMoves = generateMoves(chessType, aiChessType, boardGrids, playerSteps)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = chessType\r\n//     let v = r(depth - 1, -beta, -alpha, 3 - chessType, aiChessType, step + 1, boardGrids, playerSteps)\r\n//     v.val = -v.val\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     // console.log(\r\n//     //   '-----------------------',\r\n//     //   val,\r\n//     //   step,\r\n//     //   legalMoves[index].row,\r\n//     //   legalMoves[index].col\r\n//     // )\r\n//     if (v.val > best.val) {\r\n//       best = v\r\n//     }\r\n//     alpha = Math.max(best.val, alpha)\r\n//     if (v.val >= beta) {\r\n//       v.val = INFINITY - 1\r\n//       return v\r\n//     }\r\n//   }\r\n\r\n//   return best\r\n// }\r\n\r\n// function search(depth, alpha, beta, chessType, aiChessType, boardGrids, playerSteps, legalMoves, startTime) {\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = chessType\r\n//     // resultStep = 0\r\n//     // alpha = -INFINITY\r\n//     const result = r(depth - 1, -beta, -alpha, 3 - chessType, aiChessType, 1, boardGrids, playerSteps)\r\n//     result.val = -result.val\r\n//     alpha = Math.max(alpha, result.val)\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     legalMoves[index].val = result.val\r\n//     legalMoves[index].step = result.step\r\n//     // 超时判定\r\n//     if ((+new Date()) - startTime > 100 * 1000) {\r\n//       console.log('timeout...')\r\n//       break // 超时，退出循环\r\n//     }\r\n//     // if (result.val > alpha) {\r\n//     //   alpha = result.val\r\n//     // }\r\n//   }\r\n//   return alpha\r\n// }\r\n\r\n// export function alphaBeta (depth, alpha, beta, chessType, aiChessType, boardGrids, playerSteps) {\r\n//   // || win()\r\n//   // || allChessShapesScore >= CHESS_SHAPES_SCORE.FIVE || allChessShapesScore <= -CHESS_SHAPES_SCORE.FIVE\r\n//   // const allChessShapesScore = evaluateAllChessShapes(aiChessType, chessType, boardGrids)\r\n//   // // 超时判定\r\n//   // if ((+ new Date()) - startTime > CONFIG.TIME_LIMIT * 1000) {\r\n//   //   console.log('timeout...')\r\n//   //   isTimeOut = true\r\n//   //   return -INFINITY // 超时，退出循环\r\n//   // }\r\n//   if (depth === 0) {\r\n//     // resultStep = step\r\n//     return { val: evaluateAllChessShapes(aiChessType, chessType, boardGrids) }\r\n//   }\r\n//   // 最佳位置\r\n//   let row = null\r\n//   let col = null\r\n//   const legalMoves = generateMoves(chessType, aiChessType, boardGrids, playerSteps)\r\n//   for (let index = 0; index < legalMoves.length; index++) {\r\n//     boardGrids[legalMoves[index].row][\r\n//       legalMoves[index].col\r\n//     ].boardGridType = chessType\r\n//     const val = -alphaBeta(depth - 1, -beta, -alpha, 3 - chessType, aiChessType, boardGrids, playerSteps).val\r\n//     boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n//     // console.log(\r\n//     //   '-----------------------',\r\n//     //   val,\r\n//     //   legalMoves[index].row,\r\n//     //   legalMoves[index].col\r\n//     // )\r\n//     if (val >= beta) {\r\n//       // resultStep = step\r\n//       return { val: beta }\r\n//     }\r\n//     if (val > alpha) {\r\n//       alpha = val\r\n//       // if (depth === maxDepth) {\r\n//         // 只保存第一个最高分数的位置 忽略后面分数相同的位置\r\n//         row = legalMoves[index].row\r\n//         col = legalMoves[index].col\r\n//         // console.log('searching', depth, bestMove)\r\n//       // }\r\n//     }\r\n//   }\r\n\r\n//   return { val: alpha, row, col }\r\n// }\r\n\r\n// 最佳位置\r\nlet bestMove = null\r\nfunction alphaBeta (\r\n  depth,\r\n  maxDepth,\r\n  alpha,\r\n  beta,\r\n  chessType,\r\n  aiChessType,\r\n  boardGrids,\r\n  humanPlayerSteps,\r\n  aiPlayerSteps,\r\n  startTime,\r\n  zobrist,\r\n  history\r\n) {\r\n  // || win()\r\n  // || allChessShapesScore >= CHESS_SHAPES_SCORE.FIVE || allChessShapesScore <= -CHESS_SHAPES_SCORE.FIVE\r\n  // const allChessShapesScore = evaluateAllChessShapes(aiChessType, chessType, boardGrids)\r\n  // 是否找到 PV 节点\r\n  let isFoundPv = false\r\n  // 超时判定\r\n  if (+new Date() - startTime > CONFIG.TIME_LIMIT * 1000) {\r\n    console.log('timeout...')\r\n    isTimeOut = true\r\n    return chessType === aiChessType ? -INFINITY : INFINITY // 超时，退出循环\r\n  }\r\n  // TODO 使用置换表中的缓存\r\n  // const cacheVal = zobrist.lookUpHashTable(alpha, beta, depth)\r\n  // if (cacheVal !== UNKNOWN_VAL) {\r\n  //   return cacheVal\r\n  // }\r\n  // 判断是否搜索到最深的节点或者任意一方已经胜利\r\n  const chessShapesCount = calculateAllChessShapes(aiChessType, boardGrids)\r\n  if (depth === 0 || chessShapesCount['FIVE'].AI > 0 || chessShapesCount['FIVE'].HUMAN > 0) {\r\n    const evaluateVal = evaluateAllChessShapes(\r\n      aiChessType,\r\n      chessType,\r\n      boardGrids\r\n    )\r\n    // TODO 经过测试，把算杀放在对子节点的搜索之后，比放在前面速度更快一些。\r\n    // vcf\r\n    // 自己没有形成活四，对面也没有形成活四，那么先尝试VCF\r\n    // const vcxDeep = 5 // 算杀深度\r\n    // if (\r\n    //   evaluateVal < CHESS_SHAPES_SCORE.FOUR &&\r\n    //   evaluateVal > CHESS_SHAPES_SCORE.FOUR * -1\r\n    // ) {\r\n    //   const mate = vcf(chessType, aiChessType, vcxDeep, boardGrids, zobrist)\r\n    //   if (mate) {\r\n    //     // config.debug && console.log('vcf success')\r\n    //     // const v = {\r\n    //     //   score: mate.score,\r\n    //     //   step: step + mate.length,\r\n    //     //   steps: steps,\r\n    //     //   vcf: mate // 一个标记为，表示这个值是由vcx算出的\r\n    //     // }\r\n    //     // return v\r\n    //     return mate.val\r\n    //   }\r\n    // } // vct\r\n    // // 自己没有形成活三，对面也没有高于活三的棋型，那么尝试VCT\r\n    // if (\r\n    //   evaluateVal < CHESS_SHAPES_SCORE.THREE * 2 &&\r\n    //   evaluateVal > CHESS_SHAPES_SCORE.THREE * -2\r\n    // ) {\r\n    //   const mate = vct(chessType, aiChessType, vcxDeep, boardGrids, zobrist)\r\n    //   if (mate) {\r\n    //     // config.debug && console.log('vct success')\r\n    //     // v = {\r\n    //     //   score: mate.score,\r\n    //     //   step: step + mate.length,\r\n    //     //   steps: steps,\r\n    //     //   vct: mate // 一个标记为，表示这个值是由vcx算出的\r\n    //     // }\r\n    //     // return v\r\n    //     return mate.val\r\n    //   }\r\n    // }\r\n    // zobrist.enterHashTable(0, evaluateVal, depth)\r\n    return evaluateVal\r\n  }\r\n  let legalMoves = generateMoves(\r\n    chessType,\r\n    aiChessType,\r\n    boardGrids,\r\n    humanPlayerSteps,\r\n    aiPlayerSteps\r\n  )\r\n  if (depth === maxDepth) {\r\n    // 先搜索上一次最好的点\r\n    legalMoves = historyMove.concat(legalMoves)\r\n  }\r\n\r\n  // TODO 杀手启发 非根节点\r\n  // if (depth < maxDepth) {\r\n  //   if (\r\n  //     zobrist.killTable[zobrist.hash_key] &&\r\n  //     zobrist.killTable[zobrist.hash_key].key === zobrist.hash_checksum\r\n  //   ) {\r\n  //     legalMoves = zobrist.killTable[zobrist.hash_key].move.concat(legalMoves)\r\n  //   }\r\n  // }\r\n\r\n  // 历史启发效果不好，暂时弃用，效果待优化，使用杀手启发取代\r\n  // const legalMoves = generateMoves(chessType, aiChessType, boardGrids, humanPlayerSteps, aiPlayerSteps)\r\n  // for (let index = 0; index < legalMoves.length; index++) {\r\n  //   legalMoves[index].score = history.getHistoryScore(legalMoves[index])\r\n  // }\r\n  // history.mergeSort(legalMoves, legalMoves.length, 0)\r\n  let exact = -1\r\n  let best = null\r\n  for (let index = 0; index < legalMoves.length; index++) {\r\n    boardGrids[legalMoves[index].row][\r\n      legalMoves[index].col\r\n    ].boardGridType = chessType\r\n    zobrist.hashMakeMove(legalMoves[index], boardGrids)\r\n    let val = null\r\n    if (isFoundPv) {\r\n      val = -alphaBeta(\r\n        depth - 1,\r\n        maxDepth,\r\n        -alpha - 1,\r\n        -alpha,\r\n        3 - chessType,\r\n        aiChessType,\r\n        boardGrids,\r\n        humanPlayerSteps,\r\n        aiPlayerSteps,\r\n        startTime,\r\n        zobrist,\r\n        history\r\n      )\r\n      if (val > alpha && val < beta) {\r\n        // 检查失败\r\n        val = -alphaBeta(\r\n          depth - 1,\r\n          maxDepth,\r\n          -beta,\r\n          -alpha,\r\n          3 - chessType,\r\n          aiChessType,\r\n          boardGrids,\r\n          humanPlayerSteps,\r\n          aiPlayerSteps,\r\n          startTime,\r\n          zobrist,\r\n          history\r\n        )\r\n      }\r\n    } else {\r\n      val = -alphaBeta(\r\n        depth - 1,\r\n        maxDepth,\r\n        -beta,\r\n        -alpha,\r\n        3 - chessType,\r\n        aiChessType,\r\n        boardGrids,\r\n        humanPlayerSteps,\r\n        aiPlayerSteps,\r\n        startTime,\r\n        zobrist,\r\n        history\r\n      )\r\n    }\r\n    boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n    zobrist.hashUnMakeMove(legalMoves[index], boardGrids)\r\n    // console.log(\r\n    //   '-----------------------',\r\n    //   result.val,\r\n    //   legalMoves[index].row,\r\n    //   legalMoves[index].col\r\n    // )\r\n    if (val >= beta) {\r\n      if (!isTimeOut) {\r\n        zobrist.enterHashTable(1, beta, depth)\r\n        history.enterHistoryScore(legalMoves[index], depth)\r\n        // 将发生beta截断的落点在杀手走法表中保存为当前节点的杀手走法\r\n        zobrist.killTable[zobrist.hash_key] = {\r\n          key: zobrist.hash_checksum,\r\n          move: legalMoves[index]\r\n        }\r\n      }\r\n      return beta\r\n    }\r\n    if (val > alpha) {\r\n      isFoundPv = true\r\n      exact = 1\r\n      alpha = val\r\n      // 只保存第一个最高分数的位置 忽略后面分数相同的位置\r\n      best = {\r\n        row: legalMoves[index].row,\r\n        col: legalMoves[index].col\r\n      }\r\n      if (depth === maxDepth) {\r\n        bestMove = best\r\n        historyMove = [bestMove]\r\n        console.log('searching', depth, bestMove)\r\n      }\r\n    }\r\n  }\r\n\r\n  // 操作历史记录表\r\n  if (!isTimeOut) {\r\n    if (best) {\r\n      history.enterHistoryScore(best, depth)\r\n    }\r\n    zobrist.enterHashTable(exact, alpha, depth)\r\n    // 如果当前节点为alpha节点且命中了杀手走法表，说明当前节点已不再是beta节点，应从杀手走法表中移除\r\n    if (\r\n      zobrist.killTable[zobrist.hash_key] &&\r\n      zobrist.killTable[zobrist.hash_key].key === zobrist.hash_checksum\r\n    ) {\r\n      zobrist.killTable[zobrist.hash_key].key = -1\r\n      zobrist.killTable[zobrist.hash_key].move = null\r\n    }\r\n  }\r\n\r\n  return alpha\r\n}\r\n\r\nfunction setCache (depth, val, zobrist) {\r\n  // if (result.abcut) return false // 被剪枝的不要缓存哦，因为分数是一个极值\r\n  // 记得clone，因为score在搜索的时候可能会被改的，这里要clone一个新的\r\n  const obj = {\r\n    depth,\r\n    val\r\n  }\r\n  Cache[zobrist.code] = obj\r\n}\r\n\r\n// 超时标识\r\nlet isTimeOut = false\r\nlet historyMove = []\r\nlet Cache = {}\r\nexport function searchAll (\r\n  chessType,\r\n  aiChessType,\r\n  boardGrids,\r\n  humanPlayerSteps,\r\n  aiPlayerSteps,\r\n  zobrist,\r\n  history\r\n) {\r\n  isTimeOut = false\r\n  const startTime = +new Date()\r\n  Cache = {}\r\n  let bestVal = 0\r\n  for (\r\n    let depth = CONFIG.ITERATION_DEPTH;\r\n    depth <= CONFIG.MAX_DEPTH;\r\n    depth += 1\r\n  ) {\r\n    // let best = { val: -INFINITY }\r\n    bestVal = alphaBeta(\r\n      depth,\r\n      depth,\r\n      -INFINITY,\r\n      INFINITY,\r\n      chessType,\r\n      aiChessType,\r\n      boardGrids,\r\n      humanPlayerSteps,\r\n      aiPlayerSteps,\r\n      startTime,\r\n      zobrist,\r\n      history\r\n    )\r\n    // 如果任意一方已经胜利 退出循环\r\n    // CHESS_SHAPES_SCORE.FIVE\r\n    if (\r\n      bestVal >= CHESS_SHAPES_SCORE.FOUR ||\r\n      bestVal <= -CHESS_SHAPES_SCORE.FOUR\r\n    ) {\r\n      console.log(bestVal)\r\n      break\r\n    }\r\n    // 超时判定\r\n    if (+new Date() - startTime > CONFIG.TIME_LIMIT * 1000) {\r\n      console.log('timeout...')\r\n      break // 超时，退出循环\r\n    }\r\n    console.log(bestVal)\r\n  }\r\n  historyMove = []\r\n  console.log('search end', +new Date() - startTime, bestMove)\r\n  return bestMove\r\n}\r\n\r\n// best = result\r\n// console.log('排序前', JSON.parse(JSON.stringify(legalMoves)))\r\n// console.log('排序后', legalMoves)\r\n// if ( bestIndex !== -1 ) h_heuristic.enterHistoryScore( to_try[ bestIndex ], depth );\r\n// let best = { val: -INFINITY }\r\n// let bestIndex = -1\r\n// return { val: beta, abcut: 1 }\r\n// setCache(depth, alpha, zobrist)\r\n// zobrist.go(legalMoves[index].row, legalMoves[index].col, aiChessType, chessType)\r\n\r\n// const cache = Cache[zobrist.code]\r\n// if (cache) {\r\n//   if (cache.depth >= depth) { // 如果缓存中的结果搜索深度不比当前小，则结果完全可用\r\n//     // 记得clone，因为这个分数会在搜索过程中被修改，会使缓存中的值不正确\r\n//     return cache.val\r\n//   }\r\n// }\r\n\r\n// resultStep = step\r\n\r\n// best = search(index, -INFINITY, INFINITY, chessType, aiChessType, boardGrids, playerSteps, legalMoves, startTime)\r\n// console.log('迭代了', index, best)\r\n// if (best >= CHESS_SHAPES_SCORE.FOUR) {\r\n//   break\r\n// }\r\n// let row = null\r\n// let col = null\r\n// bestVal =\r\n\r\n// legalMoves.sort((a, b) => {\r\n//   if (a.val === b.val) {\r\n//     // 大于零是优势，尽快获胜，因此取步数短的\r\n//     // 小于0是劣势，尽量拖延，因此取步数长的\r\n//     if (a.val >= 0) {\r\n//       if (a.step !== b.step) return a.step - b.step\r\n//       else return b.val - a.val // 否则 选取当前分最高的（直接评分)\r\n//     } else {\r\n//       if (a.step !== b.step) return b.step - a.step\r\n//       else return b.val - a.val // 否则 选取当前分最高的（直接评分)\r\n//     }\r\n//   } else return (b.val - a.val)\r\n// })\r\n// console.log(legalMoves)\r\n\r\n// 如果跟之前的一个好，则把当前位子加入待选位子\r\n// if (depth === d) {\r\n//   if (val === alpha) {\r\n//     bestPositions.push({ row: legalMoves[index].row, col: legalMoves[index].col })\r\n//   }\r\n// }\r\n// 找到更好的分后 就把以前存的位置全部清除  只保存最新的位置\r\n// if (depth === d) {\r\n// bestPositions = []\r\n// bestPositions.push({ row: legalMoves[index].row, col: legalMoves[index].col })\r\n// }\r\n","/*\r\n * 算杀\r\n * 算杀的原理和极大极小值搜索是一样的\r\n * 不过算杀只考虑冲四活三这类对方必须防守的棋\r\n * 因此算杀的复杂度虽然是 M^N ，但是底数M特别小，可以算到16步以上的杀棋。\r\n * VCT 连续活三胜\r\n * VCF 连续冲四胜利\r\n */\r\n\r\n/*\r\n * 基本思路\r\n * 电脑有活三或者冲四，认为是玩家必须防守的\r\n * 玩家防守的时候却不一定根据电脑的棋来走，而是选择走自己最好的棋，比如有可能是自己选择冲四\r\n */\r\n\r\n// import R from './role.js'\r\nimport { CHESS_SHAPES_SCORE } from './score.js'\r\n// import config from './config.js'\r\n// import zobrist from './zobrist.js'\r\n// import debug from './debug.js'\r\n// import board from './board.js'\r\nimport { BOARD_GRIDS_COUNT } from '../constant'\r\nimport { evaluateSingleChessShapes } from './evaluate'\r\n\r\nvar Cache = {\r\n  vct: {},\r\n  vcf: {}\r\n}\r\n\r\nvar debugNodeCount = 0\r\n\r\nlet MAX_SCORE = CHESS_SHAPES_SCORE.THREE\r\nlet MIN_SCORE = CHESS_SHAPES_SCORE.FOUR\r\n\r\n// var debugCheckmate = (debug.checkmate = {\r\n//   cacheCount: 0, // cache 总数\r\n\r\n//   totalCount: 0, // 算杀总数\r\n//   cacheHit: 0 // 缓存命中\r\n// })\r\n\r\nlet lastMaxPoint = null\r\nlet lastMinPoint = null\r\n\r\n// 找到所有比目标分数大的位置\r\n// 注意，不止要找自己的，还要找对面的，\r\nconst findMax = (chessType, aiChessType, score, boardGrids) => {\r\n  const result = []\r\n  const fives = []\r\n  for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n    for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n      if (boardGrids[row][col].boardGridType === 0) {\r\n        const p = { row, col }\r\n        // 计算当前位置放置ai棋子的棋型分数\r\n        boardGrids[row][col].boardGridType = aiChessType\r\n        const aiScore = evaluateSingleChessShapes(aiChessType, boardGrids, {\r\n          row,\r\n          col\r\n        })\r\n        // 计算当前位置放置人类棋子的棋型分数\r\n        boardGrids[row][col].boardGridType = 3 - aiChessType\r\n        const humanScore = evaluateSingleChessShapes(\r\n          3 - aiChessType,\r\n          boardGrids,\r\n          {\r\n            row,\r\n            col\r\n          }\r\n        )\r\n        // 撤销棋子\r\n        boardGrids[row][col].boardGridType = 0\r\n\r\n        // 注意，防一手对面冲四\r\n        // 所以不管谁能连成五，先防一下。\r\n        if (humanScore >= CHESS_SHAPES_SCORE.FIVE) {\r\n          p.value = CHESS_SHAPES_SCORE.FIVE\r\n          if (chessType === aiChessType) p.value *= -1\r\n          fives.push(p)\r\n        } else if (aiScore >= CHESS_SHAPES_SCORE.FIVE) {\r\n          p.value = CHESS_SHAPES_SCORE.FIVE\r\n          if (chessType === 3 - aiChessType) p.value *= -1\r\n          fives.push(p)\r\n        } else {\r\n          if (\r\n            !lastMaxPoint ||\r\n            (row === lastMaxPoint[0] ||\r\n              col === lastMaxPoint[1] ||\r\n              Math.abs(row - lastMaxPoint[0]) ===\r\n                Math.abs(col - lastMaxPoint[1]))\r\n          ) {\r\n            const s = chessType === aiChessType ? aiScore : humanScore\r\n            p.value = s\r\n            if (s >= score) {\r\n              result.push(p)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 能连五，则直接返回\r\n  // 但是注意不要碰到连五就返回，而是把所有连五的点都考虑一遍，不然可能出现自己能连却防守别人的问题\r\n  if (fives.length) return fives\r\n  // 注意对结果进行排序\r\n  result.sort((a, b) => {\r\n    return b.value - a.value\r\n  })\r\n  return result\r\n}\r\n\r\n// MIN层\r\n// 找到所有比目标分数大的位置\r\n// 这是MIN层，所以己方分数要变成负数\r\nconst findMin = (chessType, aiChessType, score, boardGrids) => {\r\n  let result = []\r\n  const fives = []\r\n  const fours = []\r\n  const blockedfours = []\r\n  for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n    for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n      if (boardGrids[row][col].boardGridType === 0) {\r\n        let p = { row, col }\r\n        // 计算当前位置放置ai棋子的棋型分数\r\n        boardGrids[row][col].boardGridType = aiChessType\r\n        const aiScore = evaluateSingleChessShapes(aiChessType, boardGrids, {\r\n          row,\r\n          col\r\n        })\r\n        // 计算当前位置放置人类棋子的棋型分数\r\n        boardGrids[row][col].boardGridType = 3 - aiChessType\r\n        const humanScore = evaluateSingleChessShapes(\r\n          3 - aiChessType,\r\n          boardGrids,\r\n          {\r\n            row,\r\n            col\r\n          }\r\n        )\r\n        // 撤销棋子\r\n        boardGrids[row][col].boardGridType = 0\r\n\r\n        const s1 = chessType === aiChessType ? aiScore : humanScore\r\n        const s2 = chessType === aiChessType ? humanScore : aiScore\r\n        if (s1 >= CHESS_SHAPES_SCORE.FIVE) {\r\n          p.value = -s1\r\n          return [p]\r\n        }\r\n\r\n        if (s2 >= CHESS_SHAPES_SCORE.FIVE) {\r\n          p.value = s2\r\n          fives.push(p)\r\n          continue\r\n        }\r\n\r\n        if (s1 >= CHESS_SHAPES_SCORE.FOUR) {\r\n          p.value = -s1\r\n          fours.unshift(p)\r\n          continue\r\n        }\r\n        if (s2 >= CHESS_SHAPES_SCORE.FOUR) {\r\n          p.value = s2\r\n          fours.push(p)\r\n          continue\r\n        }\r\n\r\n        if (s1 >= CHESS_SHAPES_SCORE.BLOCKED_FOUR) {\r\n          p.value = -s1\r\n          blockedfours.unshift(p)\r\n          continue\r\n        }\r\n        if (s2 >= CHESS_SHAPES_SCORE.BLOCKED_FOUR) {\r\n          p.value = s2\r\n          blockedfours.push(p)\r\n          continue\r\n        }\r\n\r\n        if (s1 >= score || s2 >= score) {\r\n          p = { row, col }\r\n          p.value = s1\r\n          result.push(p)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (fives.length) return fives\r\n\r\n  // 注意冲四，因为虽然冲四的分比活四低，但是他的防守优先级是和活四一样高的，否则会忽略冲四导致获胜的走法\r\n  if (fours.length) return fours.concat(blockedfours)\r\n\r\n  // 注意对结果进行排序\r\n  // 因为fours可能不存在，这时候不要忽略了 blockedfours\r\n  result = blockedfours.concat(result)\r\n  result.sort(function (a, b) {\r\n    return Math.abs(b.value) - Math.abs(a.value)\r\n  })\r\n  return result\r\n}\r\n\r\nconst max = (chessType, aiChessType, deep, totalDeep, boardGrids) => {\r\n  debugNodeCount++\r\n  // board.logSteps();\r\n  if (deep <= 1) return false\r\n\r\n  const points = findMax(chessType, aiChessType, MAX_SCORE, boardGrids)\r\n  if (points.length && points[0].value >= CHESS_SHAPES_SCORE.FOUR) {\r\n    return [points[0]]\r\n  } // 为了减少一层搜索，活四就行了。\r\n  if (points.length === 0) return false\r\n  for (let i = 0; i < points.length; i++) {\r\n    // var p = points[i]\r\n    boardGrids[points[i].row][points[i].col].boardGridType = chessType\r\n    // 如果是防守对面的冲四，那么不用记下来\r\n    if (!points[i].value <= -CHESS_SHAPES_SCORE.FIVE) lastMaxPoint = points[i]\r\n    const m = min(3 - chessType, deep - 1)\r\n    boardGrids[points[i].row][points[i].col].boardGridType = 0\r\n    if (m) {\r\n      if (m.length) {\r\n        m.unshift(points[i]) // 注意 unshift 方法返回的是新数组长度，而不是新数组本身\r\n        return m\r\n      } else {\r\n        return [points[i]]\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\n// 只要有一种方式能防守住，就可以了\r\nconst min = (chessType, aiChessType, deep, boardGrids) => {\r\n  // debugNodeCount++\r\n  //   var w = board.win()\r\n  //   if (w == role) return false\r\n  //   if (w == R.reverse(role)) return true\r\n  if (deep <= 1) return false\r\n  const points = findMin(chessType, aiChessType, MIN_SCORE, boardGrids)\r\n  if (points.length === 0) return false\r\n  if (points.length && -1 * points[0].value >= CHESS_SHAPES_SCORE.FOUR) {\r\n    return false\r\n  } // 为了减少一层搜索，活四就行了。\r\n\r\n  const cands = []\r\n  for (let i = 0; i < points.length; i++) {\r\n    // var p = points[i]\r\n    boardGrids[points[i].row][points[i].col].boardGridType = chessType\r\n    lastMinPoint = points[i]\r\n    const m = max(3 - chessType, deep - 1)\r\n    boardGrids[points[i].row][points[i].col].boardGridType = 0\r\n    if (m) {\r\n      m.unshift(points[i])\r\n      cands.push(m)\r\n      continue\r\n    } else {\r\n      return false // 只要有一种能防守住\r\n    }\r\n  }\r\n  const result = cands[Math.floor(cands.length * Math.random())] // 无法防守住\r\n  return result\r\n}\r\n\r\nvar cache = function (result, vcf, zobrist) {\r\n  //   if (!config.cache) return\r\n  if (vcf) Cache.vcf[zobrist.hash_key] = result\r\n  else Cache.vct[zobrist.hash_key] = result\r\n//   debugCheckmate.cacheCount++\r\n}\r\nvar getCache = function (vcf, zobrist) {\r\n  //   if (!config.cache) return\r\n//   debugCheckmate.totalCount++\r\n  var result\r\n  if (vcf) result = Cache.vcf[zobrist.hash_key]\r\n  else result = Cache.vct[zobrist.hash_key]\r\n//   if (result) debugCheckmate.cacheHit++\r\n  return result\r\n}\r\n\r\n// 迭代加深\r\nconst deeping = (chessType, aiChessType, deep, totalDeep, boardGrids) => {\r\n  const start = new Date()\r\n  let result = null\r\n  debugNodeCount = 0\r\n  for (let i = 1; i <= deep; i++) {\r\n    lastMaxPoint = undefined\r\n    lastMinPoint = undefined\r\n    result = max(chessType, aiChessType, i, deep, boardGrids)\r\n    if (result) break // 找到一个就行\r\n  }\r\n  const time = Math.round(new Date() - start)\r\n  if (result) {\r\n    console.log('算杀成功')\r\n    // config.log && console.log(\"算杀成功(\"+time+\"毫秒, \"+ debugNodeCount + \"个节点):\" + JSON.stringify(result));\r\n  } else {\r\n    // console.log(\"算杀失败(\"+time+\"毫秒)\")\r\n    // console.log('算杀失败')\r\n  }\r\n  return result\r\n}\r\n\r\nconst vcx = (chessType, aiChessType, deep, onlyFour, boardGrids) => {\r\n  //   deep = deep === undefined ? config.vcxDeep : deep\r\n\r\n  if (deep <= 0) return false\r\n\r\n  let result = null\r\n  if (onlyFour) {\r\n    // 计算冲四赢的\r\n    MAX_SCORE = CHESS_SHAPES_SCORE.BLOCKED_FOUR\r\n    MIN_SCORE = CHESS_SHAPES_SCORE.FIVE\r\n\r\n    result = deeping(chessType, aiChessType, deep, deep, boardGrids)\r\n    if (result) {\r\n      result.val = CHESS_SHAPES_SCORE.FOUR\r\n      return result\r\n    }\r\n    return false\r\n  } else {\r\n    // 计算通过 活三 赢的；\r\n    MAX_SCORE = CHESS_SHAPES_SCORE.THREE\r\n    MIN_SCORE = CHESS_SHAPES_SCORE.BLOCKED_FOUR\r\n    result = deeping(chessType, aiChessType, deep, deep, boardGrids)\r\n    if (result) {\r\n      result.val = CHESS_SHAPES_SCORE.THREE * 2 // 连续冲三赢，就等于是双三\r\n    }\r\n    return result\r\n  }\r\n  return false\r\n}\r\n\r\n// 连续冲四\r\nexport const vcf = (chessType, aiChessType, deep, boardGrids, zobrist) => {\r\n  var c = getCache(true, zobrist)\r\n  if (c) return c\r\n  const result = vcx(chessType, aiChessType, deep, true, boardGrids)\r\n  cache(result, true, zobrist)\r\n  return result\r\n}\r\n\r\n// 连续活三\r\nexport const vct = (chessType, aiChessType, deep, boardGrids, zobrist) => {\r\n  var c = getCache(false, zobrist)\r\n  if (c) return c\r\n  const result = vcx(chessType, aiChessType, deep, false, boardGrids)\r\n  cache(result, false, zobrist)\r\n  return result\r\n}\r\n\r\n// export default {\r\n//   vct: vct,\r\n//   vcf: vcf\r\n// }\r\n","import { BOARD_GRIDS_COUNT, UNKNOWN_VAL } from '../constant'\r\n// import { Random } from \"random-js\";\r\n\r\n  // var z = new Zobrist();\r\n  // z.init();\r\n\r\n  // export default class Zobrist {\r\n  //   constructor(size) {\r\n  //     this.size = size || BOARD_GRIDS_COUNT;\r\n  //     const Random = require(\"random-js\");\r\n  //     this.random = new Random.Random(Random.MersenneTwister19937.autoSeed());\r\n  //   }\r\n\r\n  //   init() {\r\n  //     this.com = [];\r\n  //     this.hum = [];\r\n  //     for (let i = 0; i < this.size * this.size; i++) {\r\n  //       this.com.push(this._rand());\r\n  //       this.hum.push(this._rand());\r\n  //     }\r\n\r\n  //     this.code = this._rand();\r\n  //   }\r\n\r\n  //   _rand() {\r\n  //     return this.random.integer(1, 1000000000); //再多一位就溢出了。。\r\n  //   }\r\n\r\n  //   go(x, y, aiChessType, chessType) {\r\n  //     // console.log(aiChessType, chessType)\r\n  //     const index = this.size * x + y;\r\n  //     this.code ^= chessType == aiChessType ? this.com[index] : this.hum[index];\r\n  //     return this.code;\r\n  //   }\r\n  // }\r\n\r\n  /**\r\n * @fileOverview 采用深度搜索，会面临很多相同的局面，将评估过的局面存入置换表，下次遇到可以直接从表中调取得分。事实上抽象的数据结构是一个哈希表，这里采用 Object 实现，用 Map 会更直观一些，待有时间重构时可能会考虑更改。置换表采用的策略是用内存空间换取CPU计算时间。\r\n */\r\n  /**\r\n * 置换表模块，由 T_Tbale 一个类构成，详见该类\r\n * @module Zobrist\r\n */\r\n  ;('use strict')\r\n/**\r\n * 置换表类\r\n * @see <a href='https://en.wikipedia.org/wiki/Transposition_table'>Transposition_table</a>\r\n */\r\nexport default class Zobrist {\r\n  /**\r\n   * Create a t_table\r\n   * 数据结构方面，散列查找使用哈希表，连续小数据采用数组\r\n   */\r\n  constructor () {\r\n    this.trans_table = new Map()\r\n    this.hash_key = 0\r\n    this.hash_checksum = 0\r\n    this.size = 50e7\r\n    this.hash_lookup = Zobrist.zobristInit()\r\n    this.killTable = []\r\n  }\r\n\r\n  initKillTable () {\r\n    this.killTable = []\r\n  }\r\n\r\n  /**\r\n   * 使用置换表最大的问题是如何设计一套规则表示独特的局面避免冲突，Zobrist 算法是实现之一。该算法首先对棋盘所有位置相应的棋子类型分别生成32位和64位两组随机数，并将所有棋盘上的棋子两组随机数分别相加，32位的随机数%哈希表作为键，64位的随机数作为 checksum，存在值的对象中。之后每走一步就只针对最后一步变化做增量减量计算，可以使用位运算，也可以使用加减（这里是抽象的算法，不涉及语言）。\r\n   * @see <a href='https://en.wikipedia.org/wiki/Zobrist_hashing'>Zobrist Hashing on wiki</a>\r\n   * @returns {Array}\r\n   */\r\n  static zobristInit () {\r\n    const zobrist = []\r\n    for (let i = BOARD_GRIDS_COUNT; i--;) {\r\n      zobrist.push(Array.from({ length: BOARD_GRIDS_COUNT }))\r\n    }\r\n    for (let i = 0; i < BOARD_GRIDS_COUNT; i++) {\r\n      for (let j = 0; j < BOARD_GRIDS_COUNT; j++) {\r\n        zobrist[i][j] = [[], []]\r\n        for (let k = 0; k < 2; k++) {\r\n          zobrist[i][j][k][0] = Math.floor(Math.random() * 10e12)\r\n          zobrist[i][j][k][1] = Math.floor(Math.random() * 10e12)\r\n        }\r\n      }\r\n    }\r\n    return zobrist\r\n  }\r\n\r\n  /**\r\n   * 调用搜索函数前，先计算当前棋盘的哈希值，每次下棋前都对棋盘重新计算，因为只进行一次，代价不会太高，可以少保存一个变量，也可以让玩家下子和AI计算之间的耦合更松，方便悔棋等的操作\r\n   * @param board {array} 当前棋盘\r\n   */\r\n  calculateInitHashKey (board) {\r\n    let stone\r\n    this.hash_key = 0\r\n    this.hash_checksum = 0\r\n    for (let i = 0; i < BOARD_GRIDS_COUNT; i++) {\r\n      for (let j = 0; j < BOARD_GRIDS_COUNT; j++) {\r\n        stone = board[i][j].boardGridType\r\n        if (stone !== 0) {\r\n          this.hash_key += stone\r\n            ? this.hash_lookup[i][j][1][0]\r\n            : this.hash_lookup[i][j][0][0]\r\n          this.hash_checksum += stone\r\n            ? this.hash_lookup[i][j][1][1]\r\n            : this.hash_lookup[i][j][0][1]\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 新下一个棋子，计算新的棋盘哈希值，采用加法计算，JS在位运算时需要转换数值类型，且目前位数超过32位，未采用位运算, 本程序中还加了一层判断，在键相同的同时只有搜索深度相等时才算命中（有的程序采用的是奇偶相同（敌我）算命中），这样会减少一定的命中次数，但相同层数的命中才是更普遍的。而且这样有一个好处即是能够减少冲突，也避免了两个随机数拼接成字符串对性能的影响\r\n   * @param entry {Array}  当前棋子坐标\r\n   * @param board {Array}  当前棋盘\r\n   */\r\n  hashMakeMove (move, board) {\r\n    const { row, col } = move\r\n    const stone = board[row][col].boardGridType\r\n    this.hash_key += stone\r\n      ? this.hash_lookup[row][col][1][0]\r\n      : this.hash_lookup[row][col][0][0]\r\n    this.hash_checksum += stone\r\n      ? this.hash_lookup[row][col][1][1]\r\n      : this.hash_lookup[row][col][0][1]\r\n  }\r\n\r\n  /**\r\n   * AI取消一个棋子\r\n   * @param entry {Array}\r\n   * @param board {Array}\r\n   */\r\n  hashUnMakeMove (move, board) {\r\n    const { row, col } = move\r\n    const stone = board[row][col].boardGridType\r\n    this.hash_key -= stone\r\n      ? this.hash_lookup[row][col][1][0]\r\n      : this.hash_lookup[row][col][0][0]\r\n    this.hash_checksum -= stone\r\n      ? this.hash_lookup[row][col][1][1]\r\n      : this.hash_lookup[row][col][0][1]\r\n  }\r\n\r\n  /**\r\n   * 查看当前局面是否在哈希表中，存储的节点分为三种，即精确计算过的值和剪枝得到的上下边界\r\n   * @param alpha {number}\r\n   * @param beta  {number}\r\n   * @param depth {number}\r\n   * @returns {number}\r\n   */\r\n  lookUpHashTable (alpha, beta, depth) {\r\n    const n = this.hash_key % this.size\r\n    if (this.trans_table.has(n)) {\r\n      // if (!this.trans_table.has(n)) return 404404\r\n      const entry = this.trans_table.get(n)\r\n      // if (entry[3] !== depth) return 404404\r\n      if (entry[0] === this.hash_checksum) {\r\n        if (entry[3] >= depth) {\r\n          switch (entry[1]) {\r\n            case 0: // 确切值\r\n              return entry[2]\r\n            case 1: // lower_bound\r\n              if (entry[2] >= beta) {\r\n                return beta\r\n              }\r\n              break\r\n            case -1: // upper_bound\r\n              if (entry[2] <= alpha) {\r\n                return alpha\r\n              }\r\n              break\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return UNKNOWN_VAL // 不存在，返回一个不在评分范围内的约定值\r\n  }\r\n\r\n  /**\r\n   * 将数据存入哈希表\r\n   * @param type {string}\r\n   * @param value {number}\r\n   * @param depth {number}\r\n   */\r\n  enterHashTable (type, value, depth) {\r\n    const n = this.hash_key % this.size\r\n    this.trans_table.set(n, [this.hash_checksum, type, value, depth])\r\n  }\r\n}\r\n\r\n/** export the instance of T_Table  */\r\n// export let t_table = new T_Table()\r\n","/**\r\n * @fileOverview 历史启发， 简言之在评估节点时，如果该节点引发剪枝，说明先评估该节点可能增加搜索效率，故增加其权重。越靠近根节点引发剪枝的，权重越高。历史启发不像杀手启发那样需要依赖棋类知识。\r\n */\r\n'use strict'\r\n/**\r\n * 历史启发模块，由 History 一个类构成，详见该类\r\n * @module History\r\n */\r\n/**\r\n * 历史启发类\r\n * @see <a href=\"https://chessprogramming.wikispaces.com/History+Heuristic\">History Heuristic</a>\r\n */\r\nexport default class History {\r\n  constructor () {\r\n    /**\r\n     * @type {Array}\r\n     */\r\n    this.history_score = []\r\n    /**\r\n     * @type {Array}\r\n     */\r\n    this.m_TargetBuff = []\r\n  }\r\n\r\n  /**\r\n   * 清除历史得分\r\n   */\r\n  clearHistoryScore () {\r\n    for (let i = 0; i < 15; i++) {\r\n      if (!this.history_score[i]) { this.history_score.push(Array.from({ length: 15 })) }\r\n      for (let j = 0; j < 15; j++) {\r\n        this.history_score[i][j] = 0\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 增加历史得分记录\r\n   */\r\n  enterHistoryScore (move, depth) {\r\n    const { row, col } = move\r\n    this.history_score[row][col] += Math.pow(2, depth)\r\n  }\r\n\r\n  /**\r\n   * 获取历史得分\r\n   * @param pos {Array}\r\n   */\r\n  getHistoryScore (move) {\r\n    const { row, col } = move\r\n    return this.history_score[row][col]\r\n  }\r\n\r\n  // 以下几个函数排序用，采用的是归并排序 mergeSort 供外部调用，实际上棋盘上一共才225个位置，而且限定了走法范围，排序数组远小于这个规模，冒泡排序问题不大，看到有资料用这个，用来试试\r\n  static mergeAZ (source, target, l, m, r) {\r\n    let i = l\r\n\r\n    let j = m + 1\r\n\r\n    let k = l\r\n    while (i <= m && j <= r) {\r\n      if (source[i].score <= source[j].score) {\r\n        target[k++] = source[i++]\r\n      } else {\r\n        target[k++] = source[j++]\r\n      }\r\n    }\r\n    if (i > m) {\r\n      for (let q = j; q <= r; q++) {\r\n        target[k++] = source[q]\r\n      }\r\n    } else {\r\n      for (let q = i; q <= m; q++) {\r\n        target[k++] = source[q]\r\n      }\r\n    }\r\n  }\r\n\r\n  static mergeZA (source, target, l, m, r) {\r\n    let i = l\r\n\r\n    let j = m + 1\r\n\r\n    let k = l\r\n    while (i <= m && j <= r) {\r\n      if (source[i].score >= source[j].score) {\r\n        target[k++] = source[i++]\r\n      } else {\r\n        target[k++] = source[j++]\r\n      }\r\n    }\r\n    if (i > m) {\r\n      for (let q = j; q <= r; q++) {\r\n        target[k++] = source[q]\r\n      }\r\n    } else {\r\n      for (let q = i; q <= m; q++) {\r\n        target[k++] = source[q]\r\n      }\r\n    }\r\n  }\r\n\r\n  static mergePass (source, target, s, n, direction) {\r\n    let i = 0\r\n    while (i <= n - 2 * s) {\r\n      if (direction) {\r\n        this.mergeAZ(source, target, i, i + s - 1, i + 2 * s - 1)\r\n      } else {\r\n        this.mergeZA(source, target, i, i + s - 1, i + 2 * s - 1)\r\n      }\r\n      i = i + 2 * s\r\n    }\r\n    if (i + s < n) {\r\n      if (direction) {\r\n        this.mergeAZ(source, target, i, i + s - 1, n - 1)\r\n      } else {\r\n        this.mergeZA(source, target, i, i + s - 1, n - 1)\r\n      }\r\n    } else {\r\n      for (let j = i; j <= n - 1; j++) {\r\n        target[j] = source[j]\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 供调用的排序API\r\n   * @param source\r\n   * @param n\r\n   * @param direction\r\n   */\r\n  mergeSort (source, n, direction) {\r\n    let s = 1\r\n    while (s < n) {\r\n      History.mergePass(source, this.m_TargetBuff, s, n, direction)\r\n      s += s\r\n      History.mergePass(this.m_TargetBuff, source, s, n, direction)\r\n      s += s\r\n    }\r\n  }\r\n}\r\n/**\r\n * @type {H_Heuristic}\r\n */\r\n// export let h_heuristic = new H_Heuristic()\r\n","import {\r\n  BOARD_GRIDS_COUNT,\r\n  INFINITY\r\n} from '../constant'\r\n\r\nimport { evaluateSingleChessShapes, evaluateAllChessShapes } from './evaluate'\r\n\r\nimport { getSingleChessShapesCount } from './situation'\r\nimport { CHESS_CROSS_SHAPES } from './chessShape'\r\n\r\nimport { negamax, minimax, alphaBeta, generateLegalMoves, searchAll } from './search'\r\nimport Zobrist from './zobrist'\r\nimport History from './history'\r\n\r\n/*\r\n  AI\r\n  结合搜索、评估后的结果，得出下回合棋子位置\r\n*/\r\nexport default class AI {\r\n  constructor () {\r\n    this.zobrist = new Zobrist()\r\n    this.history = new History()\r\n  }\r\n\r\n  initAI (gameBoard) {\r\n    this.history.clearHistoryScore()\r\n    this.zobrist.calculateInitHashKey(gameBoard.boardGrids)\r\n    this.zobrist.initKillTable()\r\n    // console.log(this.zobrist.code)\r\n  }\r\n\r\n  getNextStep (chessType, gameBoard, gameHumanPlayerSteps, gameAIPlayerSteps) {\r\n    // return {row: , col: }\r\n    // const { row, col } = this.getNextStep()\r\n\r\n    // let row = Math.round(Math.random() * 14)\r\n    // let col = Math.round(Math.random() * 14)\r\n    // while (gameBoard.boardGrids[row][col].boardGridType !== 0) {\r\n    //   row = Math.round(Math.random() * 14)\r\n    //   col = Math.round(Math.random() * 14)\r\n    // }\r\n    // return {row, col}\r\n\r\n    // const board_scores = [\r\n    //   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    //   [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n    //   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n    //   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n    //   [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n    //   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    // ]\r\n    // let arr = []\r\n    // for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n    //   for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n    //     // const old = gameBoard.boardGrids[row][col].boardGridType\r\n    //     if (gameBoard.boardGrids[row][col].boardGridType === 0) {\r\n    //       gameBoard.boardGrids[row][col].boardGridType = 2\r\n    //       // console.log(evaluateSingleChessShapes(2, gameBoard.boardGrids, {row, col}))\r\n    //       arr.push({ score: evaluateSingleChessShapes(2, gameBoard.boardGrids, { row, col }) + board_scores[row][col], row, col })\r\n    //       gameBoard.boardGrids[row][col].boardGridType = 0\r\n    //     } else {\r\n    //       arr.push(0)\r\n    //     }\r\n    //   }\r\n    // }\r\n    // arr.sort((a, b) => {\r\n    //   return b.score - a.score\r\n    // })\r\n    // console.log(arr)\r\n    // return { row: arr[0].row, col: arr[0].col }\r\n\r\n    // console.log(getLegalMoves(gameBoard.boardGrids))\r\n    // const board_scores = [\r\n    //   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    //   [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n    //   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 5, 5, 5, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 7, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 6, 6, 6, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 5, 5, 5, 5, 5, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 1, 0],\r\n    //   [0, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0],\r\n    //   [0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],\r\n    //   [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    // ]\r\n    // let arr = []\r\n    // for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n    //   for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n    //     if (gameBoard.boardGrids[row][col].boardGridType === 0) {\r\n    //       gameBoard.boardGrids[row][col].boardGridType = 2\r\n    //       arr.push({ score: evaluateAllChessShapes(2, gameBoard.boardGrids) + board_scores[row][col], row, col })\r\n    //       gameBoard.boardGrids[row][col].boardGridType = 0\r\n    //     } else {\r\n    //       arr.push({ score: -1, row, col })\r\n    //       // arr.push(0)\r\n    //     }\r\n    //   }\r\n    // }\r\n    // arr.sort((a, b) => {\r\n    //   return b.score - a.score\r\n    // })\r\n    // console.log(arr)\r\n    // return { row: arr[0].row, col: arr[0].col }\r\n\r\n    // let arr = []\r\n    // const legalMoves = generateLegalMoves(gameBoard.boardGrids)\r\n    // for (let index = 0; index < legalMoves.length; index++) {\r\n    //   gameBoard.boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 2\r\n    //   arr.push({ score: minimax(1, 2, gameBoard.boardGrids), row: legalMoves[index].row, col: legalMoves[index].col })\r\n    //   gameBoard.boardGrids[legalMoves[index].row][legalMoves[index].col].boardGridType = 0\r\n    // }\r\n    // arr.sort((a, b) => {\r\n    //   return b.score - a.score\r\n    // })\r\n    // console.log(arr)\r\n    // return { row: arr[0].row, col: arr[0].col }\r\n\r\n    // const { row, col } = minimax(1, chessType, gameBoard.boardGrids)\r\n    // const { row, col } = negamax(2, chessType, gameBoard.boardGrids)\r\n\r\n    // 在几个相同的最高分数位置中随机选择一个\r\n    // 位置随机 需要在ab搜索外层加一层循环  单独搜索第一层的每个点 然后分别计算价值  比较消耗性能  暂时不考虑做随机\r\n    // 后期可以考虑引入一些开局 做成开局库   ai前几手随机使用固定的开局即可\r\n    // let bestPositions = []\r\n    // bestPositions = alphaBeta(6, -INFINITY, INFINITY, chessType, chessType, gameBoard.boardGrids, gamePlayerSteps).bestPositions\r\n    // const { row, col } = bestPositions[Math.floor(bestPositions.length * Math.random())]\r\n    // console.log(bestPositions.sort((a, b) => { return b.val - a.val }))\r\n\r\n    // 储存搜索到的所有最大值节点  随机选择一个  避免ai重复相同的局面位置\r\n    // 悔棋\r\n    // 复盘功能 （可以向前悔棋、向后下棋）\r\n    // 判断输赢 平局\r\n    // 优化重构现有代码\r\n    // 加入测试逻辑的代码  测试ab剪枝搜索的结果\r\n    // 实现迭代加深\r\n    // 增量式估值\r\n\r\n    // 进度条 （或者显示搜索了多少局面节点、花费的时间）\r\n    // 确认、取消 模拟放置棋子的功能\r\n\r\n    // console.log('--------', getSingleChessShapesCount(['211111'], CHESS_CROSS_SHAPES))\r\n    // const { row, col } = minimax(4, gameBoard.boardGrids, chessType)\r\n\r\n    // return alphaBeta(6, -INFINITY, INFINITY, chessType, chessType, gameBoard.boardGrids, gamePlayerSteps)\r\n\r\n    // 每次搜索前初始化历史表与置换表\r\n    this.initAI(gameBoard)\r\n    return searchAll(chessType, chessType, gameBoard.boardGrids, gameHumanPlayerSteps, gameAIPlayerSteps, this.zobrist, this.history)\r\n  }\r\n}\r\n","import Canvas from './canvas'\r\nimport Scene from './scene'\r\nimport Board from './board'\r\nimport Player from './player'\r\nimport AI from './ai/ai'\r\nimport { checkChessShape, calculateSingleChessShapes } from './ai/situation'\r\nimport {\r\n  CHESS_TYPE_CROSS,\r\n  CHESS_TYPE_CIRCLE,\r\n  BOARD_GRIDS_COUNT,\r\n  BOARD_GRID_TYPE_DEFAULT,\r\n  BOARD_GRID_MIN_SIZE,\r\n  BOARD_GRID_RESIZE_COUNT,\r\n  BOARD_GRID_MAX_SIZE,\r\n  PLAYER_TYPE_HUMAN,\r\n  PLAYER_TYPE_AI,\r\n  SCREEN_WIDTH_RANGE,\r\n  BOARD_GRID_DEFAULT_SIZE\r\n} from './constant'\r\n\r\n/**\r\n * 游戏主体控制类\r\n * 初始化棋盘、棋子，定义游戏相关属性、方法\r\n * 本五子棋采用无禁手的原始规则（Free-style），规则具体细节可参考wiki\r\n */\r\nexport default class Game {\r\n  constructor () {\r\n    // 创建画布\r\n    this.gameCanvas = new Canvas()\r\n    // 创建场景\r\n    this.gameScene = new Scene()\r\n    // 创建棋盘\r\n    this.gameBoard = new Board()\r\n    // 创建AI\r\n    this.gameAI = new AI()\r\n  }\r\n\r\n  initGame (boardGridSize) {\r\n    // 是否开始游戏\r\n    // this.isGameStart = false\r\n    // 是否结束游戏\r\n    // this.isGameEnd = false\r\n  }\r\n\r\n  initGamePlayer (humanPlayerChessType, aiPlayerChessType) {\r\n    // 创建人类玩家\r\n    this.gameHumanPlayer = new Player(\r\n      PLAYER_TYPE_HUMAN,\r\n      humanPlayerChessType,\r\n      false\r\n    )\r\n    // 创建AI玩家 默认AI为 circle 棋子\r\n    this.gameAIPlayer = new Player(PLAYER_TYPE_AI, aiPlayerChessType, false)\r\n  }\r\n\r\n  createGame () {\r\n    console.log('game start')\r\n    // 初始化游戏状态\r\n    this.gameStatus = true\r\n    // 计算游戏初识棋格大小\r\n    const boardGridSize = this.calculateBoardGridSize()\r\n    // 初始化游戏画布\r\n    this.initGameCanvas(boardGridSize)\r\n    // 初始化游戏棋盘\r\n    this.initGameBoard(boardGridSize)\r\n    // 初始化游戏玩家 默认人类玩家为 cross 棋子\r\n    this.initGamePlayer(CHESS_TYPE_CROSS, CHESS_TYPE_CIRCLE)\r\n    // 初始化游戏场景\r\n    this.initGameScene(boardGridSize)\r\n    // 添加场景监听器\r\n    this.addGameSceneListener()\r\n    // 添加棋盘监听器\r\n    this.addBoardListener()\r\n    // 初始化棋子储存器  保存玩家和AI的每一步棋子  可以获取步数\r\n    this.gameHumanPlayerSteps = []\r\n    this.gameAIPlayerSteps = []\r\n    // 初始化游戏AI\r\n    this.initGameAI()\r\n  }\r\n\r\n  initGameAI () {\r\n    this.gameAI.initAI(this.gameBoard)\r\n  }\r\n\r\n  initGameScene (boardGridSize) {\r\n    // 初始化场景\r\n    this.gameScene.initScene(boardGridSize)\r\n  }\r\n\r\n  initGameCanvas (boardGridSize) {\r\n    // 获取棋盘大小\r\n    const boardSize = this.gameBoard.getBoardSize(boardGridSize)\r\n    // 设置画布大小\r\n    this.gameCanvas.setCanvasSize(boardSize)\r\n  }\r\n\r\n  initGameBoard (boardGridSize) {\r\n    this.gameBoard.initBoardGrids(\r\n      boardGridSize,\r\n      this.gameCanvas.context\r\n    )\r\n  }\r\n\r\n  /**\r\n   * 添加场景监听器\r\n   */\r\n  addGameSceneListener () {\r\n    // 添加选择棋子监听器\r\n    this.addGameSceneChessListener()\r\n    // 添加缩放棋盘监听器\r\n    this.addGameSceneResizeListener()\r\n  }\r\n\r\n  addGameSceneChessListener () {\r\n    this.addGameSceneChessCrossListener()\r\n    this.addGameSceneChessCircleListener()\r\n  }\r\n\r\n  addGameSceneChessCrossListener () {\r\n    document.querySelector('#cross').addEventListener(\r\n      'click',\r\n      () => {\r\n        this.gameStatus = true\r\n        this.gameHumanPlayerSteps = []\r\n        this.gameAIPlayerSteps = []\r\n        this.gameBoard.resetBoardGrids(this.gameCanvas.context)\r\n        this.initGamePlayer(CHESS_TYPE_CROSS, CHESS_TYPE_CIRCLE)\r\n        this.initGameAI()\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  addGameSceneChessCircleListener () {\r\n    document.querySelector('#circle').addEventListener(\r\n      'click',\r\n      () => {\r\n        this.gameStatus = true\r\n        this.gameHumanPlayerSteps = []\r\n        this.gameAIPlayerSteps = []\r\n        this.gameBoard.resetBoardGrids(this.gameCanvas.context)\r\n        this.initGamePlayer(CHESS_TYPE_CIRCLE, CHESS_TYPE_CROSS)\r\n        this.initGameAI()\r\n        this.gameAIPlayer.generatePlayerChess(this.gameBoard.boardGrids, this.getGameAIFistStep(), this.gameCanvas.context, this.gameHumanPlayerSteps, this.gameAIPlayerSteps, this.gameAI, this.gameAIPlayer.playerChessType)\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  getGameAIFistStep () {\r\n    // AI玩家先手，默认让AI落子到中心位置 （以后换成花月、浦月等固定开局，从开局库读取）\r\n    const row = (BOARD_GRIDS_COUNT - 1) / 2\r\n    const col = (BOARD_GRIDS_COUNT - 1) / 2\r\n    // return this.gameBoard.boardGrids[row][col]\r\n    \r\n    // return { row: 8, col: 8 }\r\n    return { row, col }\r\n  }\r\n\r\n  addGameSceneResizeListener () {\r\n    this.addGameSceneZoomOutListener()\r\n    this.addGameSceneZoomInListener()\r\n  }\r\n\r\n  addGameSceneZoomOutListener () {\r\n    document.querySelector('#zoomout').addEventListener(\r\n      'click',\r\n      event => {\r\n        // 获取旧的棋格大小\r\n        const oldBoardGridSize = this.gameBoard.boardGrids[0][0].boardGridSize\r\n        const { newBoardGridSize, newBoardSize } = this.getGameSize(\r\n          oldBoardGridSize,\r\n          BOARD_GRID_RESIZE_COUNT\r\n        )\r\n        if (oldBoardGridSize <= BOARD_GRID_MAX_SIZE) {\r\n          // 重设游戏场景\r\n          this.resizeGame(\r\n            newBoardGridSize,\r\n            newBoardSize,\r\n            BOARD_GRID_RESIZE_COUNT\r\n          )\r\n        }\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  addGameSceneZoomInListener () {\r\n    document.querySelector('#zoomin').addEventListener(\r\n      'click',\r\n      event => {\r\n        const oldBoardGridSize = this.gameBoard.boardGrids[0][0].boardGridSize\r\n        const { newBoardGridSize, newBoardSize } = this.getGameSize(\r\n          oldBoardGridSize,\r\n          -BOARD_GRID_RESIZE_COUNT\r\n        )\r\n        if (oldBoardGridSize >= BOARD_GRID_MIN_SIZE) {\r\n          this.resizeGame(\r\n            newBoardGridSize,\r\n            newBoardSize,\r\n            -BOARD_GRID_RESIZE_COUNT\r\n          )\r\n        }\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  getGameSize (oldBoardGridSize, resizeCount) {\r\n    // 计算新的棋格大小\r\n    const newBoardGridSize = oldBoardGridSize + resizeCount\r\n    // 重新获取棋盘大小\r\n    const newBoardSize = this.gameBoard.getBoardSize(newBoardGridSize)\r\n    return { newBoardGridSize, newBoardSize }\r\n  }\r\n\r\n  resizeGame (newBoardGridSize, newBoardSize, resizeCount) {\r\n    // 重新设置画布大小\r\n    this.gameCanvas.setCanvasSize(newBoardSize)\r\n    // 重新绘制场景元素\r\n    this.gameScene.drawSceneEle(newBoardGridSize, resizeCount)\r\n    // 重设棋格与棋子\r\n    this.gameBoard.resizeBoardGrids(\r\n      newBoardGridSize,\r\n      this.gameCanvas.context\r\n    )\r\n  }\r\n\r\n  /**\r\n   * 监听棋盘\r\n   */\r\n  addBoardListener () {\r\n    this.gameCanvas.canvas.addEventListener(\r\n      'click',\r\n      event => {\r\n        if (this.gameStatus) {\r\n          this.onClickBoard(event)\r\n        } else {\r\n          alert('The game is over, please restart the game!')\r\n        }\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  onClickBoard (event) {\r\n    for (let row = 0; row < BOARD_GRIDS_COUNT; row++) {\r\n      for (let col = 0; col < BOARD_GRIDS_COUNT; col++) {\r\n        const boardGrid = this.gameBoard.boardGrids[row][col]\r\n        if (\r\n          boardGrid.isInBoardGird(event.clientX, event.clientY, this.gameCanvas)\r\n        ) {\r\n          if (boardGrid.boardGridType !== BOARD_GRID_TYPE_DEFAULT) {\r\n            return\r\n          }\r\n          const humanNextStep = { row, col }\r\n          this.gameHumanPlayer.generatePlayerChess(this.gameBoard.boardGrids, humanNextStep, this.gameCanvas.context, this.gameHumanPlayerSteps, this.gameAIPlayerSteps, this.gameAI, this.gameAIPlayer.playerChessType)\r\n          this.checkGameStatus(this.gameHumanPlayer.playerChessType, this.gameHumanPlayer.playerType, humanNextStep)\r\n          if (this.gameStatus) {\r\n            // 调用AI类 获取AI计算后的落棋位置\r\n            const aiNextStep = this.getGameAINextStep()\r\n            this.gameAIPlayer.generatePlayerChess(this.gameBoard.boardGrids, aiNextStep, this.gameCanvas.context, this.gameHumanPlayerSteps, this.gameAIPlayerSteps, this.gameAI, this.gameAIPlayer.playerChessType)\r\n            this.checkGameStatus(this.gameAIPlayer.playerChessType, this.gameAIPlayer.playerType, aiNextStep)\r\n          }\r\n          return\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  checkGameStatus (playerChessType, playerType, position) {\r\n    // 判断当前玩家是否胜利\r\n    // 判断当前玩家的棋子形成的棋型是否连成长连\r\n    // 如果当前玩家取得胜利 游戏结束\r\n    if (calculateSingleChessShapes(playerChessType, this.gameBoard.boardGrids, position)['FIVE'] !== 0) {\r\n      this.gameStatus = false\r\n      if (playerType === PLAYER_TYPE_HUMAN) {\r\n        // 如果是人类玩家\r\n        // 绘制 you win 文字\r\n        alert('You win!')\r\n      } else if (playerType === PLAYER_TYPE_AI) {\r\n        // 如果AI玩家\r\n        // 绘制 you lose 文字\r\n        alert('You lose!')\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n\r\n  getGameAINextStep () {\r\n    // 调用AI模块获取下一步的棋格位置\r\n    const { row, col } = this.gameAI.getNextStep(this.gameAIPlayer.playerChessType, this.gameBoard, this.gameHumanPlayerSteps, this.gameAIPlayerSteps)\r\n    return { row, col }\r\n  }\r\n\r\n  calculateBoardGridSize () {\r\n    // 计算游戏棋格相关属性\r\n    let boardGridSize = BOARD_GRID_DEFAULT_SIZE\r\n    // 根据当前屏幕宽度来动态适配棋格大小\r\n    const clientWidth = document.body.clientWidth\r\n    const sizes = [\r\n      BOARD_GRID_DEFAULT_SIZE - BOARD_GRID_RESIZE_COUNT,\r\n      BOARD_GRID_DEFAULT_SIZE - BOARD_GRID_RESIZE_COUNT,\r\n      BOARD_GRID_DEFAULT_SIZE - BOARD_GRID_RESIZE_COUNT * 2,\r\n      BOARD_GRID_DEFAULT_SIZE - BOARD_GRID_RESIZE_COUNT * 3,\r\n      BOARD_GRID_DEFAULT_SIZE - BOARD_GRID_RESIZE_COUNT * 4\r\n    ]\r\n    for (let i = 0; i < sizes.length; i++) {\r\n      if (clientWidth < SCREEN_WIDTH_RANGE[i]) {\r\n        boardGridSize = sizes[i]\r\n      }\r\n    }\r\n    return boardGridSize\r\n  }\r\n\r\n  startGame () {}\r\n}\r\n","// 导入游戏模块\r\nimport Game from './game.js'\r\n\r\n// css文件可以直接引入\r\nimport '../asset/style/index.css'\r\nimport '../asset/iconfont/iconfont.css'\r\n\r\n// canvas标签可以动态加载\r\n\r\n;(() => {\r\n  window.onload = () => {\r\n    // 创建游戏\r\n    const game = new Game()\r\n    game.createGame()\r\n  }\r\n})()\r\n"],"sourceRoot":""}